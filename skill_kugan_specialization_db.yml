###########################################################################
##-----------------------------------------------------------------------##
## Database from					   	                         ##
##       	  ___  ___          _   _           _____                    ##
##        	 |  \/  |         | | (_)         |  ___|                    ##
##        	 | .  . |_   _ ___| |_ _  ___     |___ \                     ##
##        	 | |\/| | | | / __| __| |/ __|        \ \                    ##
##        	 | |  | | |_| \__ \ |_| | (_      /\__/ /                    ##
##        	 \_|  |_/\__, |___/\__|_|\___|    \____/                     ##
##              	    __/ |                                              ##
##     Lutie   		    |___/                       Grenat        	 ##
##                   	      DARO (2020)                      	   	 ##
##	   Mystic Project 5 - Divine Ascension Ragnarok Online      	 ##
##-----------------------------------------------------------------------##
###########################################################################
# Kugan Skill Database
###########################################################################
Header:
  Type: SKILL_DB
  Version: 3
Body:
###########################################################################
# Kugan Specializations
###########################################################################
  - Id: 4000
    Name: SPE_0
    Description: Steel Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15361",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4001
    Name: SPE_0_1
    Description: Steel Bash
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_BASH")) {
        bonus2 bSkillAtk,"SM_BASH",3*@sklv;
        bonus2 bSkillUseSPrate,"SM_BASH",-5*@sklv;
      } else
        callfunc "GetSkill","SM_BASH",2*@sklv,@sklv,5,1;
  - Id: 4002
    Name: SPE_0_2
    Description: Steel Magnum
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_MAGNUM")) {
        callfunc("skill_kugan_bonus","SM_MAGNUM",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"SM_MAGNUM",4002;
      }
      else
        callfunc "GetSkill","SM_MAGNUM",2*@sklv,@sklv,7,1;
  - Id: 4003
    Name: SPE_0_3
    Description: Steel Provocation
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_PROVOCATION",@sklv,"npc");
      callfunc "GetSkill","NPC_PROVOCATION",@sklv,@sklv,0,0;
      if(isskillintree("SM_PROVOKE"))
        bonus4 bSkillScript,2000*@sklv,NO_COOLDOWN,"NPC_PROVOCATION",4003;
  - Id: 4004
    Name: SPE_0_4
    Description: Steel Weak
    MaxLevel: 5
    SkillAttached: SM_FATALBLOW
    Script: >
      callfunc "GetSkill","SM_FATALBLOW",@sklv,@sklv,@sklv,0,0;
  - Id: 4005
    Name: SPE_0_5
    Description: Steel Endure
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_ENDURE"))
        bonus2 bSkillCooldown,"SM_ENDURE",-@sklv*1000;
      else
        callfunc "GetSkill","SM_ENDURE",2*@sklv,@sklv,0,1;
  - Id: 4006
    Name: SPE_0_6
    Description: Steel Stance
    MaxLevel: 5
    Script: >
      .@lv = @sklv;
      if (.@lv) {
        if(getiteminfo(getequipid(EQI_HAND_R),5) == 34) {
          bonus bAtk,3*.@lv;
          bonus bMatk,3*.@lv;
        } else if(getiteminfo(getequipid(EQI_HAND_L),5) == 32 && getiteminfo(getequipid(EQI_HAND_L),8)) {
          bonus bDefRate,2*.@lv;
          bonus bMDefRate,2*.@lv;
        } else if(getiteminfo(getequipid(EQI_HAND_L),5) == 32 && getiteminfo(getequipid(EQI_HAND_L),8) == 0) {
          bonus bSecondHandStrikeRate,100*.@lv;
        } else if(getiteminfo(getequipid(EQI_HAND_R),5) == 2 && getiteminfo(getequipid(EQI_HAND_L),5) == 2) {
          bonus bDoubleAddRate,.@lv;
          bonus bAspdRate,.@lv;
        } else {
          bonus bFleePhysical,2*.@lv;
          bonus bFleeMagical,2*.@lv;
          bonus bFleeSpecial,2*.@lv;
        }
      }

  - Id: 4007
    Name: SPE_0_7
    Description: Steel Perfection
    MaxLevel: 5
    Script: >
      bonus bAtk,getiteminfo(getequipid(EQI_HAND_R),7)*2*@sklv/100;
      bonus bHit,@sklv*5*1000/(1000 + getiteminfo(getequipid(EQI_HAND_R),6));
      bonus2 bStuffResistRate,EQP_WEAPON,(@sklv*getiteminfo(getequipid(EQI_HAND_R),6))/1000;
  - Id: 4008
    Name: SPE_0_8
    Description: Steel Excellence
    MaxLevel: 5
    Script: >
      if (@sklv) {
        .@wtype = getiteminfo(getequipid(EQI_HAND_R),11);
        .@rate = 10*@sklv;
        switch(.@wtype) {
          default: .@status = SC_STUN; .@duration = 3000; .@rate = .@rate * getskilllv("MO_IRONHAND"); break;
          case 1: .@status = SC_POISON; .@duration = 7000; .@rate = .@rate * getskilllv("SM_SWORD"); break;
          case 2: case 3: .@status = SC_BLEEDING; .@duration = 7000; .@rate = .@rate * getskilllv("SM_SWORD"); break;
          case 4: case 5: .@status = SC_SILENCE; .@duration = 5000; .@rate = .@rate * getskilllv("KN_SPEARMASTERY"); break;
          case 6: case 7: .@status = SC_CRACK; .@duration = 5000; .@rate = .@rate * getskilllv("AM_AXEMASTERY"); break;
          case 8: case 9: .@status = SC_BRAKE; .@duration = 5000; .@rate = .@rate * getskilllv("PR_MACEMASTERY"); break;
          case 13: .@status = SC_SLEEP; .@duration = 3000; .@rate = .@rate * getskilllv("BA_MUSICALLESSON"); break;
          case 14: .@status = SC_CONFUSION; .@duration = 5000; .@rate = .@rate * getskilllv("DC_DANCINGLESSON"); break;
          case 15: .@status = SC_CURSE; .@duration = 5000; .@rate = .@rate * getskilllv("SA_ADVANCEDBOOK"); break;
          case 16: .@status = SC_WEAK; .@duration = 5000; .@rate = .@rate * getskilllv("AS_KATAR"); break;
        }
        bigbonus bBattleBonus,(.@rate+1),.@status,ALWAYS,0,0,0,0,.@duration,SCSTART_NORATEDEF,NO_DAMAGE,NO_DAMAGE,NO_MODE,0,NO_OPTION,0,EV_ON_HIT,BF_WEAPON,TG_TARGET;
      }
  - Id: 4009
    Name: SPE_0_9
    Description: Steel Preparation
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    LPCost: 6
    Visual1: 1413
    Visual2: 0
    Script: >
      if (getstatus(SC_SPE_4009)) {
        .@wtype = getiteminfo(getequipid(EQI_HAND_R),11);
        switch(.@wtype) {
          default: .@event = EV_WHEN_HIT; .@rate = getskilllv("MO_IRONHAND")/2; .@mode += DMG_STR|DMG_DEX; break;
          case 1: .@event = EV_ON_HIT; .@rate = getskilllv("SM_SWORD"); .@options = DEF_RINT; break;
          case 2: .@event = EV_ON_HIT; .@rate = getskilllv("SM_SWORD"); .@options = DEF_RDEX; break;
          case 3: .@event = EV_WHEN_HIT; .@rate = getskilllv("SM_SWORD"); .@options = DEF_RDEX; .@mode += DMG_HPLOST; break;
          case 4: .@event = EV_ON_HIT; .@rate = getskilllv("KN_SPEARMASTERY"); .@options = DEF_RAGI; break;
          case 5: .@event = EV_WHEN_HIT; .@rate = getskilllv("KN_SPEARMASTERY"); .@options = DEF_RAGI; .@mode += DMG_HPLOST; break;
          case 6: .@event = EV_ON_HIT; .@rate = getskilllv("AM_AXEMASTERY"); .@options = DEF_RVIT;  break;
          case 7: .@event = EV_WHEN_HIT; .@rate = getskilllv("AM_AXEMASTERY"); .@options = DEF_RVIT; .@mode += DMG_HPLOST; break;
          case 8: .@event = EV_ON_HIT; .@rate = getskilllv("PR_MACEMASTERY"); .@options = DEF_RSTR;  break;
          case 9: .@event = EV_WHEN_HIT; .@rate = getskilllv("PR_MACEMASTERY"); .@options = DEF_RSTR; .@mode += DMG_HPLOST; break;
          case 10: .@event = EV_ON_HIT; .@rate = getskilllv("MG_SRECOVERY"); .@mode += DMG_MATK; break;
          case 11: case 17: case 18: case 19: case 20: case 21: case 22: .@event = EV_ON_HIT; .@rate = 5; .@options = DEF_RLUK; break;
          case 13: .@event = EV_ON_HIT; .@rate = getskilllv("BA_MUSICALLESSON"); .@options = DEF_RMDEF; break;
          case 14: .@event = EV_ON_HIT; .@rate = getskilllv("DC_DANCINGLESSON"); .@options = DEF_RDEF; break;
          case 15: .@event = EV_WHEN_HIT; .@rate = getskilllv("SA_ADVANCEDBOOK"); .@options = DEF_RINT; break;
          case 16: .@event = EV_ON_HIT; .@rate = getskilllv("AS_KATAR"); .@options = DEF_RLUK; .@mode = DMG_CRI; break;
          case 23: .@event = EV_WHEN_HIT; .@rate = getskilllv("MG_SRECOVERY"); .@mode += DMG_MATK; .@mode = DMG_SPLOST; break;
        }
        if (.@rate > 10)
          .@rate = 10 + (.@rate - 10) / 2;
        .@rate = .@rate * 10 * @sklv;
        bigbonus bBattleBonus,10000,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,.@rate,.@mode|DMG_ATK2,ELE_WEAPON,.@options|DEF_DEF|DEF_MOB|DEF_CANCRIT,NO_STATUS,.@event,BF_WEAPON,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_SPE_4009,CDT_SELF|CDT_ONCE;
      }
  - Id: 4010
    Name: SPE_1
    Description: Brawl Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","13631",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4011
    Name: SPE_1_1
    Description: Brawl Bash
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_BASH")) {
        bonus2 bSkillUseSPrate,"SM_BASH",-5*@sklv;
        bonus3 bAddEffOnSkill,"SM_BASH",Eff_Stun,300*@sklv;
      }
      else
        callfunc "GetSkill","SM_BASH",2*@sklv,2*@sklv,5,1;
  - Id: 4012
    Name: SPE_1_2
    Description: Brawl Endure
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_ENDURE")) {
        bonus2 bSkillCount,0,@sklv*10;
        bonus2 bSkillUseSPrate,"SM_ENDURE",-20*@sklv;
      } else
        callfunc "GetSkill","SM_ENDURE",2*@sklv,2*@sklv,0,1;
  - Id: 4013
    Name: SPE_1_3
    Description: Brawl Recovery
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_RECOVERY"))
        bonus bHPrecovRate,20*@sklv;
      else
        callfunc "GetSkill","SM_RECOVERY",2*@sklv,@sklv,0,0;
  - Id: 4014
    Name: SPE_1_4
    Description: Brawl Provoke
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_PROVOKE")) {
        bonus2 bSkillUseSP,"SM_ENDURE",-3*@sklv;
        bonus4 bSkillScript,ALWAYS,7000,6,4014;
      } else
        callfunc "GetSkill","SM_PROVOKE",2*@sklv,@sklv,0,1;
  - Id: 4015
    Name: SPE_1_5
    Description: Brawl Skin
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_STONESKIN",@sklv,"npc");
      callfunc "GetSkill","NPC_STONESKIN",@sklv,@sklv,0,0;
      if(isskillintree("SM_ENDURE") && getstatus(SC_ARMORCHANGE)) {
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,40*@sklv,DMG_ATK,Ele_Neutral,DEF_DEF,NO_STATUS,EV_WHEN_HIT,BF_WEAPON,TG_TARGET,NO_COOLDOWN,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION;        
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,10*@sklv,DMG_ATK|DMG_HEAL,0,NO_DEF,NO_STATUS,EV_WHEN_HIT,BF_WEAPON,TG_SELF,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION;        
      }
  - Id: 4016
    Name: SPE_1_6
    Description: Brawl Tension
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_TENSIONRELAX"))
        bigbonus bBattleBonus,ALWAYS,SC_BUFF_DEF,ALWAYS,0,3*@sklv,0,0,7000,NO_OPTION,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_SELF,0,NO_VISUAL,0,0,33,TG_SELF,TH_LOWER,TH_CHECK_HP,NO_STATUS,NO_OPTION;
      else
        callfunc "GetSkill","LK_TENSIONRELAX",@sklv,@sklv,0,1;
  - Id: 4017
    Name: SPE_1_7
    Description: Brawl Resilience
    MaxLevel: 5
    Script: >
      bonus bCriticalDef,@sklv*4;
  - Id: 4018
    Name: SPE_1_8
    Description: Brawl Armor
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,200*@sklv,NO_STATUS,NEVER,0,0,0,0,NO_DURATION,NO_OPTION,BaseLevel,100,DMG_HEAL|DMG_HPLOST|DMG_CANCRIT|DMG_VIT|DMG_DEF,0,NO_OPTION,0,EV_WHEN_HIT,BF_NONE,TG_SELF,1000,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_OPTION;
      bigbonus bBattleBonus,200*@sklv,NO_STATUS,NEVER,0,0,0,0,NO_DURATION,NO_OPTION,(BaseLevel/15),100,DMG_HEAL|DMG_SPLOST|DMG_CANCRIT|DMG_INT|DMG_MDEF,0,DEF_SP,0,EV_WHEN_HIT,BF_NONE,TG_SELF,1000,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_OPTION;
  - Id: 4019
    Name: SPE_1_9
    Description: Brawl Counter
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    LPCost: 10
    Visual1: 1414
    Script: >
      if (getstatus(SC_SPE_4019))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,NEVER,0,0,0,0,NO_DURATION,NO_OPTION,0,(@sklv*25+25),DMG_ATK|DMG_HPLOST,ELE_WEAPON,DEF_MOB|DEF_HPLEFT,0,EV_WHEN_HIT,BF_WEAPON|BF_SHORT,TG_TARGET,0,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,CDT_SELF;
  - Id: 4020
    Name: SPE_2
    Description: Arcane Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4021
    Name: SPE_2_1
    Description: Arcane Sight
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SIGHT"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,10,4021;
      else
        callfunc "GetSkill","MG_SIGHT",@sklv,@sklv,0,1;
  - Id: 4022
    Name: SPE_2_2
    Description: Arcane Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT")) {
        callfunc("skill_kugan_bonus","MG_NAPALMBEAT",@sklv,"add",1);
        bonus4 bSkillScript,1000*@sklv,NO_COOLDOWN,"MG_NAPALMBEAT",4022;
        bonus2 bSkillUseSPrate,"MG_NAPALMBEAT",-3*@sklv;
      } else
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,1;
  - Id: 4023
    Name: SPE_2_3
    Description: Arcane Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        bonus2 bSkillAtk,"MG_SOULSTRIKE",3*@sklv;
        bonus2 bSkillUseSPrate,"MG_SOULSTRIKE",-5*@sklv;
      } else
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,1;
  - Id: 4024
    Name: SPE_2_4
    Description: Arcane Recovery
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SRECOVERY"))
        bonus bSPrecovRate,4*@sklv;
      else
        callfunc "GetSkill","MG_SRECOVERY",@sklv*2,@sklv,0,0;
  - Id: 4025
    Name: SPE_2_5
    Description: Arcane Shield
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_MAGICMIRROR",@sklv,"npc");
      callfunc "GetSkill","NPC_MAGICMIRROR",@sklv,@sklv,0,0;
      if(isskillintree("MG_SOULSTRIKE") && getstatus(SC_MAGICMIRROR)) {
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,40*@sklv,DMG_MATK,Ele_Neutral,DEF_MDEF,NO_STATUS,EV_WHEN_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION;        
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,10*@sklv,DMG_MATK|DMG_HEAL,0,DEF_MDEF,NO_STATUS,EV_WHEN_HIT,BF_MAGIC,TG_SELF,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION;        
      }
  - Id: 4026
    Name: SPE_2_6
    Description: Arcane Blaster
    MaxLevel: 5
    SkillAttached: WZ_SIGHTBLASTER
    Script: >
      if (isskillintree("WZ_SIGHTBLASTER")) {
        callfunc("skill_kugan_bonus","WZ_SIGHTBLASTER",@sklv,"add",1);
        bonus2 bAddSkillBlow,"WZ_SIGHTBLASTER",@sklv/2;
        bonus2 bSkillRange,"WZ_SIGHTBLASTER",(1+@sklv)/2;
      }
      else
        callfunc "GetSkill","WZ_SIGHTBLASTER",@sklv,@sklv,0,1;
  - Id: 4027
    Name: SPE_2_7
    Description: Arcane Knowledge
    MaxLevel: 5
    Script: >
      bonus bMatk2,((5 + 5 * @sklv) * BaseLevel / 10) - 2 * readparam(bInt);
  - Id: 4028
    Name: SPE_2_8
    Description: Arcane Conversion
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 60000
    LPCost: 15
    Visual1: 1415
    Script: >
      if(getstatus(SC_SPE_4028)) {
        bonus2 bSkillElement,1,Ele_Neutral;
        bonus bUseSPrate,125-25*@sklv;
        bonus bCastRate,30-6*@sklv;
        bonus bDelayRate,30-6*@sklv;
      }
  - Id: 4029
    Name: SPE_2_9
    Description: Arcane Ritual
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 15000
    LPCost: 10
    Visual1: 10
    Script: >
      if (!getstatus(SC_SPE_4029)) end;
      bonus3 bSpToDamage,20+(@sklv*10),(@sklv-1)*10,10+(@sklv*3);
  - Id: 4030
    Name: SPE_3
    Description: Charm Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46664",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4031
    Name: SPE_3_1
    Description: Charm Stone
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_STONECURSE")) {
        bonus3 bAddEffOnSkill,"MG_STONECURSE",Eff_Curse,300*@sklv;
        bonus2 bSkillUseSPrate,"MG_STONECURSE",-3*@sklv;
      } else
        callfunc "GetSkill","MG_STONECURSE",@sklv*2,@sklv,0,1;
  - Id: 4032
    Name: SPE_3_2
    Description: Charm Diver
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FROSTDIVER")) {
        bonus3 bAddEffOnSkill,"MG_FROSTDIVER",Eff_FREEZE,300*@sklv;
        bonus2 bSkillUseSPrate,"MG_FROSTDIVER",-2*@sklv;
        callfunc("skill_kugan_bonus","MG_FROSTDIVER",@sklv,"add",1);
      } else
        callfunc "GetSkill","MG_FROSTDIVER",@sklv*2,@sklv,0,1;
  - Id: 4033
    Name: SPE_3_3
    Description: Charm Fire
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREWALL")) {
        bonus2 bSkillCount,1,@sklv+(@sklv>1)?1:0+(@sklv>3)?1:0;
        bonus2 bAoeSize,1,3+(@sklv>2)?2:0+(@sklv>4)?2:0;
        bonus2 bSkillUseSPrate,"MG_FIREWALL",-2;
        callfunc("skill_kugan_bonus","MG_FIREWALL",@sklv,"add",1);
      } else
        callfunc "GetSkill","MG_FIREWALL",@sklv*2,@sklv,0,1;
  - Id: 4034
    Name: SPE_3_4
    Description: Charm Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {    
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,0,DMG_MATK|DMG_CANCRIT,ELE_WEAPON,DEF_MOB|DEF_CANCRIT|DEF_RMDEF,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"MG_SOULSTRIKE",0,0,0,0,0,Eff_Curse,CDT_TARGET;
        callfunc("skill_kugan_bonus","MG_SOULSTRIKE",@sklv,"add",1);
      }
      else
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,1;
  - Id: 4035
    Name: SPE_3_5
    Description: Charm Safety
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SAFETYWALL"))
        bigbonus bBattleBonus,400*@sklv,rand(SC_COMMON_MIN,SC_COMMON_MAX),ALWAYS,0,0,0,0,NO_DURATION,NO_OPTION,0,0,NO_DAMAGE,0,NO_STATUS,EV_WHEN_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_SAFETYWALL,CDT_SELF;
      else
        callfunc "GetSkill","MG_SAFETYWALL",@sklv,@sklv,0,1;
  - Id: 4036
    Name: SPE_3_6
    Description: Charm Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT")) {
        bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_LUK,ALWAYS,3*@sklv,3*@sklv,0,0,7000,NO_OPTION,NO_DAMAGE,NO_DAMAGE,NO_MODE,0,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_WEAPON,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"MG_NAPALMBEAT",0,0,0,0,0,NO_STATUS,NO_OPTION;
        bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_LUK,ALWAYS,2*@sklv,0,0,0,7000,NO_OPTION,NO_DAMAGE,NO_DAMAGE,NO_MODE,0,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_WEAPON,TG_SELF,NO_COOLDOWN,NO_VISUAL,"MG_NAPALMBEAT",0,0,0,0,0,NO_STATUS,NO_OPTION;
      }
      else
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,1;
  - Id: 4037
    Name: SPE_3_7
    Description: Charm Trick
    MaxLevel: 5
    Script: >
      bonus bStatusAddSuccess,3*@sklv;
      bonus bStatusAddDuration,5*@sklv;
  - Id: 4038
    Name: SPE_3_8
    Description: Charm Recovery
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,25 + 15*@sklv,DMG_HEAL|DMG_MATK,ELE_WEAPON,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_NONE,TG_SELF,1000,NO_VISUAL,NO_SKILL,0,0,0,0,0,ANY_COMMON,CDT_TARGET;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,25 + 15*@sklv,DMG_HEAL|DMG_MATK,ELE_WEAPON,NO_OPTION,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_SELF,1000,NO_VISUAL,NO_SKILL,0,0,0,0,0,ANY_COMMON,CDT_TARGET;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,readparam(bInt),2+3*@sklv,DMG_HEAL,ELE_WEAPON,DEF_SP,NO_STATUS,EV_ON_HIT,BF_NONE,TG_SELF,1000,NO_VISUAL,NO_SKILL,0,0,0,0,0,ANY_COMMON,CDT_TARGET;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,readparam(bInt),2+3*@sklv,DMG_HEAL,ELE_WEAPON,DEF_SP,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_SELF,1000,NO_VISUAL,NO_SKILL,0,0,0,0,0,ANY_COMMON,CDT_TARGET;
  - Id: 4039
    Name: SPE_3_9
    Description: Charm Mirror
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 5000
    Duration1: 7000
    LPCost: 15
    Visual1: 1416
    Script: >
      if (!getstatus(SC_SPE_4039)) end;
      for(.@i = 0; .@i < 13; .@i++) bonus2 bReflectStatus,.@i,40+20*@sklv;
  - Id: 4040
    Name: SPE_4
    Description: Spell Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","45264",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4041
    Name: SPE_4_1
    Description: Spell Fire
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREBOLT")) {
        bonus2 bSkillAddCritical,"MG_FIREBOLT",2*@sklv;
        bonus2 bSkillUseSPrate,"MG_FIREBOLT",-4*@sklv;
        bonus2 bCastrate,"MG_FIREBOLT",-2*@sklv;
        bonus2 bDelayRate,"MG_FIREBOLT",-2*@sklv;
        bonus2 bSkillAtk,"MG_FIREBOLT",2*@sklv;
        callfunc("skill_kugan_bonus","MG_FIREBOLT",@sklv,"add",1);
      } else
        callfunc "GetSkill","MG_FIREBOLT",@sklv*2,@sklv,0,1;
  - Id: 4042
    Name: SPE_4_2
    Description: Spell Cold
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_COLDBOLT")) {
        bonus2 bSkillAddCritical,"MG_COLDBOLT",2*@sklv;
        bonus2 bSkillUseSPrate,"MG_COLDBOLT",-4*@sklv;
        bonus2 bCastrate,"MG_COLDBOLT",-2*@sklv;
        bonus2 bDelayRate,"MG_COLDBOLT",-2*@sklv;
        bonus2 bSkillAtk,"MG_COLDBOLT",2*@sklv;
        callfunc("skill_kugan_bonus","MG_COLDBOLT",@sklv,"add",1);
      } else
        callfunc "GetSkill","MG_COLDBOLT",@sklv*2,@sklv,0,1;
  - Id: 4043
    Name: SPE_4_3
    Description: Spell Lightning
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_LIGHTNINGBOLT")) {
        bonus2 bSkillAddCritical,"MG_LIGHTNINGBOLT",2*@sklv;
        bonus2 bSkillUseSPrate,"MG_LIGHTNINGBOLT",-4*@sklv;
        bonus2 bCastrate,"MG_LIGHTNINGBOLT",-2*@sklv;
        bonus2 bDelayRate,"MG_LIGHTNINGBOLT",-2*@sklv;
        bonus2 bSkillAtk,"MG_LIGHTNINGBOLT",2*@sklv;
        callfunc("skill_kugan_bonus","MG_LIGHTNINGBOLT",@sklv,"add",1);
      } else
        callfunc "GetSkill","MG_LIGHTNINGBOLT",@sklv*2,@sklv,0,1;
  - Id: 4044
    Name: SPE_4_4
    Description: Spell Earth
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_EARTHSPIKE")) {
        bonus2 bSkillAddCritical,"WZ_EARTHSPIKE",2*@sklv;
        bonus2 bSkillUseSPrate,"WZ_EARTHSPIKE",-4*@sklv;
        bonus2 bCastrate,"WZ_EARTHSPIKE",-2*@sklv;
        bonus2 bDelayRate,"WZ_EARTHSPIKE",-2*@sklv;
        bonus2 bSkillAtk,"WZ_EARTHSPIKE",2*@sklv;
        callfunc("skill_kugan_bonus","WZ_EARTHSPIKE",@sklv,"add",1);
      } else
        callfunc "GetSkill","WZ_EARTHSPIKE",@sklv*2,@sklv,0,1;
  - Id: 4045
    Name: SPE_4_5
    Description: Spell Mastery
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,-1,3*@sklv;
  - Id: 4046
    Name: SPE_4_6
    Description: Spell Avoidness
    MaxLevel: 5
    Script: >
      bonus bMagicalFleeRate,2*@sklv;
  - Id: 4047
    Name: SPE_4_7
    Description: Spell Blessing
    MaxLevel: 5
    Script: >
      bonus5 bAddEffOnSkill,"MG_FIREBOLT",SC_BRAVE,200*@sklv,ATF_SELF,3000+@sklv*1000;
      bonus5 bAddEffOnSkill,"MG_COLDBOLT",SC_RECOVERY,2000*@sklv,ATF_SELF,3000+@sklv*1000;
      bonus5 bAddEffOnSkill,"WZ_EARTHSPIKE",SC_FORTITUDE,200*@sklv,ATF_SELF,3000+@sklv*1000;
      bonus5 bAddEffOnSkill,"MG_LIGHTNINGBOLT",SC_SWIFT,200*@sklv,ATF_SELF,3000+@sklv*1000;
  - Id: 4048
    Name: SPE_4_8
    Description: Spell Variation
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_MAGIC,NO_COOLDOWN,0,4048;
  - Id: 4049
    Name: SPE_4_9
    Description: Spell Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2000
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1417
    Script: >
      if (!getstatus(SC_SPE_4049)) end;
      bonus bUseSPrate,250-50*@sklv;
      bonus bSPrecovRate,50-10*@sklv;
      bonus2 bMagicAtkEle,@chosenele,3*@sklv;
  - Id: 4050
    Name: SPE_5
    Description: Hunt Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","56265",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4051
    Name: SPE_5_1
    Description: Hunt Straff
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_DOUBLE")) {
        bonus2 bSkillAtk,"AC_DOUBLE",2*@sklv;
        bonus2 bSkillUseSPrate,"AC_DOUBLE",5*@sklv;
      } else {
        callfunc "GetSkill","AC_DOUBLE",@sklv*2,@sklv,0,1;
        if(!callfunc("CheckMeleeWeapon")) end;
        bonus2 bSkillAtk,"AC_DOUBLE",-15;
      }
  - Id: 4052
    Name: SPE_5_2
    Description: Hunt Repel
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_CHARGEARROW"))
        bonus5 bAddEffOnSkill,"AC_CHARGEARROW",SC_STOP,2000*@sklv,ATF_TARGET,1500 + 1500 * !getstatus(SC_INIT);
      else
        callfunc "GetSkill","AC_CHARGEARROW",@sklv,@sklv,0,1;
  - Id: 4053
    Name: SPE_5_3
    Description: Hunt Shower
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_SHOWER")) {
        callfunc("skill_kugan_bonus","AC_SHOWER",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_STOP,ALWAYS,0,0,0,0,500*@sklv,NO_OPTION,NO_DAMAGE,NO_DAMAGE,NO_DAMAGE,0,0,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,7000,NO_VISUAL,"AC_SHOWER",0,0,0,0,0,NO_STATUS,NO_OPTION;
        bigbonus bBattleBonus,ALWAYS,SC_BUFF_WALK,ALWAYS,0,0,0,0,7000,NO_OPTION,NO_DAMAGE,NO_DAMAGE,NO_DAMAGE,0,0,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,7000,NO_VISUAL,"AC_SHOWER",0,0,0,0,0,NO_STATUS,NO_OPTION;
      } else
        callfunc "GetSkill","AC_SHOWER",@sklv*2,@sklv,0,1;
  - Id: 4054
    Name: SPE_5_4
    Description: Hunt Eye
    MaxLevel: 5
    SkillAttached: AC_VULTURE
    Script: >
      if (getiteminfo(getequipid(EQI_HAND_R),11) == W_BOW) {
        callfunc "GetSkill","AC_VULTURE",@sklv,@sklv,0,0;
      } else {
        .@wtype = getiteminfo(getequipid(EQI_HAND_R),11);
        switch(.@wtype) {
          case 1: case 2: case 6: case 8: case 12: case 13: case 14: case 15: case 22: default: // 1handed weapon
            switch (@sklv) {
              case 1: bonus bHitRate,2; break;
              case 2: bonus bHitRate,4; break;
              case 3: bonus bAtkRange,1; bonus bHitRate,4; break;
              case 4: bonus bAtkRange,1; bonus bHitRate,6; break;
              case 5: bonus bAtkRange,1; bonus bHitRate,8; break;
            } break;
          case 3: case 7: case 9: case 16: // 2handed weapon
            switch (@sklv) {
              case 1: bonus bHitRate,2; break;
              case 2: bonus bAtkRange,1; bonus bHitRate,2; break;
              case 3: bonus bAtkRange,1; bonus bHitRate,4; break;
              case 4: bonus bAtkRange,1; bonus bHitRate,6; break;
              case 5: bonus bAtkRange,2; bonus bHitRate,6; break;
            } break;
          case 4: // 1handed spears
            switch (@sklv) {
              case 1: bonus bAtkRange,1; break;
              case 2: bonus bAtkRange,2; bonus bHitRate,2; break;
              case 3: bonus bAtkRange,2; bonus bHitRate,2; break;
              case 4: bonus bAtkRange,2; bonus bHitRate,2; break;
              case 5: bonus bAtkRange,3; bonus bHitRate,4; break;
            } break;
          case 5: // 2handed spears
            switch (@sklv) {
              case 1: bonus bAtkRange,1; break;
              case 2: bonus bAtkRange,2; break;
              case 3: bonus bAtkRange,2; bonus bHitRate,2; break;
              case 4: bonus bAtkRange,3; bonus bHitRate,2; break;
              case 5: bonus bAtkRange,3; bonus bHitRate,2; break;
            } break;
          case 10: case 11: case 17: case 18: case 19: case 20: case 21: case 23: bonus bAtkRange,@sklv; break; // Staves/Long ranged
        }
      }
  - Id: 4055
    Name: SPE_5_5
    Description: Hunt Shooting
    MaxLevel: 5
    SkillAttached: SN_SHARPSHOOTING
    Script: >
      if (isskillintree("SN_SHARPSHOOTING")) {
        callfunc("skill_kugan_bonus","SN_SHARPSHOOTING",@sklv,"add",1);
        if(@sklv >= 2) bonus2 bSkillRange,"SN_SHARPSHOOTING",1+(@sklv>=4);
        bonus2 bSkillAddCritical,"SN_SHARPSHOOTING",@sklv*2;
        bonus2 bSkillDelay,"SN_SHARPSHOOTING",-@sklv*3;
      } else
        callfunc "GetSkill","SN_SHARPSHOOTING",@sklv,@sklv,0,1;
  - Id: 4056
    Name: SPE_5_6
    Description: Hunt Mastery
    MaxLevel: 5
    Script: >
      bonus2 bComaClass,Class_All,10*@sklv;
  - Id: 4057
    Name: SPE_5_7
    Description: Hunt Resilience
    MaxLevel: 5
    Script: >
      bonus2 bSubLongRangeDamage,ATK_ALL,4*@sklv;
  - Id: 4058
    Name: SPE_5_8
    Description: Hunt Reach
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    LPCost: 15
    Visual1: 1421
    Duration1: 30000
    Script: >
      if(!getstatus(SC_SPE_4058)) end;
      bonus2 bAddDamageClass,@lastclass,100+8*@sklv+getskilllv("SPE_5_9")*2;
      bonus2 bAddMagicDamageClass,@lastclass,100+8*@sklv+getskilllv("SPE_5_9")*2;
      bonus2 bAddClass,Class_Boss,-10+getskilllv("SPE_5_9")*2;
      bonus2 bMagicAddClass,Class_Boss,-10+getskilllv("SPE_5_9")*2;
  - Id: 4059
    Name: SPE_5_9
    Description: Hunt Tracking
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    CastDelayFlags:
      IgnoreDex: true
    Cooldown2:
      - Level: 1
        Time: 3600000
      - Level: 2
        Time: 2700000
      - Level: 3
        Time: 1800000
      - Level: 4
        Time: 1200000
      - Level: 5
        Time: 900000
    Duration1:
      - Level: 1
        Time: 60000
      - Level: 2
        Time: 90000
      - Level: 3
        Time: 120000
      - Level: 4
        Time: 150000
      - Level: 5
        Time: 180000
    LPCost: 30
    Visual1: 1422
    Script: >
      bonus2 bAddClass,Class_Boss,1+@sklv+(@sklv>=5);
  - Id: 4060
    Name: SPE_6
    Description: Larceny Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","26252",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4061
    Name: SPE_6_1
    Description: Larceny Dodge
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_MISS"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4061;
      else
        callfunc "GetSkill","TF_MISS",@sklv*2,@sklv,0,0;
  - Id: 4062
    Name: SPE_6_2
    Description: Larceny Attack
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_DOUBLE"))
        bonus bDoubleAddRate,2*@sklv;
      else
        callfunc "GetSkill","TF_DOUBLE",@sklv*2,@sklv,0,0;
  - Id: 4063
    Name: SPE_6_3
    Description: Larceny Slide
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_BACKSLIDING")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TF_BACKSLIDING",4063;
        bonus2 bSkillUseSP,"TF_BACKSLIDING",-2*@sklv;
      } else {
        callfunc "GetSkill","TF_BACKSLIDING",1,1,0,1;
        if(@sklv < 5)
          bonus2 bSkillDelay,"TF_BACKSLIDING",2500-500*@sklv;
      }
  - Id: 4064
    Name: SPE_6_4
    Description: Larceny Throw
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_THROWSTONE")) {
        callfunc("skill_kugan_bonus","TF_THROWSTONE",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TF_PICKSTONE",4064;
        bigbonus bBattleBonus,ALWAYS,SC_CONFUSION,ALWAYS,0,0,0,0,2000+1000*@sklv,SCSTART_NONE,NO_DAMAGE,4+2*@sklv,DMG_ATK1,ELE_NONE,DEF_SP|DEF_DEF|DEF_RMDEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,10000,NO_VISUAL,"TF_THROWSTONE",0,0,0,0,0,NO_STATUS,NO_OPTION;
      } else {
        callfunc "GetSkill","TF_PICKSTONE",1,1,0,1;
        callfunc "GetSkill","TF_THROWSTONE",@sklv,@sklv,0,1;
      }
  - Id: 4065
    Name: SPE_6_5
    Description: Larceny Steal
    MaxLevel: 5
    SkillAttached: TF_STEAL
    Script: >
      if (isskillintree("TF_STEAL")) {
        bonus bAddStealRate,3*@sklv;
        bonus2 bSkillUseSP,"TF_STEAL",-@sklv;
      } else
        callfunc "GetSkill","TF_STEAL",@sklv,@sklv,0,1;
  - Id: 4066
    Name: SPE_6_6
    Description: Larceny Mastery
    MaxLevel: 5
    Script: >
      bonus bFleeMagical,1+@sklv+1*(@sklv >= 5);
      bonus bFleePhysical,1+@sklv+1*(@sklv >= 5);
      bonus bFleeSpecial,1+@sklv+1*(@sklv >= 5);
  - Id: 4067
    Name: SPE_6_7
    Description: Larceny Knowledge
    MaxLevel: 5
    Script: >
      bonus bStatusIgnoreRateDef,5*@sklv;
      bonus bStatusIgnoreTickDef,5*@sklv;
  - Id: 4068
    Name: SPE_6_8
    Description: Larceny Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Blind,BF_NONE,3*@sklv;
  - Id: 4069
    Name: SPE_6_9
    Description: Larceny Avoid
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 15000
    LPCost: 15
    Visual1: 1423
    Script: >
      if(!getstatus(SC_SPE_4069)) end;
      .@flee = BaseLevel*10*@sklv/100 - readparam(bAgi) / 2;
      .@flee += 7*@sklv;
      if(.@flee > 0) bonus bFlee,.@flee;
  - Id: 4070
    Name: SPE_7
    Description: Heist Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","26562",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4071
    Name: SPE_7_1
    Description: Heist Venom
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_POISON")) {
        callfunc("skill_kugan_bonus","TF_POISON",@sklv,"add",1);
        bonus5 bAddEffOnSkill,"TF_POISON",Eff_Poison,300*@sklv,ATF_TARGET,15000;
        bonus2 bSkillUseSP,"TF_POISON",-@sklv;
      } else
        callfunc "GetSkill","TF_POISON",@sklv*2,@sklv,0,1;
  - Id: 4072
    Name: SPE_7_2
    Description: Heist Detoxify
    MaxLevel: 5
    SkillAttached: TF_DETOXIFY
    Script: >
      callfunc "GetSkill","TF_DETOXIFY",@sklv,@sklv,0,isskillintree("TF_DETOXIFY")?0:1;
  - Id: 4073
    Name: SPE_7_3
    Description: Heist Hiding
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_HIDING"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TF_HIDING",4073;
      else
        callfunc "GetSkill","TF_HIDING",@sklv,@sklv,0,1;
  - Id: 4074
    Name: SPE_7_4
    Description: Heist Steal
    MaxLevel: 5
    SkillAttached: TF_STEAL
    Script: >
      if (isskillintree("TF_STEAL")) {
        bonus2 bSkillRange,"TF_STEAL",@sklv;
        bonus2 bSkillUseSP,"TF_STEAL",-@sklv;
      } else
        callfunc "GetSkill","TF_STEAL",@sklv,@sklv,0,1;
  - Id: 4075
    Name: SPE_7_5
    Description: Heist Throw
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_THROWSTONE")) {
        callfunc("skill_kugan_bonus","TF_THROWSTONE",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TF_PICKSTONE",4075;
        bigbonus bBattleBonus,3750+1250*@sklv,SC_SILENCE,ALWAYS,1,0,0,0,4000+2000*@sklv,SCSTART_NONE,NO_DAMAGE,4+2*@sklv,DMG_ATK1,EL_NONE,DEF_SP|DEF_DEF|DEF_RMDEF,NO_STATUS,EV_ON_HIT,BF_NORMAL,TG_TARGET,10000,NO_VISUAL,"TF_THROWSTONE",0,0,0,0,0,NO_STATUS,NO_OPTION;
      } else {
        callfunc "GetSkill","TF_PICKSTONE",1,1,0,1;
        callfunc "GetSkill","TF_THROWSTONE",@sklv,@sklv,0,1;
      }
  - Id: 4076
    Name: SPE_7_6
    Description: Heist Slide
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_BACKSLIDING")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TF_BACKSLIDING",4076;
        bonus2 bSkillUseSP,"TF_BACKSLIDING",-@sklv;
      } else {
        callfunc "GetSkill","TF_BACKSLIDING",1,1,0,1;
        if(@sklv < 5)
          bonus2 bSkillDelay,"TF_BACKSLIDING",2500-500*@sklv;
      }
  - Id: 4077
    Name: SPE_7_7
    Description: Heist Trick
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,ALWAYS,SC_BUFF_WALK,ALWAYS,25+5*@sklv,0,0,0,4500+500*@sklv,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,EL_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_SELF,60000,617,0,0,0,0,0,0,NO_STATUS,CDT_DANGER;
      bigbonus bBattleBonus,ALWAYS,SC_AVOIDNESS,ALWAYS,2500+500*@sklv,-1,0,0,4500+500*@sklv,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,EL_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_SELF,60000,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,CDT_DANGER;
  - Id: 4078
    Name: SPE_7_8
    Description: Heits Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Bleeding,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Blind,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Burning,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Confusion,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Curse,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_DPoison,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Freeze,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Silence,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Poison,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Sleep,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Stone,BF_NONE,@sklv;
      bonus3 bStatusDamageRate,Eff_Stun,BF_NONE,@sklv;
  - Id: 4079
    Name: SPE_7_9
    Description: Heist Confrontation
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    Duration: 10000
    CastTime: 500
    LPCost: 10
    Visual1: 1424
  - Id: 4080
    Name: SPE_8
    Description: Roam Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","61636",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4081
    Name: SPE_8_1
    Description: Roam Weight
    MaxLevel: 5
    Script: >
      if (isskillintree("MC_INCCARRY"))
        bonus bMaximumWeightRate,10*@sklv;
      else
        callfunc "GetSkill","MC_INCCARRY",@sklv*2,@sklv,0,0;
  - Id: 4082
    Name: SPE_8_2
    Description: Roam Cart
    MaxLevel: 5
    SkillAttached: MC_PUSHCART
    Script: >
      callfunc "GetSkill","MC_PUSHCART",(isskillintree("MC_PUSHCART")?(@sklv*1):(@sklv*2)),@sklv,0,0;
  - Id: 4083
    Name: SPE_8_3
    Description: Roam Knowledge
    MaxLevel: 5
    SkillAttached: MC_VENDING
    SkillAttached2: MC_OVERCHARGE
    SkillAttached3: MC_DISCOUNT
    Script: >
      if(@sklv > 1) callfunc "GetSkill","MC_IDENTIFY",1,1,0,0;
      if(@sklv > 2) callfunc "GetSkill","ALL_BUYING_STORE",1,1,0,0;
      callfunc "GetSkill","MC_VENDING",@sklv,@sklv,0,0;
      callfunc "GetSkill","MC_OVERCHARGE",@sklv,@sklv,0,0;
      callfunc "GetSkill","MC_DISCOUNT",@sklv,@sklv,0,0;
  - Id: 4084
    Name: SPE_8_4
    Description: Roam Revolution
    MaxLevel: 5
    SkillAttached: MC_CARTREVOLUTION
    Script: >
      callfunc "GetSkill","MC_CARTREVOLUTION",@sklv,@sklv,0,isskillintree("MC_CARTREVOLUTION")?0:1;
      callfunc("skill_kugan_bonus","MC_CARTREVOLUTION",@sklv,"level",1);
  - Id: 4085
    Name: SPE_8_5
    Description: Roam Exclamation
    MaxLevel: 5
    SkillAttached: MC_LOUD
    Script: >
      callfunc "GetSkill","MC_LOUD",@sklv,@sklv,0,isskillintree("MC_LOUD")?0:1;
  - Id: 4086
    Name: SPE_8_6
    Description: Roam Stuff
    MaxLevel: 5
    Script: >
      bonus2 bStuffResistRate,0,4*@sklv;
      for(.@i = 0; .@i < 10; .@i++)
      	if(getequipisequiped(.@i))
          bonus bMaximumWeightBonus,(getiteminfo(getequipid(.@i),6) * (5*@sklv) / 100)*10;
  - Id: 4087
    Name: SPE_8_7
    Description: Roam Business
    MaxLevel: 5
    Script: >
      bonus bAddZenyRate,5*@sklv;
      bonus2 bDropAddClass,Class_All,@sklv;
  - Id: 4088
    Name: SPE_8_8
    Description: Roam Sting
    MaxLevel: 5
    Script: >
      bonus bNoGemRequirement,5*@sklv;
      bonus bNoAmmoRequirement,5*@sklv;
      bonus bNoSpiritRequirement,5*@sklv;
      bonus bNoZenyRequirement,5*@sklv;
  - Id: 4089
    Name: SPE_8_9
    Description: Roam Bargain
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Cooldown2: 10000
    Duration1: 10000
    LPCost: 4
    Visual1: 1425
    Script: >
      if(!getstatus(SC_SPE_4089)) end;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,NEVER,0,0,0,0,NO_DURATION,NO_OPTION,@chosenzeny,@sklv*20,NO_MODE,ELE_WEAPON,DEF_BARGAIN,NO_STATUS,EV_ON_HIT,BF_NONE,TG_TARGET,0,10,0,0,0,0,0,0,SC_SPE_4089,CDT_SELF|CDT_ONCE;      
  - Id: 4090
    Name: SPE_9
    Description: Rightful Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","64316",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4091
    Name: SPE_9_1
    Description: Rightful Protection
    MaxLevel: 5
    SkillAttached: AL_DP
    Script: >
      callfunc "GetSkill","AL_DP",@sklv*2,@sklv*2,0,0;
  - Id: 4092
    Name: SPE_9_2
    Description: Rightful Bane
    MaxLevel: 5
    SkillAttached: AL_DEMONBANE
    Script: >
      callfunc "GetSkill","AL_DEMONBANE",@sklv*2,@sklv*2,0,0;
  - Id: 4093
    Name: SPE_9_3
    Description: Rightful Ruwach
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_RUWACH")) {
        callfunc("skill_kugan_bonus","AL_RUWACH",@sklv,"add",1);
        bonus2 bSkillUseSP,"AL_RUWACH",-2*@sklv;
        bonus2 bSkillAtk,"AL_RUWACH",5*@sklv;
      } else
        callfunc "GetSkill","AL_RUWACH",@sklv,@sklv,0,1;
  - Id: 4094
    Name: SPE_9_4
    Description: Rightful Decrease
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_DECAGI")) {
        bonus3 bAutoSpell,"AL_DECAGI",((getskilllv("AL_DECAGI")/(6-@sklv) < @sklv)?@sklv:getskilllv("AL_DECAGI")/(6-@sklv)),10*@sklv;
        bonus3 bAutoSpellWhenHit,"AL_DECAGI",((getskilllv("AL_DECAGI")/(6-@sklv) < @sklv)?@sklv:getskilllv("AL_DECAGI")/(6-@sklv)),10*@sklv;
      }else
        callfunc "GetSkill","AL_DECAGI",@sklv*2,@sklv,0,1;
  - Id: 4095
    Name: SPE_9_5
    Description: Rightful Light
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_HOLYLIGHT")) {
        callfunc("skill_kugan_bonus","AL_HOLYLIGHT",@sklv,"add",1);
        bonus5 bAddEffOnSkill,"AL_HOLYLIGHT",SC_OATH,500*@sklv,ATF_TARGET,15000;
      }
      else
        callfunc "GetSkill","AL_HOLYLIGHT",@sklv,@sklv,0,1;
  - Id: 4096
    Name: SPE_9_6
    Description: Rightful Crusade
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_CRUCIS"))
        bonus2 bSkillUseSP,"AL_CRUCIS",-4*@sklv;
      else
        callfunc "GetSkill","AL_CRUCIS",@sklv*2,@sklv,0,1;
  - Id: 4097
    Name: SPE_9_7
    Description: Rightful Resentment
    MaxLevel: 5
    Script: >
      bonus2 bReflectStatus,Eff_Blind,10*@sklv;
  - Id: 4098
    Name: SPE_9_8
    Description: Rightful Vigor
    MaxLevel: 5
    Script: >
      bonus bOnHitSpRecovery,50*@sklv;
  - Id: 4099
    Name: SPE_9_9
    Description: Rightful Will
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    CastTimeFlags:
      IgnoreDex: true
    DamageFlags:
      NoDamage: true
      splash: true
    CastCancel: true
    CastTime: 1000
    Duration1:
      - Level: 1
        Time: 10000
      - Level: 2
        Time: 15000
      - Level: 3
        Time: 20000
      - Level: 4
        Time: 25000
      - Level: 5
        Time: 30000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 25
    Visual1: 1426
  - Id: 4100
    Name: SPE_10
    Description: Kind Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46664",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4101
    Name: SPE_10_1
    Description: Kind Heal
    MaxLevel: 5
    SkillAttached: AL_HEAL
    Script: >
      if (isskillintree("AL_HEAL"))
        bonus bHealPower,1+@sklv+1*(@sklv >= 5);
      else
        callfunc "GetSkill","AL_HEAL",@sklv+getkuganlv(4102),@sklv+getkuganlv(4102),0,1;
  - Id: 4102
    Name: SPE_10_2
    Description: Kind Coluceo
    MaxLevel: 5
    SkillAttached: AL_HEAL
    Script: >
      if (isskillintree("AL_HEAL"))
        callfunc "GetSkill","AB_CHEAL",@sklv,@sklv,0,0;
      else
        callfunc "GetSkill","AL_HEAL",@sklv+getkuganlv(4101),@sklv+getkuganlv(4101),0,1;
  - Id: 4103
    Name: SPE_10_3
    Description: Kind Cure
    MaxLevel: 5
    SkillAttached: AL_CURE
    Script: >
      callfunc "GetSkill","AL_CURE",@sklv,@sklv,0,isskillintree("AL_CURE")?0:1;
  - Id: 4104
    Name: SPE_10_4
    Description: Kind Pneuma
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_PNEUMA"))
        bonus5 bAutoSpellWhenHit,"AL_PNEUMA",1,20*@sklv,BF_LONG,0;
      else {
        bonus2 bSkillCooldown,"AL_PNEUMA",1000*(24-4*@sklv);
        callfunc "GetSkill","AL_PNEUMA",@sklv,@sklv,0,1;
      }
  - Id: 4105
    Name: SPE_10_5
    Description: Kind Light
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_HOLYLIGHT")) {
        callfunc("skill_kugan_bonus","AL_HOLYLIGHT",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,5+5*@sklv,DMG_HEAL|DMG_MATK|DMG_HPLOST,ELE_NONE,DEF_HPLEFT,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_SELF,NO_COOLDOWN,NO_VISUAL,"AL_HOLYLIGHT",0,0,0,0,0,NO_STATUS,NO_OPTION;
      }
      else
        callfunc "GetSkill","AL_HOLYLIGHT",@sklv,@sklv,0,1;
  - Id: 4106
    Name: SPE_10_6
    Description: Kind Resentment
    MaxLevel: 5
    Script: >
      bonus2 bReflectStatus,Eff_Curse,10*@sklv;
  - Id: 4107
    Name: SPE_10_7
    Description: Kind Recovery
    MaxLevel: 5
    Script: >
      bonus bStatusSubDuration,6*@sklv;
  - Id: 4108
    Name: SPE_10_8
    Description: Kind Compassion
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 20
    Visual1: 1427
    Visual2: 1536
    Script: >
      if(!getstatus(SC_SPE_4108)) end;
      bonus bHealPower,10+4*@sklv;
      bonus bHealPower2,-100+5*@sklv;
  - Id: 4109
    Name: SPE_10_9
    Description: Kind Hope
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1:
      - Level: 1
        Time: 10000
      - Level: 2
        Time: 15000
      - Level: 3
        Time: 20000
      - Level: 4
        Time: 25000
      - Level: 5
        Time: 30000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 20
    Visual1: 1428
  - Id: 4110
    Name: SPE_11
    Description: Prior Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","64664",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4111
    Name: SPE_11_1
    Description: Prior Blessing
    MaxLevel: 5
    SkillAttached: AL_BLESSING
    Script: >
      callfunc "GetSkill","AL_BLESSING",@sklv,@sklv,0,isskillintree("AL_BLESSING")?0:1;
  - Id: 4112
    Name: SPE_11_2
    Description: Prior Clementia
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_BLESSING"))
        callfunc "GetSkill","AB_CLEMENTIA",@sklv,@sklv,0,0;
      else
        callfunc "GetSkill","AL_BLESSING",@sklv,@sklv,0,1;
  - Id: 4113
    Name: SPE_11_3
    Description: Prior Agility
    MaxLevel: 5
    SkillAttached: AL_INCAGI
    Script: >
      callfunc "GetSkill","AL_INCAGI",@sklv,@sklv,0,isskillintree("AL_INCAGI")?0:1;
  - Id: 4114
    Name: SPE_11_4
    Description: Prior Candidus
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_INCAGI"))
        callfunc "GetSkill","AB_CANTO",@sklv,@sklv,0,0;
      else
        callfunc "GetSkill","AL_INCAGI",@sklv,@sklv,0,1;
  - Id: 4115
    Name: SPE_11_5
    Description: Prior Intervention
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,100*@sklv,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4115;
      bigbonus bBattleScript,100*@sklv,EV_ON_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4115;
  - Id: 4116
    Name: SPE_11_6
    Description: Prior Hosmosis
    MaxLevel: 5
    Script: >
      bonus bBonusDurationRate,4*@sklv;
  - Id: 4117
    Name: SPE_11_7
    Description: Prior Resentment
    MaxLevel: 5
    Script: >
      bonus2 bReflectStatus,Eff_Silence,10*@sklv;
  - Id: 4118
    Name: SPE_11_8
    Description: Prior Mastery
    MaxLevel: 5
    Script: >
      bonus bAttributeBonusRate,4*@sklv;
  - Id: 4119
    Name: SPE_11_9
    Description: Prior Canticle
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Cooldown2: 10000
    Duration1:
      - Level: 1
        Time: 10000
      - Level: 2
        Time: 15000
      - Level: 3
        Time: 20000
      - Level: 4
        Time: 25000
      - Level: 5
        Time: 30000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 15
    Visual1: 1429
  - Id: 4120
    Name: SPE_12
    Description: Spartan Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15321",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4121
    Name: SPE_12_1
    Description: Spartan Pierce
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_PIERCE"))
        bonus4 bSkillScript,500*@sklv,NO_COOLDOWN,"KN_PIERCE",4141;
      else
        callfunc "GetSkill","KN_PIERCE",@sklv*2,@sklv,0,1;
  - Id: 4122
    Name: SPE_12_2
    Description: Spartan Quicken
    MaxLevel: 5
    SkillAttached: KN_ONEHAND
    Script: >
      callfunc "GetSkill","KN_ONEHAND",@sklv,@sklv,0,isskillintree("KN_ONEHAND")?0:1;
  - Id: 4123
    Name: SPE_12_3
    Description: Spartan Brandish
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_BRANDISHSPEAR")) {
        callfunc("skill_kugan_bonus","KN_BRANDISHSPEAR",@sklv,"add",1);
        bonus3 bSkillSplashRange,"KN_BRANDISHSPEAR",0,1+(@sklv>2)+(@sklv>4);
        bonus2 bSkillUseSP,"KN_BRANDISHSPEAR",-@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"KN_BRANDISHSPEAR",4123;
      } else
        callfunc "GetSkill","KN_BRANDISHSPEAR",@sklv*2,@sklv,0,1;
  - Id: 4124
    Name: SPE_12_4
    Description: Spartan Boomerang
    MaxLevel: 5
    SkillAttached: KN_SPEARBOOMERANG
    Script: >
      if (isskillintree("KN_SPEARBOOMERANG")) {
        callfunc("skill_kugan_bonus","KN_SPEARBOOMERANG",@sklv,"add",1);
        bonus5 bAutoSpell,"KN_SPEARBOOMERANG",@sklv,5*@sklv*readparam(bDex)/10,BF_SKILL|BF_LONG,1;
      } else
        callfunc "GetSkill","KN_SPEARBOOMERANG",@sklv,@sklv,0,1;
  - Id: 4125
    Name: SPE_12_5
    Description: Spartan Stab
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_SPEARSTAB")) {
        if(getstatus(SC_CONCENTRATION))
          bonus3 bAutoSpellWhenHit,"KN_SPEARSTAB",getskilllv("KN_SPEARSTAB"),20*@sklv;
      } else
        callfunc "GetSkill","KN_SPEARSTAB",@sklv,@sklv,0,1;
  - Id: 4126
    Name: SPE_12_6
    Description: Spartan Spiral
    MaxLevel: 5
    Script: >
      .@sk$ = "LK_SPIRALPIERCE";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else {
        callfunc "GetSkill",.@sk$,@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,.@sk$,10000;
        bonus2 bSkillUseSPrate,.@sk$,-100;
        bonus2 bCastrate,.@sk$,100;
      }
  - Id: 4127
    Name: SPE_12_7
    Description: Spartan Blade
    MaxLevel: 5
    SkillAttached: LK_AURABLADE
    Script: >
      if (isskillintree("LK_AURABLADE"))
        callfunc "GetSkill","LK_AURABLADE",@sklv,@sklv,0,0;
      else {
        callfunc "GetSkill","LK_AURABLADE",@sklv,@sklv,0,1;
        bonus2 bSkillVariableCast,"LK_AURABLADE",2000;
        bonus2 bSkillCooldown,"LK_AURABLADE",30000;
        bonus2 bSkillUseSPrate,"LK_AURABLADE",-100;
      }
  - Id: 4128
    Name: SPE_12_8
    Description: Spartan Vigor
    MaxLevel: 5
    Script: >
      bonus2 bOnHitHpRecovery,4,2*@sklv;
  - Id: 4129
    Name: SPE_12_9
    Description: Spartan Counter
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    LPCost: 10
    Visual1: 1431
    Script: >
      if(!getstatus(SC_SPE_4129)) end;
      bonus bLongAtkDef,@sklv*3;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,(@sklv*25+25),DMG_ATK|DMG_MOB|DMG_HPLOST,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_WHEN_HIT,BF_SKILL|BF_LONG,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4130
    Name: SPE_13
    Description: Enraged Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","13131",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4131
    Name: SPE_13_1
    Description: Enraged Bash
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_BOWLINGBASH")) {
        callfunc("skill_kugan_bonus","KN_BOWLINGBASH",@sklv,"add",1);
        bonus2 bSkillAtk,"KN_BOWLINGBASH",2*@sklv;
        bonus3 bSkillSplashRange,"KN_BOWLINGBASH",0,1+(@sklv>2);
        bonus2 bSkillUseSP,"KN_BOWLINGBASH",-.@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"KN_BOWLINGBASH",4131;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_STATUS,SCSTART_NONE,NO_DAMAGE,40+20*@sklv,DMG_ATK|DMG_HPLOST,ELE_WEAPON,DEF_DEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"KN_BOWLINGBASH",0,66,TF_SELF,TH_LOWER,TH_CHECK_HP,NO_STATUS,NO_CONDITION;
      } else
        callfunc "GetSkill","KN_BOWLINGBASH",@sklv*2,@sklv,0,1;
  - Id: 4132
    Name: SPE_13_2
    Description: Enraged Quicken
    MaxLevel: 5
    SkillAttached: KN_TWOHANDQUICKEN
    Script: >
      if (getiteminfo(getequipid(EQI_HAND_L),5) == 2) {
        bonus bSkillNoWeapon,"KN_TWOHANDQUICKEN";
      }
      callfunc "GetSkill","KN_TWOHANDQUICKEN",@sklv,@sklv,0,isskillintree("KN_TWOHANDQUICKEN")?0:1;
  - Id: 4133
    Name: SPE_13_3
    Description: Enraged Charge
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_CHARGEATK")) {
        callfunc("skill_kugan_bonus","KN_CHARGEATK",@sklv,"add",1);
        bonus2 bSkillAtk,"KN_CHARGEATK",5*@sklv;
        bonus2 bCastrate,"KN_CHARGEATK",-5*@sklv;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_STATUS,SCSTART_NONE,NO_DAMAGE,2*@sklv,DMG_DAMAGE,ELE_WEAPON,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,NO_COOLDOWN,NO_VISUAL,"KN_CHARGEATK",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      } else
        callfunc "GetSkill","KN_CHARGEATK",@sklv,@sklv,0,1;
  - Id: 4134
    Name: SPE_13_4
    Description: Enraged Auto
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_AUTOBERSERK")) {
        if(getstatus(SC_AUTOBERSERK))
          bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NORMAL,NO_COOLDOWN,NO_SKILL,4134;
      } else
        callfunc "GetSkill","SM_AUTOBERSERK",@sklv,@sklv,0,1;
  - Id: 4135
    Name: SPE_13_5
    Description: Enraged Counter
    MaxLevel: 5
    SkillAttached: KN_AUTOCOUNTER
    Script: >
      callfunc "GetSkill","KN_AUTOCOUNTER",@sklv,@sklv,0,isskillintree("KN_AUTOCOUNTER")?0:1;
        callfunc("skill_kugan_bonus","KN_AUTOCOUNTER",@sklv,"level",1);
  - Id: 4136
    Name: SPE_13_6
    Description: Enraged Crush
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_HEADCRUSH")) {
        callfunc("skill_kugan_bonus","LK_HEADCRUSH",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_BLEEDING,ALWAYS,1,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,50+50*@sklv,DMG_ATK|DMG_HEAL,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,7000,NO_VISUAL,"LK_HEADCRUSH",0,66,TG_SELF,TH_LOWER,0,NO_STATUS,NO_CONDITION;
      } else
        callfunc "GetSkill","LK_HEADCRUSH",@sklv,@sklv,0,1;
  - Id: 4137
    Name: SPE_13_7
    Description: Enraged Concentration
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_CONCENTRATION")) {
          bigbonus bBattleScript,200*@sklv,EV_WHEN_HIT,BF_NORMAL,NO_COOLDOWN,NO_SKILL,4137;
      } else {
        callfunc "GetSkill","LK_CONCENTRATION",1+(@sklv>2)+(@sklv>4),1+(@sklv>2)+(@sklv>4),0,1;
        bonus2 bSelfBuffDuration,SC_CONCENTRATION,-50;
        bonus2 bSkillCooldown,"LK_CONCENTRATION",60000-(@sklv>1)?20000:0-(@sklv>3)?20000:0;
        if(@sklv < 4) bonus2 bSkillVariableCast,"LK_CONCENTRATION",4000-(@sklv>1)?2000:0;
        if(@sklv < 4) bonus2 bSkillUseSPrate,"LK_CONCENTRATION",-300-(@sklv>1)*150;
      }
  - Id: 4138
    Name: SPE_13_8
    Description: Enraged Frenzy
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_BERSERK")) {
        if(getstatus(SC_BERSERK))
          bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NORMAL,NO_COOLDOWN,NO_SKILL,4138;
      }
      else {
        callfunc "GetSkill","LK_BERSERK",@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,"LK_BERSERK",300000;
        bonus2 bSkillVariableCast,"LK_BERSERK",6000;
        bonus2 bSkillUseSPrate,"LK_BERSERK",-50;
      }
  - Id: 4139
    Name: SPE_13_9
    Description: Enraged Rage
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 15000
    Duration1: 15000
    LPCost: 15
    Visual1: 1432
  - Id: 4140
    Name: SPE_14
    Description: White Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15361",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4141
    Name: SPE_14_1
    Description: White Pierce
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_PIERCE"))
        bonus4 bSkillScript,500*@sklv,NO_COOLDOWN,"KN_PIERCE",4141;
      else
        callfunc "GetSkill","KN_PIERCE",@sklv*2,@sklv,0,1;
  - Id: 4142
    Name: SPE_14_2
    Description: White Stab
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_SPEARSTAB")) {
        bonus2 bSkillAfterHitDelayRate,"KN_SPEARSTAB",10*@sklv;
        if(getstatus(SC_ENDURE))
          bonus4 bAutoSpellOnSkill,"KN_SPEARSTAB","SM_PROVOKE",getskilllv("SM_PROVOKE")+5,200*@sklv;
      }
      else
        callfunc "GetSkill","KN_SPEARSTAB",@sklv,@sklv,0,1;
  - Id: 4143
    Name: SPE_14_3
    Description: White Recovery
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_MOVINGRECOVERY"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NORMAL,NO_COOLDOWN,NO_SKILL,4143;
      else
        callfunc "GetSkill","SM_MOVINGRECOVERY",@sklv,@sklv,0,0;
  - Id: 4144
    Name: SPE_14_4
    Description: White Charge
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_CHARGEATK")) {
        callfunc("skill_kugan_bonus","KN_SPEARSTAB",@sklv,"add",1);
        bonus2 bSkillAtk,"KN_CHARGEATK",-30-(@sklv>2)*5-(@sklv>4)*5;
        bonus2 bAddSkillBlow,"KN_CHARGEATK",1+(@sklv>1)+(@sklv>3);
        bonus4 bAutoSpellOnSkill,"KN_CHARGEATK","SM_PROVOKE",@sklv,200*@sklv;
      } else
        callfunc "GetSkill","KN_CHARGEATK",@sklv,@sklv,0,1;
  - Id: 4145
    Name: SPE_14_5
    Description: White Counter
    MaxLevel: 5
    Script: >
      if (isskillintree("KN_AUTOCOUNTER")) {
        callfunc("skill_kugan_bonus","KN_AUTOCOUNTER",@sklv,"add",1);
        bonus5 bAddEffOnSkill,"KN_AUTOCOUNTER",Eff_Stun,7500+2500*@sklv,ATF_TARGET,800+200*@sklv;
      }
      else
        callfunc "GetSkill","KN_AUTOCOUNTER",@sklv,@sklv,0,1;
  - Id: 4146
    Name: SPE_14_6
    Description: White Beat
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_JOINTBEAT")) {
        callfunc("skill_kugan_bonus","LK_JOINTBEAT",@sklv,"add",1);
        bigbonus bBattleBonus,600+400*@sklv,SC_JOINTBEAT,ALWAYS,@sklv,32,0,0,7500+2500*@sklv,SCSTART_NONE,NO_DAMAGE,NO_RATIO,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"LK_JOINTBEAT",0,100,TG_TARGET,TH_LOWER,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleBonus,1800+1200*@sklv,SC_JOINTBEAT,ALWAYS,@sklv,32,0,0,7500+2500*@sklv,SCSTART_NONE,NO_DAMAGE,NO_RATIO,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"LK_JOINTBEAT",0,99,TG_TARGET,0,0,NO_STATUS,NO_CONDITION;
      } else {
        callfunc "GetSkill","LK_JOINTBEAT",@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,"LK_JOINTBEAT",5000;
        bonus2 bSkillVariableCast,"LK_JOINTBEAT",1000;
        bonus2 bSkillUseSPrate,"LK_JOINTBEAT",-100;
      }
  - Id: 4147
    Name: SPE_14_7
    Description: White Parry
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_PARRYING"))
        bonus2 bParryingRate,4,2*@sklv;
      else {
        callfunc "GetSkill","LK_PARRYING",@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,"LK_PARRYING",30000;
        bonus2 bSkillVariableCast,"LK_PARRYING",3000;
        bonus2 bSkillUseSPrate,"LK_PARRYING",-100;
        bonus2 bSelfBuffDuration,SC_PARRYING,-50;
      }
  - Id: 4148
    Name: SPE_14_8
    Description: White Honnor
    MaxLevel: 5
    Script: >
      bonus bPhysicalFrontRate,@sklv;
      bonus bFrontDefRate,@sklv;
  - Id: 4149
    Name: SPE_14_9
    Description: White Fate
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 5000
    Duration1: 15000
    LPCost: 8
    Visual1: 1433
  - Id: 4150
    Name: SPE_15
    Description: Bloody Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","13331",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4151
    Name: SPE_15_1
    Description: Bloody Critical
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_CRITICALSLASH",@sklv,"npc",1);
      callfunc "GetSkill","NPC_CRITICALSLASH",@sklv,@sklv,0,0;
      if(isskillintree("KN_AUTOCOUNTER"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_CRITICALSLASH",4151;
  - Id: 4152
    Name: SPE_15_2
    Description: Bloody Wound
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_CRITICALWOUND",@sklv,"npc",1);
      callfunc "GetSkill","NPC_CRITICALWOUND",@sklv,@sklv,0,0;
      if(isskillintree("KN_BRANDISHSPEAR")) {
        bonus2 bCastRate,"NPC_CRITICALWOUND",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_CRITICALWOUND",5*@sklv;
      }
  - Id: 4153
    Name: SPE_15_3
    Description: Bloody Slaughter
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDEBLEEDING",@sklv,"npc",1);
      callfunc "GetSkill","NPC_WIDEBLEEDING",@sklv,@sklv,0,0;
      if(isskillintree("KN_BOWLINGBASH")) {
        bonus2 bCastRate,"NPC_WIDEBLEEDING",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_WIDEBLEEDING",5*@sklv;
      }
  - Id: 4154
    Name: SPE_15_4
    Description: Bloody Drain
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_BLOODDRAIN",@sklv,"npc",1);
      callfunc "GetSkill","NPC_BLOODDRAIN",@sklv,@sklv,0,0;
      if(isskillintree("SM_RECOVERY")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_BLOODDRAIN",4154;
        bonus2 bSkillHeal2,"NPC_BLOODDRAIN",50;
      }
  - Id: 4155
    Name: SPE_15_5
    Description: Bloody Gift
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_VAMPIRE_GIFT",@sklv,"npc",1);
      callfunc "GetSkill","NPC_VAMPIRE_GIFT",@sklv,@sklv,0,0;
      if(isskillintree("SM_MAGNUM")) {
        bonus2 bCastRate,"NPC_VAMPIRE_GIFT",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_VAMPIRE_GIFT",5*@sklv;
      }
  - Id: 4156
    Name: SPE_15_6
    Description: Bloody Crush
    MaxLevel: 5
    Script: >
      if (isskillintree("LK_HEADCRUSH")) {
        bonus2 bSkillUseSP,"LK_HEADCRUSH",-@sklv;
        bonus5 bAddEffOnSkill,"LK_HEADCRUSH",Eff_Bleeding,300*@sklv,ATF_TARGET,15000;
        callfunc("skill_kugan_bonus","LK_HEADCRUSH",@sklv,"add",1);
      } else
        callfunc "GetSkill","LK_HEADCRUSH",@sklv,@sklv,0,1;
  - Id: 4157
    Name: SPE_15_7
    Description: Bloody Lust
    MaxLevel: 5
    Script: >
      bonus2 bDrainHpRate,4,10*@sklv;
  - Id: 4158
    Name: SPE_15_8
    Description: Bloody Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Bleeding,BF_NONE,3*@sklv;
  - Id: 4159
    Name: SPE_15_9
    Description: Bloody Ritual
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 10
    Visual1: 1434
    Duration1: 15000
    Script: >
      if(!getstatus(SC_SPE_4159)) end;
      bonus3 bHpToDamage,20+(@sklv*10),(@sklv-1)*10,20+(@sklv*3);
      bonus bHealPower2,-50;
  - Id: 4160
    Name: SPE_16
    Description: Witchcraft Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","56334",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4161
    Name: SPE_16_1
    Description: Witchcraft Frost
    MaxLevel: 5
    SkillAttached: WZ_FROSTNOVA
    Script: >
      if (isskillintree("WZ_FROSTNOVA")) {
        callfunc("skill_kugan_bonus","WZ_FROSTNOVA",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"WZ_FROSTNOVA",4161;
      } else
        callfunc "GetSkill","WZ_FROSTNOVA",@sklv,@sklv,0,1;
  - Id: 4162
    Name: SPE_16_2
    Description: Witchcraft Quaggmir
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_QUAGMIRE"))
        bonus2 bSkillUseSP,"WZ_QUAGMIRE",-3*@sklv;
      else
        callfunc "GetSkill","WZ_QUAGMIRE",@sklv,@sklv,0,1;
  - Id: 4163
    Name: SPE_16_3
    Description: Witchcraft Storm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_THUNDERSTORM")) {
        callfunc("skill_kugan_bonus","MG_THUNDERSTORM",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_THUNDERSTORM",-3*@sklv;
        bonus5 bAddEffOnSkill,"MG_THUNDERSTORM",Eff_Blind,2000*@sklv,ATF_TARGET,5000;
      } else
        callfunc "GetSkill","MG_THUNDERSTORM",@sklv*2,@sklv,0,1;
  - Id: 4164
    Name: SPE_16_4
    Description: Witchcraft Fire
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_SIGHTBLASTER")) {
        callfunc("skill_kugan_bonus","WZ_SIGHTBLASTER",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"WZ_SIGHTBLASTER",4164;
      } else
        callfunc "GetSkill","WZ_SIGHTBLASTER",@sklv,@sklv,0,1;
  - Id: 4165
    Name: SPE_16_5
    Description: Witchcraft Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_NAPALMVULCAN")) {
        callfunc("skill_kugan_bonus","HW_NAPALMVULCAN",@sklv,"add",1);
        bonus2 bSkillUseSP,"HW_NAPALMVULCAN",-2*@sklv;
        bonus5 bAddEffOnSkill,"HW_NAPALMVULCAN",SC_SLOW,300*@sklv,ATF_TARGET,5000;
      } else {
        callfunc "GetSkill","HW_NAPALMVULCAN",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"HW_NAPALMVULCAN",-50;
        bonus2 bCastrate,"HW_NAPALMVULCAN",50;
        bonus2 bSkillCooldown,"HW_NAPALMVULCAN",7000;
      }
  - Id: 4166
    Name: SPE_16_6
    Description: Witchcraft Gravity
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_GRAVITATION")) {
        callfunc("skill_kugan_bonus","HW_GRAVITATION",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_MDEF,ALWAYS,0,@sklv,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,DMG_NONE,ELE_NONE,DEF_NONE,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,484,0,0,0,0,0,SC_NONE,CDT_NONE;
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,0,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_MATK,ELE_NEUTRAL,DEF_MDEF|DEF_MOB,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_GRAVITATION,CDT_SELF;
        bonus2 bSkillAfterHitDelayRate,"HW_GRAVITATION",20*@sklv;
      } else {
        callfunc "GetSkill","HW_GRAVITATION",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"HW_GRAVITATION",-100;
        bonus2 bCastrate,"HW_GRAVITATION",100;
        bonus2 bSkillCooldown,"HW_GRAVITATION",10000;
      }
  - Id: 4167
    Name: SPE_16_7
    Description: Witchcraft Crash
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_MAGICCRASHER")) {
        callfunc("skill_kugan_bonus","HW_MAGICCRASHER",@sklv,"add",1);
        bonus2 bSkillUseSP,"HW_MAGICCRASHER",-3*@sklv;
        bonus5 bAddEffOnSkill,"HW_MAGICCRASHER",SC_OATH,2000*@sklv,ATF_TARGET,7000;
      } else
        callfunc "GetSkill","HW_MAGICCRASHER",@sklv,@sklv,0,1;
  - Id: 4168
    Name: SPE_16_8
    Description: Witchcraft Resilience
    MaxLevel: 5
    Script: >
      bonus bCastDefRate,4*@sklv;
  - Id: 4169
    Name: SPE_16_9
    Description: Witchcraft Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 30
    Visual1: 1436
    Script: >
      if(!getstatus(SC_SPE_4169)) end;
      bonus bDef,@sklv;
      bonus bMDef,2*@sklv;
      bonus2 bSubEle,@chosenele,5*@sklv;
      bonus2 bMagicAtkEle,@chosenele,5*@sklv;
      bonus3 bAutoSpellWhenHit,(@chosenele == 1)*88+(@chosenele == 2)*92+(@chosenele == 3)*17+(@chosenele == 4)*21,5,30*@sklv;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,30*@sklv,DMG_MATK,@chosenele,DEF_MDEF|DEF_MOB,NO_STATUS,EV_WHEN_HIT,0,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4170
    Name: SPE_17
    Description: Magister Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46454",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4171
    Name: SPE_17_1
    Description: Magister Storm
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_METEOR")) {
        callfunc("skill_kugan_bonus","WZ_METEOR",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_METEOR",-3*@sklv;
        bonus5 bAddEffOnSkill,"WZ_METEOR",Eff_Burning,400*@sklv,ATF_TARGET,20000;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,2*@sklv,DMG_MATK,ELE_FIRE,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,0,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_BURNING,CDT_TARGET;
      } else
        callfunc "GetSkill","WZ_METEOR",@sklv*2,@sklv,0,1;
  - Id: 4172
    Name: SPE_17_2
    Description: Magister Drive
    MaxLevel: 5
    Script: >
      if (isskillintree("NPC_EARTHQUAKE")) {
        callfunc("skill_kugan_bonus","NPC_EARTHQUAKE",@sklv,"add",1);
        bonus2 bSkillUseSP,"NPC_EARTHQUAKE",-3*@sklv;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,2*@sklv,DMG_MATK,ELE_EARTH,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,0,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_STONE,CDT_TARGET;
      } else
        callfunc "GetSkill","NPC_EARTHQUAKE",@sklv*2,@sklv,0,1;
  - Id: 4173
    Name: SPE_17_3
    Description: Magister Vermillion
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_VERMILION")) {
        callfunc("skill_kugan_bonus","WZ_VERMILION",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_VERMILION",-3*@sklv;
        bonus5 bAddEffOnSkill,"WZ_VERMILION",SC_STOP,400*@sklv,ATF_TARGET,10000;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,2*@sklv,DMG_MATK,ELE_WIND,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,0,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_STOP,CDT_TARGET;
      } else
        callfunc "GetSkill","WZ_VERMILION",@sklv*2,@sklv,0,1;
  - Id: 4174
    Name: SPE_17_4
    Description: Magister Gust
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_STORMGUST")) {
        callfunc("skill_kugan_bonus","WZ_STORMGUST",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_STORMGUST",-3*@sklv;
        bonus5 bAddEffOnSkill,"WZ_STORMGUST",SC_SLOW,400*@sklv,ATF_TARGET,10000;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,2*@sklv,DMG_MATK,ELE_WATER,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,0,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_SLOW,CDT_TARGET;
      } else
        callfunc "GetSkill","WZ_STORMGUST",@sklv*2,@sklv,0,1;
  - Id: 4175
    Name: SPE_17_5
    Description: Magister Amplify
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_MAGICPOWER")) {
        bonus2 bSkillUseSP,"HW_MAGICPOWER",-2*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"HW_MAGICPOWER",4175;
      } else {
        callfunc "GetSkill","HW_MAGICPOWER",@sklv*2,@sklv,0,1;
        bonus2 bSkillUseSPrate,"HW_MAGICPOWER",-100;
        bonus2 bCastrate,"HW_MAGICPOWER",100;
        bonus2 bSelfBuffDuration,SC_MAGICPOWER,-50;
        bonus2 bSkillCooldown,"HW_MAGICPOWER",15000;
      }
  - Id: 4176
    Name: SPE_17_6
    Description: Magister Drain
    MaxLevel: 5
    Script: >
      if (!isskillintree("HW_SOULDRAIN"))
        callfunc "GetSkill","HW_SOULDRAIN",@sklv,@sklv,0,1;
  - Id: 4177
    Name: SPE_17_7
    Description: Magister Maestria
    MaxLevel: 5
    Script: >
      bonus3 bAutoSpell,"WZ_STORMGUST",1,4*@sklv+((5*getskilllv("WZ_STORMGUST"))/10);
      bonus3 bAutoSpell,"WZ_METEOR",1,4*@sklv+((5*getskilllv("WZ_METEOR"))/10);
      bonus3 bAutoSpell,"WZ_VERMILION",1,4*@sklv+((5*getskilllv("WZ_VERMILION"))/10);
      bonus3 bAutoSpell,"NPC_EARTHQUAKE",1,4*@sklv+((5*getskilllv("NPC_EARTHQUAKE"))/10);
      bonus3 bAutoSpellWhenHit,"WZ_STORMGUST",1,2*@sklv+((2*getskilllv("WZ_STORMGUST"))/10);
      bonus3 bAutoSpellWhenHit,"WZ_METEOR",1,2*@sklv+((2*getskilllv("WZ_METEOR"))/10);
      bonus3 bAutoSpellWhenHit,"WZ_VERMILION",1,2*@sklv+((2*getskilllv("WZ_VERMILION"))/10);
      bonus3 bAutoSpellWhenHit,"NPC_EARTHQUAKE",1,2*@sklv+((2*getskilllv("NPC_EARTHQUAKE"))/10);
      bonus4 bAutoSpellOnSkill,"WZ_STORMGUST","NPC_WATERATTACK",@sklv,200;
      bonus4 bAutoSpellOnSkill,"WZ_METEOR","NPC_FIREATTACK",@sklv,200;
      bonus4 bAutoSpellOnSkill,"WZ_VERMILION","NPC_WINDATTACK",@sklv,200;
      bonus4 bAutoSpellOnSkill,"NPC_EARTHQUAKE","NPC_GROUNDATTACK",@sklv,200;
  - Id: 4178
    Name: SPE_17_8
    Description: Magister Rod
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Duration1: 60000
    LPCost: 15
    Visual1: 1437
    Script: >
      if(!getstatus(SC_SPE_4178)) end;
      if(@sklv > 2) bonus2 bSkillRange,"WZ_STORMGUST",1+(@sklv>4);
      if(@sklv > 2) bonus2 bSkillRange,"WZ_METEOR",1+(@sklv>4);
      if(@sklv > 2) bonus2 bSkillRange,"WZ_VERMILION",1+(@sklv>4);
      if(@sklv > 2) bonus2 bSkillRange,"NPC_EARTHQUAKE",1+(@sklv>4);
      bonus2 bSkillAddCritical,"WZ_STORMGUST",3+(@sklv>1)*3+(@sklv>3)*3;
      bonus2 bSkillAddCritical,"WZ_METEOR",3+(@sklv>1)*3+(@sklv>3)*3;
      bonus2 bSkillAddCritical,"WZ_VERMILION",3+(@sklv>1)*3+(@sklv>3)*3;
      bonus2 bSkillAddCritical,"NPC_EARTHQUAKE",3+(@sklv>1)*3+(@sklv>3)*3;
      bonus2 bSkillUseSPrate,"WZ_STORMGUST",-10*@sklv;
      bonus2 bSkillUseSPrate,"WZ_METEOR",-10*@sklv;
      bonus2 bSkillUseSPrate,"WZ_VERMILION",-10*@sklv;
      bonus2 bSkillUseSPrate,"NPC_EARTHQUAKE",-10*@sklv;
      bonus2 bSkillDelay,"WZ_STORMGUST",-334-(@sklv>1)*333-(@sklv>3)*333;
      bonus2 bSkillDelay,"WZ_METEOR",-334-(@sklv>1)*333-(@sklv>3)*333;
      bonus2 bSkillDelay,"WZ_VERMILION",-334-(@sklv>1)*333-(@sklv>3)*333;
      bonus2 bSkillDelay,"NPC_EARTHQUAKE",-334-(@sklv>1)*333-(@sklv>3)*333;
  - Id: 4179
    Name: SPE_17_9
    Description: Magister Extension
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 30000
    LPCost: 10
    Visual1: 1439
    Script: >
      if(!getstatus(SC_SPE_4179)) end;
      bonus bMatkRate,(2 + 2 * @magisterextension) * @sklv;
      bonus2 bIgnoreMdefRaceRate,RC_All,(3 + 2 * @magisterextension) * @sklv;
      bonus4 bAutoSpellOnSkill,"WZ_STORMGUST","MG_COLDBOLT",@sklv,200;
      bonus4 bAutoSpellOnSkill,"WZ_METEOR","MG_FIREBOLT",@sklv,200;
      bonus4 bAutoSpellOnSkill,"WZ_VERMILION","MG_LIGHTNINGBOLT",@sklv,200;
      bonus5 bAutoSpellOnSkill,"NPC_EARTHQUAKE","WZ_EARTHSPIKE",@sklv,200,0;
      bonus bUseSPrate,(100 + 100 * @magisterextension);
      bonus bCastRate,-(10 + 10 * @magisterextension);
      bonus bMaxSpRate,-(33 + 33 * @magisterextension);
  - Id: 4180
    Name: SPE_18
    Description: Fire Elemental Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","41514",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4181
    Name: SPE_18_1
    Description: Fire Elemental Bolt
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREBOLT")) {
        callfunc("skill_kugan_bonus","MG_FIREBOLT",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_FIREBOLT",4181;
      } else
        callfunc "GetSkill","MG_FIREBOLT",@sklv*2,@sklv,0,1;
  - Id: 4182
    Name: SPE_18_2
    Description: Fire Elemental Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_FIREATTACK",@sklv,"npc",1);
      bonus4 bSkillScript,devotion[Ele_Fire]*200,NO_COOLDOWN,"NPC_FIREATTACK",4182;
      callfunc "GetSkill","NPC_FIREATTACK",@sklv*2,@sklv,0,1;
      if(isskillintree("MG_FIREBOLT")) {
        .@skillratio = 25*readparam(bInt)/100;
        .@skillratio = .@skillratio * (1 + 1 * ((readparam(bInt)>readparam(bDex)) && (readparam(bInt)>readparam(bStr))));
        bonus2 bSkillAtk,"NPC_FIREATTACK",.@skillratio;
        bonus2 bSkillCooldownRate,"NPC_FIREATTACK",5*@sklv;
      }
  - Id: 4183
    Name: SPE_18_3
    Description: Fire Elemental Utility
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREWALL")) {
        callfunc("skill_kugan_bonus","MG_FIREWALL",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_FIREWALL",-2*@sklv;
        bonus5 bAddEffOnSkill,"MG_FIREWALL",SC_WEAK,(((300*@sklv) * (100 + devotion[Ele_Fire])) / 100),ATF_TARGET,15000;
      } else
        callfunc "GetSkill","MG_FIREWALL",@sklv*2,@sklv,0,1;
  - Id: 4184
    Name: SPE_18_4
    Description: Fire Elemental Zone
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREBALL")) {
        callfunc("skill_kugan_bonus","MG_FIREBALL",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_FIREBALL",-2*@sklv;
        bonus5 bAddEffOnSkill,"MG_FIREBALL",SC_FEVER,(((800*@sklv) * (100 + devotion[Ele_Fire])) / 100),ATF_TARGET,15000;
      } else
        callfunc "GetSkill","MG_FIREBALL",@sklv*2,@sklv,0,1;
  - Id: 4185
    Name: SPE_18_5
    Description: Fire Elemental Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_METEOR")) {
        callfunc("skill_kugan_bonus","WZ_METEOR",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_METEOR",-(((2*@sklv) * (100 + devotion[Ele_Fire])) / 100);
        bonus2 bCastrate,"WZ_METEOR",-(((@sklv) * (100 + devotion[Ele_Fire])) / 100);
        bonus2 bSkillAfterHitDelayRate,"WZ_METEOR",(((@sklv) * (100 + devotion[Ele_Fire])) / 100);
        bonus2 bSkillAtk,"WZ_METEOR",(((@sklv) * (100 + devotion[Ele_Fire])) / 100);
      } else
        callfunc "GetSkill","WZ_METEOR",@sklv*2,@sklv,0,1;
  - Id: 4186
    Name: SPE_18_6
    Description: Fire Elemental Strike
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,ELE_FIRE,(((4*@sklv) * (100 + devotion[Ele_Fire])) / 100);
  - Id: 4187
    Name: SPE_18_7
    Description: Fire Elemental Charm
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Burning,BF_NONE,(((1+@sklv+1*(@sklv >= 5)) * (100 + devotion[Ele_Fire])) / 100);
      bonus4 bAddEffElement,ELE_FIRE,SC_BURNING,15000,(((100*@sklv) * (100 + devotion[Ele_Fire])) / 100);
  - Id: 4188
    Name: SPE_18_8
    Description: Fire Elemental Enhancement
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 10
    Visual1: 1441
    Script: >
      if(!getstatus(SC_SPE_4188)) end;
      bonus3 bElementDamageRate,Ele_Fire,1,(((@sklv) * (100 + devotion[Ele_Fire])) / 100);
      bonus3 bElementDamageRate,Ele_Fire,0,(((2*@sklv) * (100 + devotion[Ele_Fire])) / 100);
      bonus2 bSkillElement,13,Ele_Fire;
      bonus2 bSkillElement,11,Ele_Fire;
  - Id: 4189
    Name: SPE_18_9
    Description: Fire Elemental Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4190
    Name: SPE_19
    Description: Water Elemental Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4191
    Name: SPE_19_1
    Description: Water Elemental Bolt
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_COLDBOLT")) {
        callfunc("skill_kugan_bonus","MG_COLDBOLT",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_COLDBOLT",4191;
      } else
        callfunc "GetSkill","MG_COLDBOLT",@sklv*2,@sklv,0,1;
  - Id: 4192
    Name: SPE_19_2
    Description: Water Elemental Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WATERATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_WATERATTACK",@sklv*2,@sklv,0,1;
      bonus4 bSkillScript,devotion[Ele_Water]*200,NO_COOLDOWN,"NPC_WATERATTACK",4192;
      if(isskillintree("MG_COLDBOLT")) {
        .@skillratio = 25*readparam(bInt)/100;
        .@skillratio = .@skillratio * (1 + 1 * ((readparam(bInt)>readparam(bDex)) && (readparam(bInt)>readparam(bStr))));
        bonus2 bSkillAtk,"NPC_WATERATTACK",.@skillratio;
        bonus2 bSkillCooldownRate,"NPC_WATERATTACK",5*@sklv;
      }
  - Id: 4193
    Name: SPE_19_3
    Description: Water Elemental Utility
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FROSTDIVER")) {
        callfunc("skill_kugan_bonus","MG_FROSTDIVER",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_FROSTDIVER",-(((2*@sklv) * (100 + devotion[Ele_Water])) / 100);
        bonus5 bAddEffOnSkill,"MG_FROSTDIVER",SC_CRACK,(((700*@sklv) * (100 + devotion[Ele_Water])) / 100),ATF_TARGET,15000;
      } else
        callfunc "GetSkill","MG_FROSTDIVER",@sklv*2,@sklv,0,1;
  - Id: 4194
    Name: SPE_19_4
    Description: Water Elemental Zone
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_FROSTNOVA")) {
        callfunc("skill_kugan_bonus","WZ_FROSTNOVA",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_FROSTNOVA",-(((2*@sklv) * (100 + devotion[Ele_Water])) / 100);
        bonus5 bAddEffOnSkill,"WZ_FROSTNOVA",SC_CHILL,(((1000*@sklv) * (100 + devotion[Ele_Water])) / 100),ATF_TARGET,15000;
      } else
        callfunc "GetSkill","WZ_FROSTNOVA",@sklv*2,@sklv,0,1;
  - Id: 4195
    Name: SPE_19_5
    Description: Water Elemental Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_STORMGUST")) {
        callfunc("skill_kugan_bonus","WZ_STORMGUST",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_STORMGUST",(((2*@sklv) * (100 + devotion[Ele_Water])) / 100);
        bonus2 bCastrate,"WZ_STORMGUST",-(((@sklv) * (100 + devotion[Ele_Water])) / 100);
        bonus2 bSkillAfterHitDelayRate,"WZ_STORMGUST",(((@sklv) * (100 + devotion[Ele_Water])) / 100);
        bonus2 bSkillAtk,"WZ_STORMGUST",(((@sklv) * (100 + devotion[Ele_Water])) / 100);
      } else
        callfunc "GetSkill","WZ_STORMGUST",@sklv*2,@sklv,0,1;
  - Id: 4196
    Name: SPE_19_6
    Description: Water Elemental Strike
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,ELE_WATER,(((4*@sklv) * (100 + devotion[Ele_Water])) / 100);
  - Id: 4197
    Name: SPE_19_7
    Description: Water Elemental Charm
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Freeze,BF_NONE,(((1+@sklv+1*(@sklv >= 5)) * (100 + devotion[Ele_Water])) / 100);
      bonus4 bAddEffElement,ELE_WATER,SC_FREEZE,5000,(((100*@sklv) * (100 + devotion[Ele_Water])) / 100);
  - Id: 4198
    Name: SPE_19_8
    Description: Water Elemental Enhancement
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 10
    Visual1: 1443
    Script: >
      if(!getstatus(SC_SPE_4198)) end;
      bonus3 bElementDamageRate,Ele_Water,1,(((@sklv) * (100 + devotion[Ele_Water])) / 100);
      bonus3 bElementDamageRate,Ele_Water,0,(((2*@sklv) * (100 + devotion[Ele_Water])) / 100);
      bonus2 bSkillElement,"MG_SOULSTRIKE",Ele_Water;
      bonus2 bSkillElement,"MG_NAPALMBEAT",Ele_Water;
  - Id: 4199
    Name: SPE_19_9
    Description: Water Elemental Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4200
    Name: SPE_20
    Description: Wind Elemental Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","42524",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4201
    Name: SPE_20_1
    Description: Wind Elemental Bolt
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_LIGHTNINGBOLT")) {
        callfunc("skill_kugan_bonus","MG_LIGHTNINGBOLT",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_LIGHTNINGBOLT",4201;
      } else
        callfunc "GetSkill","MG_LIGHTNINGBOLT",@sklv*2,@sklv,0,1;
  - Id: 4202
    Name: SPE_20_2
    Description: Wind Elemental Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WINDATTACK",@sklv,"npc",1);
      bonus4 bSkillScript,devotion[Ele_Wind]*200,NO_COOLDOWN,"NPC_WINDATTACK",4202;
      callfunc "GetSkill","NPC_WINDATTACK",@sklv*2,@sklv,0,1;
      if(isskillintree("MG_LIGHTNINGBOLT")) {
        .@skillratio = 25*readparam(bInt)/100;
        .@skillratio = .@skillratio * (1 + 1 * ((readparam(bInt)>readparam(bDex)) && (readparam(bInt)>readparam(bStr))));
        bonus2 bSkillAtk,"NPC_WINDATTACK",.@skillratio;
        bonus2 bSkillCooldownRate,"NPC_WINDATTACK",5*@sklv;
      }
  - Id: 4203
    Name: SPE_20_3
    Description: Wind Elemental Utility
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_GANBANTEIN")) {
        bonus2 bCastrate,"HW_GANBANTEIN",-(((@sklv * 5) * (100 + devotion[Ele_Wind])) / 100);
        bonus2 bSkillUseSP,"HW_GANBANTEIN",-(((2*@sklv) * (100 + devotion[Ele_Wind])) / 100);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"HW_GANBANTEIN",4203;
      } else
        callfunc "GetSkill","HW_GANBANTEIN",@sklv,@sklv,0,1;
  - Id: 4204
    Name: SPE_20_4
    Description: Wind Elemental Zone
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_THUNDERSTORM")) {
        callfunc("skill_kugan_bonus","MG_THUNDERSTORM",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_THUNDERSTORM",-(((2*@sklv) * (100 + devotion[Ele_Wind])) / 100);
        bonus5 bAddEffOnSkill,"MG_THUNDERSTORM",SC_CREEPLE,(((500*@sklv) * (100 + devotion[Ele_Wind])) / 100),ATF_TARGET,15000;
      } else
        callfunc "GetSkill","MG_THUNDERSTORM",@sklv*2,@sklv,0,1;
  - Id: 4205
    Name: SPE_20_5
    Description: Wind Elemental Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_VERMILION")) {
        callfunc("skill_kugan_bonus","WZ_VERMILION",@sklv,"add",1);
        bonus2 bSkillUseSP,"WZ_VERMILION",(((2*@sklv) * (100 + devotion[Ele_Wind])) / 100);
        bonus2 bCastrate,"WZ_VERMILION",-(((@sklv) * (100 + devotion[Ele_Wind])) / 100);
        bonus2 bSkillAfterHitDelayRate,"WZ_VERMILION",(((@sklv) * (100 + devotion[Ele_Wind])) / 100);
        bonus2 bSkillAtk,"WZ_VERMILION",(((@sklv) * (100 + devotion[Ele_Wind])) / 100);
      } else
        callfunc "GetSkill","WZ_VERMILION",2*@sklv,@sklv,0,1;
  - Id: 4206
    Name: SPE_20_6
    Description: Wind Elemental Strike
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,ELE_WIND,(((4*@sklv) * (100 + devotion[Ele_Wind])) / 100);
  - Id: 4207
    Name: SPE_20_7
    Description: Wind Elemental Charm
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,SC_Stop,BF_NONE,(((1+@sklv+1*(@sklv >= 5)) * (100 + devotion[Ele_Wind])) / 100);
      bonus4 bAddEffElement,ELE_WIND,SC_STOP,5000,(((100*@sklv) * (100 + devotion[Ele_Wind])) / 100);
  - Id: 4208
    Name: SPE_20_8
    Description: Wind Elemental Enhancement
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 10
    Visual1: 1454
    Script: >
      if(!getstatus(SC_SPE_4208)) end;
      bonus3 bElementDamageRate,Ele_Wind,1,(((@sklv) * (100 + devotion[Ele_Wind])) / 100);
      bonus3 bElementDamageRate,Ele_Wind,0,(((2*@sklv) * (100 + devotion[Ele_Wind])) / 100);
      bonus2 bSkillElement,"MG_SOULSTRIKE",Ele_Wind;
      bonus2 bSkillElement,"MG_NAPALMBEAT",Ele_Wind;
  - Id: 4209
    Name: SPE_20_9
    Description: Wind Elemental Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4210
    Name: SPE_21
    Description: Earth Elemental Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","43534",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4211
    Name: SPE_21_1
    Description: Earth Elemental Bolt
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_EARTHSPIKE")) {
        callfunc("skill_kugan_bonus","WZ_EARTHSPIKE",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"WZ_EARTHSPIKE",4211;
      } else
        callfunc "GetSkill","WZ_EARTHSPIKE",@sklv*2,@sklv,0,1;
  - Id: 4212
    Name: SPE_21_2
    Description: Earth Elemental Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_GROUNDATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_GROUNDATTACK",@sklv*2,@sklv,0,1;
      bonus4 bSkillScript,devotion[Ele_Earth]*200,NO_COOLDOWN,"NPC_GROUNDATTACK",4212;
      if(isskillintree("WZ_EARTHSPIKE")) {
        .@skillratio = 25*readparam(bInt)/100;
        .@skillratio = .@skillratio * (1 + 1 * ((readparam(bInt)>readparam(bDex)) && (readparam(bInt)>readparam(bStr))));
        bonus2 bSkillAtk,"NPC_GROUNDATTACK",.@skillratio;
        bonus2 bSkillCooldownRate,"NPC_GROUNDATTACK",5*@sklv;
      }
  - Id: 4213
    Name: SPE_21_3
    Description: Earth Elemental Utility
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_STONECURSE")) {
        bonus2 bSkillUseSP,"MG_STONECURSE",-(((2*@sklv) * (100 + devotion[Ele_Earth])) / 100);
        bonus5 bAddEffOnSkill,"MG_STONECURSE",SC_SICK,(((800*@sklv) * (100 + devotion[Ele_Earth])) / 100),ATF_TARGET,15000;
      } else
        callfunc "GetSkill","MG_STONECURSE",@sklv*2,@sklv,0,1;
  - Id: 4214
    Name: SPE_21_4
    Description: Earth Elemental Zone
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_QUAGMIRE"))
        bonus2 bSkillUseSP,"WZ_QUAGMIRE",-(((2*@sklv) * (100 + devotion[Ele_Earth])) / 100);
      else
        callfunc "GetSkill","WZ_QUAGMIRE",@sklv,@sklv,0,1;
  - Id: 4215
    Name: SPE_21_5
    Description: Earth Elemental Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("NPC_EARTHQUAKE")) {
        callfunc("skill_kugan_bonus","NPC_EARTHQUAKE",@sklv,"add",1);
        bonus2 bSkillUseSP,"NPC_EARTHQUAKE",(((2*@sklv) * (100 + devotion[Ele_Earth])) / 100);
        bonus2 bCastrate,"NPC_EARTHQUAKE",-(((@sklv) * (100 + devotion[Ele_Earth])) / 100);
        bonus2 bSkillAfterHitDelayRate,"NPC_EARTHQUAKE",(((@sklv) * (100 + devotion[Ele_Earth])) / 100);
        bonus2 bSkillAtk,"NPC_EARTHQUAKE",(((@sklv) * (100 + devotion[Ele_Earth])) / 100);
      } else
        callfunc "GetSkill","NPC_EARTHQUAKE",@sklv*2,@sklv,0,1;
  - Id: 4216
    Name: SPE_21_6
    Description: Earth Elemental Strike
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,ELE_EARTH,(((4*@sklv) * (100 + devotion[Ele_Earth])) / 100);
  - Id: 4217
    Name: SPE_21_7
    Description: Earth Elemental Charm
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Stone,BF_NONE,(((1+@sklv+1*(@sklv >= 5)) * (100 + devotion[Ele_Earth])) / 100);
      bonus4 bAddEffElement,ELE_EARTH,SC_STONE,5000,(((100*@sklv) * (100 + devotion[Ele_Earth])) / 100);
  - Id: 4218
    Name: SPE_21_8
    Description: Earth Elemental Enhancement
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 10
    Visual1: 1464
    Script: >
      if(!getstatus(SC_SPE_4218)) end;
      bonus3 bElementDamageRate,Ele_Earth,1,(((@sklv) * (100 + devotion[Ele_Earth])) / 100);
      bonus3 bElementDamageRate,Ele_Earth,0,(((2*@sklv) * (100 + devotion[Ele_Earth])) / 100);
      bonus2 bSkillElement,"MG_SOULSTRIKE",Ele_Earth;
      bonus2 bSkillElement,"MG_NAPALMBEAT",Ele_Earth;
  - Id: 4219
    Name: SPE_21_9
    Description: Earth Elemental Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4220
    Name: SPE_22
    Description: Faith Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","36463",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4221
    Name: SPE_22_1
    Description: Faith Pressure
    MaxLevel: 5
    Script: >
      if (isskillintree("PA_PRESSURE")) {
        callfunc("skill_kugan_bonus","PA_PRESSURE",@sklv,"add",1);
        bonus2 bSkillUseSP,"PA_PRESSURE",-5*@sklv;
        bonus2 bCastrate,"PA_PRESSURE",-5*@sklv;
        bonus2 bDelayRate,"PA_PRESSURE",-5*@sklv;
        bonus2 bSkillAtk,"PA_PRESSURE",3*@sklv;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,20*@sklv,DMG_CSP,ELE_HOLY,DEF_MDEF|DEF_MOB|DEF_MVP,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"PA_PRESSURE",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      } else {
        callfunc "GetSkill","PA_PRESSURE",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"PA_PRESSURE",-50;
      }
  - Id: 4222
    Name: SPE_22_2
    Description: Faith Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_HOLYATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_HOLYATTACK",@sklv*2,@sklv,0,1;
      if(isskillintree("CR_HOLYCROSS"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_HOLYATTACK",4222;
  - Id: 4223
    Name: SPE_22_3
    Description: Faith Cross
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_HOLYCROSS")) {
        bonus2 bSkillUseSPrate,"CR_HOLYCROSS",-5*@sklv;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,15*@sklv,DMG_HEAL|DMG_MATK1|DMG_HPLOST|DMG_MDEF,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,0,NO_VISUAL,"CR_HOLYCROSS",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      } else
        callfunc "GetSkill","CR_HOLYCROSS",@sklv*2,@sklv,0,1;
  - Id: 4224
    Name: SPE_22_4
    Description: Faith Grand Cross
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_GRANDCROSS")) {
        callfunc("skill_kugan_bonus","CR_HOLYCROSS",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,4*@sklv,DMG_HEAL|DMG_MATK1|DMG_ATK1,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,500,NO_VISUAL,"CR_GRANDCROSS",0,65,TG_TARGET,TH_HIGHER,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,2*@sklv,DMG_HEAL|DMG_MATK1|DMG_ATK1,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,500,NO_VISUAL,"CR_GRANDCROSS",0,35,TG_TARGET,TH_HIGHER,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,2*@sklv,DMG_HEAL|DMG_MATK1|DMG_ATK1,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,500,NO_VISUAL,"CR_GRANDCROSS",0,65,TG_SELF,TH_LOWER,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,4*@sklv,DMG_HEAL|DMG_MATK1|DMG_ATK1,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,500,NO_VISUAL,"CR_GRANDCROSS",0,35,TG_SELF,TH_LOWER,0,NO_STATUS,NO_CONDITION;
      } else
        callfunc "GetSkill","CR_GRANDCROSS",@sklv*2,@sklv,0,1;
  - Id: 4225
    Name: SPE_22_5
    Description: Faith Boomerang
    MaxLevel: 5
    SkillAttached: CR_SHIELDBOOMERANG
    Script: >
      if (isskillintree("CR_SHIELDBOOMERANG"))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,20*@sklv,DMG_SPLOST,ELE_HOLY,DEF_MODX1,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,0,NO_VISUAL,"CR_SHIELDBOOMERANG",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      else
        callfunc "GetSkill","CR_SHIELDBOOMERANG",@sklv,@sklv,0,1;
  - Id: 4226
    Name: SPE_22_6
    Description: Faith Providence
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_PROVIDENCE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"CR_PROVIDENCE",4226;
      else
        callfunc "GetSkill","CR_PROVIDENCE",@sklv,@sklv,0,1;
  - Id: 4227
    Name: SPE_22_7
    Description: Faith Quicken
    MaxLevel: 5
    SkillAttached: CR_SPEARQUICKEN
    Script: >
      callfunc "GetSkill","CR_SPEARQUICKEN",@sklv*(isskillintree("CR_SPEARQUICKEN")?1:2),@sklv,0,isskillintree("CR_SPEARQUICKEN")?0:1;
  - Id: 4228
    Name: SPE_22_8
    Description: Faith Fortitude
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 60000
    Duration1:
      - Level: 1
        Time: 8000
      - Level: 2
        Time: 11000
      - Level: 3
        Time: 14000
      - Level: 4
        Time: 17000
      - Level: 5
        Time: 20000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 4
    Visual1: 1465
  - Id: 4229
    Name: SPE_22_9
    Description: Faith Counter
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 12000
    Duration1: 15000
    SplashArea:
      - Level: 1
        Area: 3
      - Level: 2
        Area: 4
      - Level: 3
        Area: 5
      - Level: 4
        Area: 6
      - Level: 5
        Area: 7
    LPCost: 15
    Visual1: 1466
  - Id: 4230
    Name: SPE_23
    Description: Protector Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","35613",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4231
    Name: SPE_23_1
    Description: Protector Faith
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_TRUST"))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,150*@sklv,DMG_HEAL|DMG_MATK1|DMG_ATK1,ELE_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,0,TG_SELF,60000,14,NO_SKILL,0,33,TG_SELF,TH_LOWER,0,NO_STATUS,NO_CONDITION;
      else
        callfunc "GetSkill","CR_TRUST",@sklv*2,@sklv,0,1;
  - Id: 4232
    Name: SPE_23_2
    Description: Protector Guard
    MaxLevel: 5
    SkillAttached: CR_AUTOGUARD
    Script: >
      callfunc "GetSkill","CR_AUTOGUARD",@sklv,@sklv,0,isskillintree("CR_AUTOGUARD")?0:1;
  - Id: 4233
    Name: SPE_23_3
    Description: Protector Charge
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_SHIELDCHARGE")) {
        callfunc("skill_kugan_bonus","CR_SHIELDCHARGE",@sklv,"add",1);
        bonus2 bSkillUseSP,"CR_SHIELDCHARGE",-@sklv;
        if(@sklv>2)bonus2 bAddSkillBlow,"CR_SHIELDCHARGE",1;
        bonus3 bAddEffOnSkill,"CR_SHIELDCHARGE",Eff_Stun,25+(@sklv>1)*25+(@sklv>3)*25+(@sklv>4)*25;
        bigbonus bBattleBonus,ALWAYS,SC_STUN,ALWAYS,1,0,0,0,750+250*@sklv,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"CR_SHIELDCHARGE",0,0,0,0,0,NO_STATUS,CDT_INIT|CDT_SELF;
        @init = 1;
      } else
        callfunc "GetSkill","CR_SHIELDCHARGE",@sklv,@sklv,0,1;
  - Id: 4234
    Name: SPE_23_4
    Description: Protector Devotion
    MaxLevel: 5
    SkillAttached: CR_DEVOTION
    Script: >
      callfunc "GetSkill","CR_DEVOTION",@sklv,@sklv,0,isskillintree("CR_DEVOTION")?0:1;
  - Id: 4235
    Name: SPE_23_5
    Description: Protector Cross
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_HOLYCROSS")) {
        bonus3 bAddEffOnSkill,"CR_HOLYCROSS",Eff_Blind,300*@sklv;
        bonus2 bSkillUseSPrate,"CR_HOLYCROSS",-5*@sklv;
        bigbonus bBattleBonus,800*@sklv,SC_STUN,ALWAYS,0,0,0,0,3000,SC_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,0,NO_OPTION,0,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"CR_HOLYCROSS",0,0,0,0,0,SC_BLIND,CDT_TARGET;
      }
      else
        callfunc "GetSkill","CR_HOLYCROSS",@sklv*2,@sklv,0,1;
  - Id: 4236
    Name: SPE_23_6
    Description: Protector Sacrifice
    MaxLevel: 5
  - Id: 4237
    Name: SPE_23_7
    Description: Protector Stand
    MaxLevel: 5
    SkillAttached: CR_SHRINK
    Script: >
      if (isskillintree("CR_SHRINK")) {
        if(!getstatus(SC_SHRINK))
          bonus5 bAutoSpellWhenHit,"CR_SHIELDCHARGE",getskilllv("CR_SHIELDCHARGE")+5,@sklv*15,BF_NORMAL|BF_SKILL,1;
      } else
        callfunc "GetSkill","CR_SHRINK",@sklv,@sklv,0,1;    
  - Id: 4238
    Name: SPE_23_8
    Description: Protector Parry
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2:
      - Level: 1
        Time: 15000
      - Level: 2
        Time: 14000
      - Level: 3
        Time: 13000
      - Level: 4
        Time: 12000
      - Level: 5
        Time: 11000
    Duration1:
      - Level: 1
        Time: 5000
      - Level: 2
        Time: 6000
      - Level: 3
        Time: 7000
      - Level: 4
        Time: 8000
      - Level: 5
        Time: 9000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 5
    Visual1: 1477
  - Id: 4239
    Name: SPE_23_9
    Description: Protector Egide
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Duration1: 60000
    LPCost: 30
    Visual1: 1478
    SplashArea: 5
  - Id: 4240
    Name: SPE_24
    Description: Defensive Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","35163",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4241
    Name: SPE_24_1
    Description: Defensive Guard
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_AUTOGUARD"))
        bonus2 bBlockingRate,4,2*@sklv;
      else
        callfunc "GetSkill","CR_AUTOGUARD",@sklv,@sklv,0,1;
  - Id: 4242
    Name: SPE_24_2
    Description: Defensive Boomerang
    MaxLevel: 5
    SkillAttached: CR_SHIELDBOOMERANG
    Script: >
      if (isskillintree("CR_SHIELDBOOMERANG")) {
        bonus2 bSkillAfterHitDelayRate,"CR_SHIELDBOOMERANG",10*@sklv;
        if(getstatus(SC_SHRINK))
          bonus3 bAutoSpellWhenHit,"CR_SHIELDCHARGE",1,40*@sklv;
      }
      else
        callfunc "GetSkill","CR_SHIELDBOOMERANG",@sklv,@sklv,0,1;
  - Id: 4243
    Name: SPE_24_3
    Description: Defensive Defender
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_DEFENDER"))
        bigbonus bBattleBonus,ALWAYS,SC_STUN,250+50*@sklv,1,0,0,0,250+50*@sklv,SCSTART_NONE,getiteminfo(getequipid(EQI_HAND_L),6),40*@sklv,DMG_DEF,ELE_NEUTRAL,DEF_DEF|DEF_MOB,NO_STATUS,EV_WHEN_HIT,BF_LONG,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_DEFENDER,CDT_SELF;
      else {
        callfunc "GetSkill","CR_DEFENDER",1+(@sklv>4),1+(@sklv>4),0,1;
        bonus2 bSkillVariableCast,"CR_DEFENDER",1000+(@sklv>4)*1000;
        bonus2 bSelfBuffDuration,SC_DEFENDER,-92+(@sklv>1)*7+(@sklv>2)*10+(@sklv>3)*9;
      }
  - Id: 4244
    Name: SPE_24_4
    Description: Defensive Shrink
    MaxLevel: 5
    SkillAttached: CR_SHRINK
    Script: >
      callfunc "GetSkill","CR_SHRINK",@sklv,@sklv,0,isskillintree("CR_SHRINK")?0:1;
  - Id: 4245
    Name: SPE_24_5
    Description: Defensive Chain
    MaxLevel: 5
    Script: >
      .@sk$ = "PA_SHIELDCHAIN";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else {
        callfunc "GetSkill",.@sk$,@sklv,@sklv,0,1;
        bonus2 bCastrate,.@sk$,100;
        bonus2 bSkillUseSPrate,.@sk$,-100;
        bonus2 bSkillCooldown,.@sk$,10000;
      }
  - Id: 4246
    Name: SPE_24_6
    Description: Defensive Wall
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DEFENDER",@sklv,"npc");
      callfunc "GetSkill","NPC_DEFENDER",@sklv,@sklv,0,0;
  - Id: 4247
    Name: SPE_24_7
    Description: Defensive Shield
    MaxLevel: 5
    Script: >
      if(getequipweaponlv(EQI_HAND_L) != 0) end;
      bonus bDefRate,2*@sklv;
      bonus bMDefRate,2*@sklv;
      bonus2 bStuffResistRate,EQI_HAND_L,2*@sklv+(getiteminfo(getequipid(EQI_HAND_L),6)/10)/(100/@sklv);
  - Id: 4248
    Name: SPE_24_8
    Description: Defensive Maximize
    MaxLevel: 5
    Script: >
      .@def = 1+getequipweighttype(EQI_HAND_L)+getequiprefinerycnt(EQI_HAND_L)*66/100;
      if(.@def > 0) {
        bonus2 bResEff,Eff_All,((.@def > @sklv*2)?(@sklv*200):(.@def*100));
        bonus2 bSubEle,Ele_All,((.@def > @sklv*2)?@sklv*2:.@def);
        bonus2 bSubEle,Ele_Neutral,-((.@def > @sklv*2)?@sklv*2:.@def);
        bonus2 bSubRace,RC_All,((.@def > @sklv*2)?@sklv*2/2:.@def/2);
      }
  - Id: 4249
    Name: SPE_24_9
    Description: Defensive Zone
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    SplashArea: 2
    LPCost: 10
    Visual1: 1495
    Requires:
      State: Shield
  - Id: 4250
    Name: SPE_25
    Description: Vice Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","41314",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4251
    Name: SPE_25_1
    Description: Vice Grand Cross
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_GRANDDARKNESS",@sklv,"npc",1);
      callfunc "GetSkill","NPC_GRANDDARKNESS",@sklv*2,@sklv,0,0;
      if(isskillintree("CR_GRANDCROSS")) {
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,0,NO_OPTION,0,4*@sklv,DMG_ATK|DMG_MATK,ELE_HOLY,DEF_NONE,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_GRANDDARKNESS",0,65,TG_TARGET,TH_LOWER,TH_CHECK_HP,SC_NONE,CDT_NONE;
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,0,NO_OPTION,0,4*@sklv,DMG_ATK|DMG_MATK,ELE_HOLY,DEF_NONE,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_GRANDDARKNESS",0,35,TG_TARGET,TH_LOWER,TH_CHECK_HP,SC_NONE,CDT_NONE;
      }
  - Id: 4252
    Name: SPE_25_2
    Description: Vice Cross
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DARKCROSS",@sklv,"npc",1);
      callfunc "GetSkill","NPC_DARKCROSS",@sklv*2,@sklv,0,0;
      if(isskillintree("CR_HOLYCROSS"))
        bonus5 bAddEffOnSkill,"CR_HOLYCROSS",SC_MELTDAWN,2000*@sklv,ATF_TARGET,2000+1000*@sklv;
  - Id: 4253
    Name: SPE_25_3
    Description: Vice Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DARKNESSATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_DARKNESSATTACK",@sklv*2,@sklv,0,1;
      if(isskillintree("CR_HOLYCROSS"))
        bigbonus bBattleBonus,ALWAYS,SC_ARMOR_ELEMENT2,ALWAYS,0,-5*@sklv,0,0,7000,NO_OPTION,0,50*@sklv,DMG_ATK|DMG_MATK,ELE_DARK,DEF_MDEF|DEF_DEF,NO_STATUS,EV_ON_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_DARKNESSATTACK",0,0,0,0,0,SC_CURSE,CDT_TARGET;
  - Id: 4254
    Name: SPE_25_4
    Description: Vice Curse
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_CURSEATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_CURSEATTACK",@sklv*2,@sklv,0,0;
      if(isskillintree("CR_TRUST"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_CURSEATTACK",4254;
  - Id: 4255
    Name: SPE_25_5
    Description: Vice Judgement
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_HELLJUDGEMENT",@sklv,"npc",1);
      callfunc "GetSkill","NPC_HELLJUDGEMENT",@sklv*2,@sklv,0,0;
  - Id: 4256
    Name: SPE_25_6
    Description: Vice Wits
    MaxLevel: 5
    SkillAttached: 
    Script: >
      bonus3 bStatusDamageRate,Eff_Curse,BF_NONE,3*@sklv;
  - Id: 4257
    Name: SPE_25_7
    Description: Vice Fury
    MaxLevel: 5
    Script: >
      if (isskillintree("PA_SACRIFICE")) {
        callfunc("skill_kugan_bonus","PA_SACRIFICE",@sklv,"add",1);
        bonus bSacrificeSubRate,-5*@sklv;
      } else {
        callfunc "GetSkill","PA_SACRIFICE",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"PA_SACRIFICE",-50;
        bonus2 bCastrate,"PA_SACRIFICE",2000;
        bonus2 bSkillVariableCast,"PA_SACRIFICE",2000;
        bonus bSacrificeSubRate,55-5*@sklv;
      }
  - Id: 4258
    Name: SPE_25_8
    Description: Vice Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 30000
    LPCost: 20
    Visual1: 1499
    Script: >
      if(!getstatus(SC_SPE_4258)) end;
      for(.@i = 0; .@i < getarraysize(@vicearmor); .@i++) {
      	bonus3 bStatusDamageRate,@vicearmor[.@i],BF_NONE,3*@sklv;
        bonus2 bAddEff,@vicearmor[.@i],400*@sklv;
      }
      bonus bStatusSubSuccess,4*@sklv;
  - Id: 4259
    Name: SPE_25_9
    Description: Vice Rancor
    MaxLevel: 5
    Type: Weapon
    TargetType: Attack
    DamageFlags:
      IgnoreDefense: true
    CastTimeFlags:
      IgnoreDex: true
    Range: -9
    Hit: Single
    HitCount: 1
    CastCancel: true
    CastDefenseReduction: 50
    Element: Weapon
    CastTime: 500
    Cooldown: 7000
    LPCost: 6
  - Id: 4260
    Name: SPE_26
    Description: Black Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","52625",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4261
    Name: SPE_26_1
    Description: Black Venom
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_POISON")) {
        callfunc("skill_kugan_bonus","TF_POISON",@sklv,"add",1);
        bonus5 bAddEffOnSkill,"TF_POISON",SC_STRIPABLE,10000,ATF_TARGET,2000+1000*@sklv;
      }
      else
        callfunc "GetSkill","TF_POISON",@sklv*2,@sklv,0,1;
  - Id: 4262
    Name: SPE_26_2
    Description: Black Straff
    MaxLevel: 5
    Script: >
      if (!isskillintree("AC_DOUBLE"))
        callfunc "GetSkill","AC_DOUBLE",@sklv*2,@sklv,0,1;
  - Id: 4263
    Name: SPE_26_3
    Description: Black Intimidate
    MaxLevel: 5
    SkillAttached: RG_INTIMIDATE
    Script: >
      if (isskillintree("RG_INTIMIDATE")) {
        callfunc("skill_kugan_bonus","RG_INTIMIDATE",@sklv,"add",1);
        bonus2 bSkillRange,"RG_INTIMIDATE",@sklv;
        bonus2 bSkillUseSPrate,"RG_INTIMIDATE",-4*@sklv;
      }
      else
        callfunc "GetSkill","RG_INTIMIDATE",@sklv,@sklv,0,1;
  - Id: 4264
    Name: SPE_26_4
    Description: Black Unshield
    MaxLevel: 5
    SkillAttached: RG_STRIPSHIELD
    Script: >
      callfunc "GetSkill","RG_STRIPSHIELD",@sklv,@sklv,0,isskillintree("RG_STRIPSHIELD")?0:1;
  - Id: 4265
    Name: SPE_26_5
    Description: Black Unweapon
    MaxLevel: 5
    SkillAttached: RG_STRIPWEAPON
    Script: >
      callfunc "GetSkill","RG_STRIPWEAPON",@sklv,@sklv,0,isskillintree("RG_STRIPWEAPON")?0:1;
  - Id: 4266
    Name: SPE_26_6
    Description: Black Unarmor
    MaxLevel: 5
    SkillAttached: RG_STRIPARMOR
    Script: >
      callfunc "GetSkill","RG_STRIPARMOR",@sklv,@sklv,0,isskillintree("RG_STRIPARMOR")?0:1;
  - Id: 4267
    Name: SPE_26_7
    Description: Black Unhelm
    MaxLevel: 5
    SkillAttached: RG_STRIPHELM
    Script: >
      callfunc "GetSkill","RG_STRIPHELM",@sklv,@sklv,0,isskillintree("RG_STRIPHELM")?0:1;
  - Id: 4268
    Name: SPE_26_8
    Description: Black Dispel
    MaxLevel: 5
    Script: >
        bonus2 bSkillRange,"RG_STRIPHELM",1+(@sklv>2)+(@sklv>4);
        bonus2 bSkillRange,"RG_STRIPWEAPON",1+(@sklv>2)+(@sklv>4);
        bonus2 bSkillRange,"RG_STRIPARMOR",1+(@sklv>2)+(@sklv>4);
        bonus2 bSkillRange,"RG_STRIPSHIELD",1+(@sklv>2)+(@sklv>4);
        bonus5 bAutoSpell,"RG_STRIPSHIELD",(getskilllv("RG_STRIPSHIELD"))?(getskilllv("RG_STRIPSHIELD")):1,4*@sklv,BF_LONG,1;
        bonus5 bAutoSpell,"RG_STRIPSHIELD",(getskilllv("RG_STRIPSHIELD"))?(getskilllv("RG_STRIPSHIELD")):1,2*@sklv,BF_SHORT,1;
        bonus5 bAutoSpell,"RG_STRIPHELM",(getskilllv("RG_STRIPHELM"))?(getskilllv("RG_STRIPHELM")):1,4*@sklv,BF_LONG,1;
        bonus5 bAutoSpell,"RG_STRIPHELM",(getskilllv("RG_STRIPHELM"))?(getskilllv("RG_STRIPHELM")):1,2*@sklv,BF_SHORT,1;
        bonus5 bAutoSpell,"RG_STRIPWEAPON",(getskilllv("RG_STRIPWEAPON"))?(getskilllv("RG_STRIPWEAPON")):1,4*@sklv,BF_LONG,1;
        bonus5 bAutoSpell,"RG_STRIPWEAPON",(getskilllv("RG_STRIPWEAPON"))?(getskilllv("RG_STRIPWEAPON")):1,2*@sklv,BF_SHORT,1;
        bonus5 bAutoSpell,"RG_STRIPARMOR",(getskilllv("RG_STRIPARMOR"))?(getskilllv("RG_STRIPARMOR")):1,4*@sklv,BF_LONG,1;
        bonus5 bAutoSpell,"RG_STRIPARMOR",(getskilllv("RG_STRIPARMOR"))?(getskilllv("RG_STRIPARMOR")):1,2*@sklv,BF_SHORT,1;
  - Id: 4269
    Name: SPE_26_9
    Description: Black Shadow
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 7000
    Duration1: 7000
    LPCost: 6
    Visual1: 1501
  - Id: 4270
    Name: SPE_27
    Description: Creep Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","26241",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4271
    Name: SPE_27_1
    Description: Creep Snatch
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_SNATCHER")) {
        bonus4 bSkillScript,2000*@sklv,NO_COOLDOWN,"TF_STEAL",4271;
        bigbonus bBattleScript,300*@sklv,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4271;
      } else {
        callfunc "GetSkill","RG_SNATCHER",@sklv,@sklv,0,1;
        if(!isskillintree("TF_STEAL"))
          callfunc "GetSkill","TF_STEAL",1,1,0,1;
      }
  - Id: 4272
    Name: SPE_27_2
    Description: Creep Steal
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_STEALCOIN")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"RG_STEALCOIN",4272;
        bigbonus bBattleScript,100*getskilllv("RG_STEALCOIN"),EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4272;
      } else
        callfunc "GetSkill","RG_STEALCOIN",@sklv*2,@sklv,0,1;
  - Id: 4273
    Name: SPE_27_3
    Description: Creep Intimidate
    MaxLevel: 5
    SkillAttached: RG_INTIMIDATE
    Script: >
      if (isskillintree("RG_INTIMIDATE")) {
        callfunc("skill_kugan_bonus","RG_INTIMIDATE",@sklv,"add",1);
        bonus2 bSkillAtk,"RG_INTIMIDATE",2*@sklv;
        bonus4 bAutoSpellOnSkill,"RG_INTIMIDATE",CLONE_SKILL,(CLONE_SKILL_LV)/2+1,50*@sklv;
      }
      else
        callfunc "GetSkill","RG_INTIMIDATE",@sklv,@sklv,0,1;
  - Id: 4274
    Name: SPE_27_4
    Description: Creep Paradise
    MaxLevel: 5
    SkillAttached: RG_GANGSTER
    Script: >
      callfunc "GetSkill","RG_GANGSTER",@sklv,@sklv,0,isskillintree("RG_GANGSTER")?0:1;
  - Id: 4275
    Name: SPE_27_5
    Description: Creep Plagia
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_PLAGIARISM")) {
        if(CLONE_SKILL) {
          bonus2 bSkillUseSPrate,CLONE_SKILL,4*@sklv;
          bonus2 bCastrate,CLONE_SKILL,-2*@sklv;
          .@info = getskillinfo(SKILL_INF,CLONE_SKILL);
          if (creep_plagia) {
            .@level = (CLONE_SKILL_LV + 1)/2;
            .@rate1 = 20*@sklv;
            .@rate2 = 15*@sklv;
          } else {
            .@level = CLONE_SKILL_LV;
            .@rate1 = 15*@sklv;
            .@rate2 = 10*@sklv;
          }
          if(.@info == 4) {
            bonus5 bAutoSpell,CLONE_SKILL,.@level,.@rate1,BF_SHORT,0;
            bonus5 bAutoSpell,CLONE_SKILL,.@level,.@rate2,BF_LONG,0;
            bonus5 bAutoSpell,CLONE_SKILL,.@level,10*@sklv,BF_NORMAL,0;
          } else {
            bonus5 bAutoSpell,CLONE_SKILL,.@level,.@rate1,BF_SHORT,1;
            bonus5 bAutoSpell,CLONE_SKILL,.@level,.@rate2,BF_LONG,1;
            bonus5 bAutoSpell,CLONE_SKILL,.@level,10*@sklv,BF_NORMAL,1;
          }
        }
      } else {
        callfunc "GetSkill","RG_PLAGIARISM",@sklv,@sklv,0,1;
        callfunc "GetSkill","ST_PRESERVE",1,1,0,1;
      }
  - Id: 4276
    Name: SPE_27_6
    Description: Creep Raid
    MaxLevel: 5
    SkillAttached: RG_RAID
    Script: >
      if (isskillintree("RG_RAID")) {
        callfunc("skill_kugan_bonus","RG_RAID",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"RG_RAID",4276;
      }
      else
        callfunc "GetSkill","RG_RAID",@sklv,@sklv,0,1;
  - Id: 4277
    Name: SPE_27_7
    Description: Creep Death
    MaxLevel: 5
    Script: >
      bonus2 bFinishComaRate,ATK_ALL,200*@sklv;
  - Id: 4278
    Name: SPE_27_8
    Description: Creep Knowledge
    MaxLevel: 5
    Script: >
      bonus bStatusAddDuration,2;
      bonus bStatusAddSuccess,2;
  - Id: 4279
    Name: SPE_27_9
    Description: Creep Stalk
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 10000
    Duration1: 7000
    LPCost: 5
    Visual1: 744
    Script: >
      if(!getstatus(SC_SPE_4279)) end;
      bonus bPhysicalBackRate,5*@sklv;
      bonus bSpeedAddRate,2*@sklv;
      bonus bSneakRate,(readparam(bAgi)*(20*@sklv))/100;
  - Id: 4280
    Name: SPE_28
    Description: Edge Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","21252",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4281
    Name: SPE_28_1
    Description: Edge Stab
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_BACKSTAP")) {
        callfunc("skill_kugan_bonus","RG_BACKSTAP",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_DEF,ALWAYS,3*@sklv,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"RG_BACKSTAP",0,0,0,0,0,NO_STATUS,CDT_INIT|CDT_SELF;
        @init = 1;
        bonus2 bSkillAfterHitDelayRate,"RG_BACKSTAP",10*@sklv;
      } else
        callfunc "GetSkill","RG_BACKSTAP",@sklv*2,@sklv,0,1;
  - Id: 4282
    Name: SPE_28_2
    Description: Edge Raid
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_RAID")) {
        callfunc("skill_kugan_bonus","RG_RAID",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_HIT,ALWAYS,5*@sklv,5*@sklv,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"RG_RAID",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      }
      else
        callfunc "GetSkill","RG_RAID",@sklv,@sklv,0,1;
  - Id: 4283
    Name: SPE_28_3
    Description: Edge Confine
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_CLOSECONFINE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"RG_CLOSECONFINE",4283;
      else
        callfunc "GetSkill","RG_CLOSECONFINE",@sklv,@sklv,0,1;
  - Id: 4284
    Name: SPE_28_4
    Description: Edge Hiding
    MaxLevel: 5
    SkillAttached: RG_TUNNELDRIVE
    Script: >
      if(!isskillintree("TF_HIDING") && !getskilllv("TF_HIDING"))
        callfunc "GetSkill","TF_HIDING",1,1,0,1;
      callfunc "GetSkill","RG_TUNNELDRIVE",@sklv,@sklv,0,isskillintree("RG_TUNNELDRIVE")?0:1;
  - Id: 4285
    Name: SPE_28_5
    Description: Edge Reject
    MaxLevel: 5
    Script: >
      if (!getskilllv("ST_REJECTSWORD")) {
        bonus2 bSkillVariableCast,"ST_REJECTSWORD",2000;
        bonus2 bSelfBuffDuration,SC_REJECTSWORD,-90;
        bonus2 bSkillCooldown,"ST_REJECTSWORD",30000;
        bonus2 bSkillUseSPrate,"ST_REJECTSWORD",-100;
      }
      callfunc "GetSkill","ST_REJECTSWORD",@sklv,@sklv,0,isskillintree("ST_REJECTSWORD")?0:1;
  - Id: 4286
    Name: SPE_28_6
    Description: Edge Trick
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_INVISIBLE",@sklv,"npc");
      callfunc "GetSkill","NPC_INVISIBLE",@sklv,@sklv,0,0;
      if(isskillintree("RG_TUNNELDRIVE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_INVISIBLE",4286;
      if(getstatus(SC_BACKSTAP))
        bonus2 bSkillAtk,"RG_BACKSTAP",3*@sklv;
  - Id: 4287
    Name: SPE_28_7
    Description: Edge Waltz
    MaxLevel: 5
    Script: >
      bonus bSpeedAddRate,@sklv;
      bonus bMinimumSpeedRate,8*@sklv;
  - Id: 4288
    Name: SPE_28_8
    Description: Edge Wits
    MaxLevel: 5
    Script: >
      bonus bPhysicalBackRate,2*@sklv;
  - Id: 4289
    Name: SPE_28_9
    Description: Edge Abyss
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Cooldown2: 15000
    SplashArea: 1
    Duration1:
      - Level: 1
        Time: 3000
      - Level: 2
        Time: 4000
      - Level: 3
        Time: 5000
      - Level: 4
        Time: 6000
      - Level: 5
        Time: 7000
    LPCost: 10
    Visual1: 1505
  - Id: 4290
    Name: SPE_29
    Description: Killer Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","26162",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4291
    Name: SPE_29_1
    Description: Killer Breaker
    MaxLevel: 5
    Script: >
      .@sk$ = "ASC_BREAKER";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else {
        callfunc "GetSkill",.@sk$,@sklv*2,@sklv,0,1;
        bonus2 bSkillUseSPrate,.@sk$,-100;
        bonus2 bCastrate,.@sk$,100;
        bonus2 bSkillCooldown,.@sk$,10000;
      }
  - Id: 4292
    Name: SPE_29_2
    Description: Killer Assault
    MaxLevel: 5
    Script: >
      if (isskillintree("ASC_METEORASSAULT")) {
        callfunc("skill_kugan_bonus","ASC_METEORASSAULT",@sklv,"add",1);
        bonus2 bSkillUseSP,"ASC_METEORASSAULT",-2*@sklv;
        bonus3 bAddEffOnSkill,"ASC_METEORASSAULT",Eff_Stun,200*@sklv;
        bonus3 bAddEffOnSkill,"ASC_METEORASSAULT",Eff_Blind,200*@sklv;
        bonus3 bAddEffOnSkill,"ASC_METEORASSAULT",Eff_Bleeding,200*@sklv;
      } else {
        callfunc "GetSkill","ASC_METEORASSAULT",@sklv*2,@sklv,0,1;
        bonus2 bSkillUseSPrate,"ASC_METEORASSAULT",-100;
        bonus2 bCastrate,"ASC_METEORASSAULT",100;
        bonus2 bSkillCooldown,"ASC_METEORASSAULT",5000;
      }
  - Id: 4293
    Name: SPE_29_3
    Description: Killer Cloack
    MaxLevel: 5
    SkillAttached: AS_CLOAKING
    Script: >
      callfunc "GetSkill","AS_CLOAKING",@sklv,@sklv,0,isskillintree("AS_CLOAKING")?0:1;
  - Id: 4294
    Name: SPE_29_4
    Description: Killer Blow
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_SONICBLOW"))
        bonus2 bSkillAtk,"AS_SONICBLOW",2*@sklv;
      else
        callfunc "GetSkill","AS_SONICBLOW",@sklv*2,@sklv,0,1;
  - Id: 4295
    Name: SPE_29_5
    Description: Killer Tooth
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_GRIMTOOTH")) {
        callfunc("skill_kugan_bonus","AS_GRIMTOOTH",@sklv,"add",1);
        bonus2 bSkillAfterHitDelayRate,"AS_GRIMTOOTH",10*@sklv;
        bonus2 bSkillAtk,"AS_GRIMTOOTH",3*@sklv;
        bonus2 bSkillRange,"AS_GRIMTOOTH",(@sklv>2)+(@sklv>4)*2;
      } else
        callfunc "GetSkill","AS_GRIMTOOTH",@sklv,@sklv,0,1;
  - Id: 4296
    Name: SPE_29_6
    Description: Killer Knife
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_VENOMKNIFE")) {
        if(!getstatus(SC_INIT))
          bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_POISON,DEF_HPLEFT|DEF_MODX1,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,0,NO_VISUAL,"AS_VENOMKNIFE",0,0,0,0,0,SC_NONE,CDT_NONE;
      } else
        callfunc "GetSkill","AS_VENOMKNIFE",@sklv,@sklv,0,1;
  - Id: 4297
    Name: SPE_29_7
    Description: Killer Wits
    MaxLevel: 5
    Script: >
      bonus2 bIgnoreMdefRaceRate,RC_All,1+@sklv+1*(@sklv >= 5);
      bonus2 bIgnoreDefRaceRate,RC_All,1+@sklv+1*(@sklv >= 5);
  - Id: 4298
    Name: SPE_29_8
    Description: Killer Strategy
    MaxLevel: 5
    Script: >
      bonus bFirststrikeAddRate,1+@sklv+1*(@sklv >= 5);
  - Id: 4299
    Name: SPE_29_9
    Description: Killer Step
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    LPCost: 5
    Script: >
      if(!getstatus(SC_SPE_4299)) end;
      bonus2 bCastrate,"SPE_29_9",-100;
      bonus bSneakRate,7*@sklv;
      bonus bAtkRate,7*@sklv;
      bonus bMatkRate,7*@sklv;
      bonus bDefRate,-7*@sklv;
      bonus bMDefRate,-7*@sklv;
  - Id: 4300
    Name: SPE_30
    Description: Poison Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","52425",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4301
    Name: SPE_30_1
    Description: Poison Deadly
    MaxLevel: 5
    Script: >
      if (isskillintree("ASC_EDP"))
        bigbonus bBattleBonus,2000,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_POISON,DEF_DEF|DEF_MOB|DEF_HPLOST,NO_STATUS,EV_ON_HIT,BF_NONE,TG_TARGET,5000,NO_VISUAL,NO_SKILL,0,50,TG_TARGET,TH_LOWER,0,SC_EDP,CDT_SELF;
      else {
        callfunc "GetSkill","ASC_EDP",1,1,0,1;
        callfunc "GetSkill","ASC_CDP",1,1,0,1;
        bonus2 bSelfBuffDuration,SC_EDP,-100+20*@sklv;
        bonus2 bSkillUseSPrate,"ASC_EDP",-50;
        bonus2 bSkillVariableCast,"ASC_EDP",2000;
        bonus2 bSkillCooldown,"ASC_EDP",60000;
        
      }
  - Id: 4302
    Name: SPE_30_2
    Description: Poison Venom
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_POISON")) {
        bonus3 bAddEffOnSkill,"TF_POISON",Eff_Dpoison,3*@sklv;
        bonus2 bSkillUseSPrate,"TF_POISON",-5*@sklv;
      } else
        callfunc "GetSkill","TF_POISON",@sklv*2,@sklv,0,1;
  - Id: 4303
    Name: SPE_30_3
    Description: Poison Enchantement
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_ENCHANTPOISON"))
        bonus2 bElementMastery,ELE_POISON,5*@sklv;
      else
        callfunc "GetSkill","AS_ENCHANTPOISON",@sklv*2,@sklv,0,1;
  - Id: 4304
    Name: SPE_30_4
    Description: Poison React
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_POISONREACT")) {
        if (getstatus(SC_POISONREACT))
          bonus5 bAddEffOnSkill,"TF_POISON",SC_DPOISON,2500+500*@sklv,ATF_TARGET,2000+1000*@sklv;
      } else
        callfunc "GetSkill","AS_POISONREACT",2*@sklv,@sklv,0,1;
  - Id: 4305
    Name: SPE_30_5
    Description: Poison Dust
    MaxLevel: 5
    Script: >
      if (!isskillintree("AS_VENOMDUST"))
        callfunc "GetSkill","AS_VENOMDUST",2*@sklv,@sklv,0,1;
  - Id: 4306
    Name: SPE_30_6
    Description: Poison Splasher
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_SPLASHER")) {
        callfunc("skill_kugan_bonus","AS_SPLASHER",@sklv,"add",1);
        bonus2 bSkillUseSP,"AS_SPLASHER",-3*@sklv;
        bonus2 bSkillAtk,"AS_SPLASHER",4*@sklv;
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_SKILL,10000,"AS_SPLASHER",4306;
      } else
        callfunc "GetSkill","AS_SPLASHER",@sklv*2,@sklv,0,1;
  - Id: 4307
    Name: SPE_30_7
    Description: Poison Knife
    MaxLevel: 5
    SkillAttached: AS_SONICACCEL
    Script: >
      callfunc "GetSkill","AS_SONICACCEL",@sklv,@sklv,0,isskillintree("AS_SONICACCEL")?0:1;
  - Id: 4308
    Name: SPE_30_8
    Description: Poison Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Poison,BF_NONE,3*@sklv;
  - Id: 4309
    Name: SPE_30_9
    Description: Poison Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2000
    Cooldown2: 15000
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1576
    Script: >
      if(!getstatus(SC_SPE_4309)) end;
      bonus bDefEle,Ele_Poison;
      bonus3 bElementDamageRate,Ele_Poison,4,2*@sklv;
      bonus bDamageOnTimeAddRate,2*@sklv;
      if(@sklv < 5) bonus bSPRecovRate,-50+@sklv*10;
      if(@sklv < 5) bonus bUseSPRate,250-@sklv*50;
  - Id: 4700
    Name: SPE_70
    Description: Night Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","62626",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4701
    Name: SPE_70_1
    Description: Night Knife
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_VENOMKNIFE")) {
        bonus2 bSkillUseSPrate,"AS_VENOMKNIFE",-5*@sklv;
        bonus2 bSkillAddCritical,"AS_VENOMKNIFE",@sklv*3;
      } else
        callfunc "GetSkill","AS_VENOMKNIFE",@sklv,@sklv,0,1;
  - Id: 4702
    Name: SPE_70_2
    Description: Night Blow
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_SONICBLOW"))
        bonus2 bSkillAddCritical,"AS_SONICBLOW",@sklv*2;
      else
        callfunc "GetSkill","AS_SONICBLOW",@sklv*2,@sklv,0,1;
  - Id: 4703
    Name: SPE_70_3
    Description: Night Cloak
    MaxLevel: 5
    Script: >
      if (isskillintree("AS_CLOAKING"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AS_CLOAKING",4703;
      else
        callfunc "GetSkill","AS_CLOAKING",@sklv,@sklv,0,1;
  - Id: 4704
    Name: SPE_70_4
    Description: Night Slide
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_BACKSLIDING")) {
        bonus4 bSkillScript,ALWAYS,1000,"TF_BACKSLIDING",4704;
        bonus2 bSkillUseSP,"TF_BACKSLIDING",-6-3*@sklv;
      } else {
        callfunc "GetSkill","TF_BACKSLIDING",1,1,0,1;
        if(@sklv < 5)
          bonus2 bSkillDelay,"TF_BACKSLIDING",2500-500*@sklv;
      }
  - Id: 4705
    Name: SPE_70_5
    Description: Night Hand
    MaxLevel: 5
    Script: >
      if (getiteminfo(getequipid(EQI_HAND_L),7) > 0) {
        bonus bSecondHandStrikeRate,@sklv*100;
        if (isskillintree("AS_LEFT"))
          bonus bSecondHandStrikeRate,@sklv*3;
      }
  - Id: 4706
    Name: SPE_70_6
    Description: Night Critical
    MaxLevel: 5
    Script: >
      bonus bCritAtkRate,1+@sklv+(@sklv>4);
  - Id: 4707
    Name: SPE_70_7
    Description: Night Death
    MaxLevel: 5
    Script: >
      bonus bHighCriticalRate,1+@sklv+(@sklv>4);
  - Id: 4708
    Name: SPE_70_8
    Description: Night Illusion
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,200*@sklv,SC_HALLUCINATION,ALWAYS,0,0,0,0,2000+1000*@sklv,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_NORMAL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,CDT_MUSTCRIT;
  - Id: 4709
    Name: SPE_70_9
    Description: Night Shadow
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Cooldown2: 30000
    Duration1: 30000
    LPCost: 30
    Visual1: 1507
  - Id: 4310
    Name: SPE_31
    Description: Synthesis Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46364",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4311
    Name: SPE_31_1
    Description: Synthesis Mine
    MaxLevel: 5
    SkillAttached: AM_SPHEREMINE
    Script: >
      if(!isskillintree("AM_SPHEREMINE"))
        callfunc "GetSkill","AM_PHARMACY",1,1,0,0;
      callfunc "GetSkill","AM_SPHEREMINE",@sklv,@sklv,0,isskillintree("AM_SPHEREMINE")?0:1;
  - Id: 4312
    Name: SPE_31_2
    Description: Synthesis Bio
    MaxLevel: 5
    SkillAttached: AM_CANNIBALIZE
    Script: >
      if(!isskillintree("AM_CANNIBALIZE"))
        callfunc "GetSkill","AM_PHARMACY",1,1,0,0;
      callfunc "GetSkill","AM_CANNIBALIZE",@sklv*2,@sklv,0,(isskillintree("AM_CANNIBALIZE")?0:1);
  - Id: 4313
    Name: SPE_31_3
    Description: Synthesis Cultivation
    MaxLevel: 5
    SkillAttached: CR_CULTIVATION
    Script: >
      if (!isskillintree("CR_CULTIVATION"))
        callfunc "GetSkill","AM_PHARMACY",1,1,0,0;
      callfunc "GetSkill","CR_CULTIVATION",@sklv,@sklv,0,isskillintree("AM_CANNIBALIZE")?0:1;
  - Id: 4314
    Name: SPE_31_4
    Description: Synthesis Acid
    MaxLevel: 5
    Script: >
      if (!isskillintree("AM_ACIDTERROR")) {
        callfunc "GetSkill","AM_PHARMACY",1,1,0,0;
        callfunc "GetSkill","AM_ACIDTERROR",@sklv,@sklv,0,1;
      } else
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AM_ACIDTERROR",4314;
  - Id: 4315
    Name: SPE_31_5
    Description: Synthesis Commands
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,500+100*@sklv,EV_ON_HIT,BF_NONE,7000,NO_SKILL,4315;
      bigbonus bBattleScript,500+100*@sklv,EV_WHEN_HIT,BF_NONE,7000,NO_SKILL,4315;
  - Id: 4316
    Name: SPE_31_6
    Description: Synthesis Intimity
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,200+200*@sklv,EV_ON_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4316;
      bigbonus bBattleScript,200+200*@sklv,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4316;
  - Id: 4317
    Name: SPE_31_7
    Description: Synthesis Knowledge
    MaxLevel: 5
    Script: >
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AM_CALLHOMUN",4317;
  - Id: 4318
    Name: SPE_31_8
    Description: Synthesis Swarm
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 5
    Visual1: 1519
  - Id: 4319
    Name: SPE_31_9
    Description: Synthesis Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4320
    Name: SPE_32
    Description: Treat Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","43634",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4321
    Name: SPE_32_1
    Description: Treat Pharmacy
    MaxLevel: 5
    SkillAttached: AM_PHARMACY
    Script: >
      callfunc "GetSkill","AM_PHARMACY",(isskillintree("AM_PHARMACY")?@sklv:@sklv*2),@sklv,0,(isskillintree("AM_PHARMACY")?0:1);
  - Id: 4322
    Name: SPE_32_2
    Description: Treat Learn
    MaxLevel: 5
    SkillAttached: AM_LEARNINGPOTION
    Script: >
      callfunc "GetSkill","AM_LEARNINGPOTION",@sklv,@sklv,0,isskillintree("AM_PHARMACY")?0:1;
  - Id: 4323
    Name: SPE_32_3
    Description: Treat Pitcher
    MaxLevel: 5
    Script: >
      if (isskillintree("AM_POTIONPITCHER"))
        bonus5 bAddEffOnSkill,"AM_POTIONPITCHER",SC_FORTIFY,ALWAYS,ATF_TARGET,15000*@sklv+(@sklv>2)*15000+(@sklv>3)*30000+(@sklv>4)*135000;
      else {
        callfunc "GetSkill","AM_POTIONPITCHER",@sklv,@sklv,0,1;
        bonus2 bSkillDelay,"AM_POTIONPITCHER",1500-(@sklv>4)*500;
      }
  - Id: 4324
    Name: SPE_32_4
    Description: Treat Sleep
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDESLEEP",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDESLEEP",@sklv,@sklv,0,1;
      if(isskillintree("AM_PHARMACY")) {
        bonus2 bCastRate,"NPC_WIDESLEEP",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_WIDESLEEP",5*@sklv;
      }
  - Id: 4325
    Name: SPE_32_5
    Description: Treat Detox
    MaxLevel: 5
    Script: >
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AM_POTIONPITCHER",4325;
  - Id: 4326
    Name: SPE_32_6
    Description: Treat Vaccin
    MaxLevel: 5
    Script: >
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AM_POTIONPITCHER",4326;
  - Id: 4327
    Name: SPE_32_7
    Description: Treat Mastery
    MaxLevel: 5
    Script: >
      bonus bHealPower2,1+@sklv+1*(@sklv >= 5);
  - Id: 4328
    Name: SPE_32_8
    Description: Treat Cure
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 10000
    Duration1: 300000
    SplashArea: 5
    LPCost: 8
    Visual1: 1532
  - Id: 4329
    Name: SPE_32_9
    Description: Treat Potion
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 10000
    Duration1: 300000
    SplashArea: 5
    LPCost: 8
    Visual1: 1533
  - Id: 4330
    Name: SPE_33
    Description: Chemic Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","41314",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4331
    Name: SPE_33_1
    Description: Chemic Pharmacy
    MaxLevel: 5
    SkillAttached: AM_PHARMACY
    Script: >
      callfunc "GetSkill","AM_PHARMACY",@sklv,@sklv,0,1;
      if (!isskillintree("AM_PHARMACY"))
        end;
      bonus2 bSkillAtk,"AM_ACIDTERROR",1+@sklv+(@sklv>=5);
      bonus2 bSkillAtk,"AM_DEMONSTRATION",1+@sklv+(@sklv>=5);
      bonus2 bSkillAtk,"CR_ACIDDEMONSTRATION",1+@sklv+(@sklv>=5);
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AM_ACIDTERROR",4331;
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AM_DEMONSTRATION",4331;
  - Id: 4332
    Name: SPE_33_2
    Description: Chemic Fire
    MaxLevel: 5
    SkillAttached: AM_DEMONSTRATION
    Script: >
      if (!isskillintree("AM_PHARMACY") && !getskilllv("AM_PHARMACY"))
        callfunc "GetSkill","AM_PHARMACY",@sklv,@sklv,0,1;
      callfunc "GetSkill","AM_DEMONSTRATION",@sklv,@sklv,0,isskillintree("AM_DEMONSTRATION")?0:1;
  - Id: 4333
    Name: SPE_33_3
    Description: Chemic Acid
    MaxLevel: 5
    SkillAttached: AM_ACIDTERROR
    Script: >
      if (!isskillintree("AM_PHARMACY") && !getskilllv("AM_PHARMACY"))
        callfunc "GetSkill","AM_PHARMACY",@sklv,@sklv,0,1;
      callfunc "GetSkill","AM_ACIDTERROR",@sklv,@sklv,0,isskillintree("AM_ACIDTERROR")?0:1;
      callfunc("skill_kugan_bonus","AM_ACIDTERROR",@sklv,"level",1);
  - Id: 4334
    Name: SPE_33_4
    Description: Chemic Demo
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_ACIDDEMONSTRATION"))
        callfunc("skill_kugan_bonus","CR_ACIDDEMONSTRATION",@sklv,"add",1);
      else {
        callfunc "GetSkill","CR_ACIDDEMONSTRATION",@sklv*2,@sklv,0,1;
        bonus2 bSkillUseSPrate,"CR_ACIDDEMONSTRATION",-100;
        bonus2 bCastrate,"CR_ACIDDEMONSTRATION",100;
        bonus2 bSkillCooldown,"CR_ACIDDEMONSTRATION",10000;
      }
  - Id: 4335
    Name: SPE_33_5
    Description: Chemic Toxic Cloud
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1440
  - Id: 4336
    Name: SPE_33_6
    Description: Chemic Acid Cloud
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1440
  - Id: 4337
    Name: SPE_33_7
    Description: Chemic Fire Cloud
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1440
  - Id: 4338
    Name: SPE_33_8
    Description: Chemic Effect
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    SplashArea: 2
    LPCost: 24
    Visual1: 1534
  - Id: 4339
    Name: SPE_33_9
    Description: Chemic Bomb
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 10000
    Duration1: 15000
    SplashArea: 2
    LPCost: 15
    Visual1: 1440
  - Id: 4340
    Name: SPE_34
    Description: Smith Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15351",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4341
    Name: SPE_34_1
    Description: Smith Trick
    MaxLevel: 5
    SkillAttached: BS_UNFAIRLYTRICK
    Script: >
      callfunc "GetSkill","BS_UNFAIRLYTRICK",@sklv,@sklv,0,0;
  - Id: 4342
    Name: SPE_34_2
    Description: Smith Research
    MaxLevel: 5
    SkillAttached: BS_WEAPONRESEARCH
    SkillAttached2: BS_MAXIMIZE
    Script: >
      callfunc "GetSkill","BS_WEAPONRESEARCH",@sklv,@sklv,0,isskillintree("BS_WEAPONRESEARCH")?0:1;
      callfunc "GetSkill","BS_MAXIMIZE",@sklv,@sklv,0,isskillintree("BS_MAXIMIZE")?0:1;
  - Id: 4343
    Name: SPE_34_3
    Description: Smith Perfection
    MaxLevel: 5
    Script: >
      if (isskillintree("BS_WEAPONPERFECT")) {
        bonus2 bSkillUseSPrate,"BS_WEAPONPERFECT",-4*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"BS_WEAPONPERFECT",4343;
      } else
        callfunc "GetSkill","BS_WEAPONPERFECT",@sklv,@sklv,0,1;
  - Id: 4344
    Name: SPE_34_4
    Description: Smith Thrust
    MaxLevel: 5
    SkillAttached: BS_OVERTHRUST
    Script: >
      callfunc "GetSkill","BS_OVERTHRUST",@sklv,@sklv,0,isskillintree("BS_OVERTHRUST")?0:1;
  - Id: 4345
    Name: SPE_34_5
    Description: Smith Throw
    MaxLevel: 5
    Script: >
      if (isskillintree("ITM_TOMAHAWK")) {
        callfunc("skill_kugan_bonus","ITM_TOMAHAWK",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_DEF,ALWAYS,2*@sklv,@sklv,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"ITM_TOMAHAWK",0,0,0,0,0,NO_STATUS,CDT_INIT|CDT_SELF;
        @init = 1;
      }
      else
        callfunc "GetSkill","ITM_TOMAHAWK",@sklv,@sklv,0,1;
  - Id: 4346
    Name: SPE_34_6
    Description: Smith Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Stun,BF_NONE,2*@sklv;
  - Id: 4347
    Name: SPE_34_7
    Description: Smith Mastery
    MaxLevel: 5
    Script: >
      bonus3 bElementDamageRate,Ele_Neutral,4,2*@sklv;
  - Id: 4348
    Name: SPE_34_8
    Description: Smith Stuff
    MaxLevel: 5
    Script: >
      bonus2 bStuffResistRate,EQI_HAND_L,7*@sklv;
      bonus bWeaponAtkRate,2*@sklv;
  - Id: 4349
    Name: SPE_34_9
    Description: Smith Fury
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 10
    Visual1: 1536
  - Id: 4350
    Name: SPE_35
    Description: Hard Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","31353",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4351
    Name: SPE_35_1
    Description: Hard Repair
    MaxLevel: 5
    SkillAttached: BS_REPAIRWEAPON
    Script: >
      callfunc "GetSkill","BS_REPAIRWEAPON",@sklv,@sklv,0,isskillintree("BS_REPAIRWEAPON")?0:1;
  - Id: 4352
    Name: SPE_35_2
    Description: Hard Tempering
    MaxLevel: 5
    SkillAttached: BS_SKINTEMPER
    Script: >
      callfunc "GetSkill","BS_SKINTEMPER",@sklv,@sklv,0,isskillintree("BS_SKINTEMPER")?0:1;
  - Id: 4353
    Name: SPE_35_3
    Description: Hard Hammer
    MaxLevel: 5
    SkillAttached: BS_HAMMERFALL
    Script: >
      callfunc "GetSkill","BS_HAMMERFALL",@sklv,@sklv,0,isskillintree("BS_HAMMERFALL")?0:1;
  - Id: 4354
    Name: SPE_35_4
    Description: Hard Melt
    MaxLevel: 5
    SkillAttached: WS_MELTDOWN
    Script: >
      callfunc "GetSkill","WS_MELTDOWN",@sklv,@sklv,0,isskillintree("WS_MELTDOWN")?0:1;
  - Id: 4355
    Name: SPE_35_5
    Description: Hard Hilt
    MaxLevel: 5
    SkillAttached: BS_HILTBINDING
    Script: >
      callfunc "GetSkill","BS_HILTBINDING",@sklv,@sklv,0,isskillintree("BS_HILTBINDING")?0:1;
  - Id: 4356
    Name: SPE_35_6
    Description: Hard Counter
    MaxLevel: 5
    Script: >
      bonus2 bReflectStatus,Eff_Stun,7*@sklv;
  - Id: 4357
    Name: SPE_35_7
    Description: Hard Resilience
    MaxLevel: 5
    Script: >
      bonus2 bSubDefEle,Ele_Neutral,@sklv;
  - Id: 4358
    Name: SPE_35_8
    Description: Hard Stuff
    MaxLevel: 5
    Script: >
      bonus2 bStuffResistRate,0,7*@sklv;
      bonus bDefRate,@sklv;
  - Id: 4359
    Name: SPE_35_9
    Description: Hard Fury
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 10
    Visual1: 1537
  - Id: 4360
    Name: SPE_36
    Description: Destroy Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","13151",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4361
    Name: SPE_36_1
    Description: Destroy Armor
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_ARMORBRAKE",@sklv,"npc");
      callfunc "GetSkill","NPC_ARMORBRAKE",@sklv*2,@sklv,0,0;
      if(isskillintree("WS_MELTDOWN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_ARMORBRAKE",4361;
  - Id: 4362
    Name: SPE_36_2
    Description: Destroy Shield
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_SHIELDBRAKE",@sklv,"npc");
      callfunc "GetSkill","NPC_SHIELDBRAKE",@sklv*2,@sklv,0,0;
      if(isskillintree("WS_MELTDOWN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_SHIELDBRAKE",4361;
  - Id: 4363
    Name: SPE_36_3
    Description: Destroy Headgear
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_HELMBRAKE",@sklv,"npc");
      callfunc "GetSkill","NPC_HELMBRAKE",@sklv*2,@sklv,0,0;
      if(isskillintree("WS_MELTDOWN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_HELMBRAKE",4361;
  - Id: 4364
    Name: SPE_36_4
    Description: Destroy Weapon
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WEAPONBRAKER",@sklv,"npc");
      callfunc "GetSkill","NPC_WEAPONBRAKER",@sklv*2,@sklv,0,0;
      if(isskillintree("WS_MELTDOWN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_WEAPONBRAKE",4361;
  - Id: 4365
    Name: SPE_36_5
    Description: Destroy Will
    MaxLevel: 5
    Script: >
      bonus bIgnoreStuffImmunity,3*@sklv;
  - Id: 4366
    Name: SPE_36_6
    Description: Destroy Counter
    MaxLevel: 5
    Script: >
      .@type = getiteminfo(getequipid(EQI_HAND_R),11);
      bonus5 bAutoSpellWhenHit,"NPC_ARMORBRAKE",5+getskilllv("NPC_ARMORBRAKE"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
      bonus5 bAutoSpellWhenHit,"NPC_HELMBRAKE",5+getskilllv("NPC_HELMBRAKE"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
      bonus5 bAutoSpellWhenHit,"NPC_SHIELDBRAKE",5+getskilllv("NPC_SHIELDBRAKE"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
      bonus5 bAutoSpellWhenHit,"NPC_WEAPONBRAKER",5+getskilllv("NPC_WEAPONBRAKER"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
  - Id: 4367
    Name: SPE_36_7
    Description: Destroy Mastery
    MaxLevel: 5
    Script: >
      .@type = getiteminfo(getequipid(EQI_HAND_R),11);
      bonus5 bAutoSpell,"NPC_ARMORBRAKE",5+getskilllv("NPC_ARMORBRAKE"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
      bonus5 bAutoSpell,"NPC_HELMBRAKE",5+getskilllv("NPC_HELMBRAKE"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
      bonus5 bAutoSpell,"NPC_SHIELDBRAKE",5+getskilllv("NPC_SHIELDBRAKE"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
      bonus5 bAutoSpell,"NPC_WEAPONBRAKER",5+getskilllv("NPC_WEAPONBRAKER"),10*@sklv,(.@type == W_STAFF || .@type == W_2HSTAFF) ? BF_MAGIC : (.@type == W_REVOLVER || .@type == W_GRENADE) ? BF_LONG : BF_SHORT,1;
  - Id: 4368
    Name: SPE_36_8
    Description: Destroy Cycle
    MaxLevel: 5
  - Id: 4369
    Name: SPE_36_9
    Description: Destroy Uprise
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 15000
    Duration1: 15000
    LPCost: 15
    Visual1: 1539
    Script: >
      if(!getstatus(SC_SPE_4369)) end;
      bonus bBreakArmorRateWhenHit,50*@sklv;
      bonus bBreakShoesRateWhenHit,50*@sklv;
      bonus bBreakGarmentRateWhenHit,50*@sklv;
      bonus bBreakShieldRateWhenHit,50*@sklv;
      bonus bBreakWeaponRateOnHit,50*@sklv;
      bonus bAtkRate,5*@sklv;
      bonus bDefRate,5*@sklv;
      bonus bMdefRate,5*@sklv;
  - Id: 4370
    Name: SPE_37
    Description: Dark Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46364",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4371
    Name: SPE_37_1
    Description: Dark Turn
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_TURNUNDEAD")) {
        callfunc("skill_kugan_bonus","PR_TURNUNDEAD",@sklv,"add",1);
        bigbonus bBattleScript,200*@sklv,EV_ON_HIT,BF_NONE,0,0,4371;
      }
      else
        callfunc "GetSkill","PR_TURNUNDEAD",@sklv*2,@sklv,0,1;
  - Id: 4372
    Name: SPE_37_2
    Description: Dark Blind
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_BLINDATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_BLINDATTACK",@sklv*2,@sklv*2,0,0;
      if(isskillintree("AL_RUWACH"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_BLINDATTACK",4372;
  - Id: 4373
    Name: SPE_37_3
    Description: Dark Wide
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDECURSE",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDECURSE",@sklv,@sklv,0,0;
      if(isskillintree("AL_BLESSING")) {
        bonus2 bCastRate,"NPC_WIDECURSE",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_WIDECURSE",5*@sklv;
      }
  - Id: 4374
    Name: SPE_37_4
    Description: Dark Sanctuary
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_EVILLAND",@sklv,"npc",1);
      callfunc "GetSkill","NPC_EVILLAND",@sklv*2,@sklv,0,0;
      if(isskillintree("PR_SANCTUARY") && !toggle[4374]) {
        bonus2 bSkillAtk,"NPC_EVILLAND",25;
        bonus5 bAutoSpellWhenHit,"NPC_EVILLAND",(@sklv*2)-1,20*@sklv,BF_SHORT,0;
        bonus5 bAutoSpell,"NPC_EVILLAND",(@sklv*2)-1,20*@sklv,BF_SHORT,0;
      }
  - Id: 4375
    Name: SPE_37_5
    Description: Dark Defeat
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDESOULDRAIN",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDESOULDRAIN",@sklv,@sklv,0,0;
  - Id: 4376
    Name: SPE_37_6
    Description: Dark Light
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DARKNESSATTACK",@sklv,"npc",1);
      bonus4 bAutoSpellOnSkill,"NPC_DARKNESSATTACK","NPC_DARKSTRIKE",@sklv,1000;
      callfunc "GetSkill","NPC_DARKNESSATTACK",@sklv*2,@sklv*2,0,1;
      if(isskillintree("AL_HOLYLIGHT")) {
        .@skillratio = 25*readparam(bInt)/100;
        .@skillratio = .@skillratio * (1 + 1 * ((readparam(bInt)>readparam(bDex)) && (readparam(bInt)>readparam(bStr))));
        bonus2 bSkillAtk,"NPC_DARKNESSATTACK",.@skillratio;
        bonus2 bSkillCooldownRate,"NPC_DARKNESSATTACK",5*@sklv;
      }
  - Id: 4377
    Name: SPE_37_7
    Description: Dark Resentment
    MaxLevel: 5
    Script: >
      bonus2 bReflectStatus,Eff_Burning,8*@sklv;
      bonus2 bReflectStatus,Eff_Poison,8*@sklv;
      bonus2 bReflectStatus,Eff_DPoison,8*@sklv;
      bonus2 bReflectStatus,Eff_Bleeding,8*@sklv;
  - Id: 4378
    Name: SPE_37_8
    Description: Dark Resurrection
    MaxLevel: 5
  - Id: 4379
    Name: SPE_37_9
    Description: Dark Rancor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Duration1: 15000
    LPCost: 15
    Visual1: 1550
    Script: >
      if(!getstatus(SC_SPE_4379)) end;
      bonus3 bElementDamageRate,Ele_Dark,4,4*@sklv;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,NEVER,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,50+30*@sklv,DMG_ATK|DMG_MATK|DMG_HPLOST,ELE_DARK,DEF_MDEF|DEF_MOB|DEF_DEF|DEF_SPLOST,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,0,1208,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4380
    Name: SPE_38
    Description: Sacred Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","43634",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4381
    Name: SPE_38_1
    Description: Sacred Heal
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_ALLHEAL",@sklv,"npc");
      callfunc "GetSkill","NPC_ALLHEAL",@sklv,@sklv,0,0;
      if(isskillintree("PR_SANCTUARY")) {
        bonus2 bCastRate,"NPC_ALLHEAL",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_ALLHEAL",5*@sklv;
      }
  - Id: 4382
    Name: SPE_38_2
    Description: Sacred Sanctuary
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_SANCTUARY")) {
        bonus2 bCastrate,"PR_SANCTUARY",-5*@sklv;
        bonus2 bSkillHeal,"PR_SANCTUARY",5*@sklv;
      } else
        callfunc "GetSkill","PR_SANCTUARY",@sklv*2,@sklv,0,1;
  - Id: 4383
    Name: SPE_38_3
    Description: Sacred Light
    MaxLevel: 5
    SkillAttached: AL_HOLYLIGHT
    Script: >
      callfunc "GetSkill","AL_HOLYLIGHT",@sklv,@sklv,0,isskillintree("AL_HOLYLIGHT")?0:1;
      callfunc("skill_kugan_bonus","AL_HOLYLIGHT",@sklv,"level",1);
  - Id: 4384
    Name: SPE_38_4
    Description: Sacred Protection
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_KYRIE")) {
        bonus2 bSkillUseSP,"PR_KYRIE",-2*@sklv;
        bonus2 bCastrate,"PR_KYRIE",-@sklv;
        bonus2 bDelayRate,"PR_KYRIE",-5*@sklv;
        bonus2 bSelfBuffDuration,SC_KYRIE,5*@sklv;
      } else
        callfunc "GetSkill","PR_KYRIE",@sklv,@sklv,0,1;
  - Id: 4385
    Name: SPE_38_5
    Description: Sacred Defense
    MaxLevel: 5
    SkillAttached: HP_ASSUMPTIO
    Script: >
      if (isskillintree("HP_ASSUMPTIO"))
        callfunc "GetSkill","HP_ASSUMPTIO",@sklv,@sklv,0,0;
      else {
        callfunc "GetSkill","HP_ASSUMPTIO",@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,"HP_ASSUMPTIO",10000;
        bonus2 bSelfBuffDuration,SC_ASSUMPTIO,-70;
      }
  - Id: 4386
    Name: SPE_38_6
    Description: Sacred Meditation
    MaxLevel: 5
    Script: >
      if (isskillintree("HP_MEDITATIO"))
        bonus4 bSkillScript,ALWAYS,2000,"AL_HEAL",4386;
      else {
        callfunc "GetSkill","HP_MEDITATIO",@sklv,@sklv,0,1;
        bonus bMaxHPrate,-@sklv;
      }
  - Id: 4387
    Name: SPE_38_7
    Description: Sacred Exorcism
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_MAGNUS")) {
        callfunc("skill_kugan_bonus","PR_MAGNUS",@sklv,"add",1);
        bonus2 bSkillUseSP,"PR_MAGNUS",-3*@sklv;
        bonus2 bCastrate,"PR_MAGNUS",-3*@sklv;
        bonus2 bDelayRate,"PR_MAGNUS",-3*@sklv;
        bonus3 bAddEffOnSkill,"PR_MAGNUS",SC_OATH,500*@sklv;
        bonus3 bAddEffOnSkill,"PR_MAGNUS",Eff_Silence,500*@sklv;
        bonus3 bAddEffOnSkill,"PR_MAGNUS",Eff_Blind,500*@sklv;
      } else {
        callfunc "GetSkill","PR_MAGNUS",@sklv*2,@sklv,0,1;
        bonus bMaxHPrate,-@sklv;
      }
  - Id: 4388
    Name: SPE_38_8
    Description: Sacred Recovery
    MaxLevel: 5
    SkillAttached: PR_STRECOVERY
    Script: >
      callfunc "GetSkill","PR_STRECOVERY",@sklv,@sklv,0,isskillintree("PR_STRECOVERY")?0:1;
  - Id: 4389
    Name: SPE_38_9
    Description: Sacred Stone
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 10000
    SplashArea: 5
    Duration1: 300000
    LPCost: 10
    Visual1: 1551
  - Id: 4390
    Name: SPE_39
    Description: Virtue Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","43634",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4391
    Name: SPE_39_1
    Description: Virtue Gloria
    MaxLevel: 5
    SkillAttached: PR_GLORIA
    Script: >
      callfunc "GetSkill","PR_GLORIA",@sklv,@sklv,0,isskillintree("PR_GLORIA")?0:1;
  - Id: 4392
    Name: SPE_39_2
    Description: Virtue Light
    MaxLevel: 5
    SkillAttached: PR_MAGNIFICAT
    Script: >
      callfunc "GetSkill","PR_MAGNIFICAT",@sklv,@sklv,0,isskillintree("PR_MAGNIFICAT")?0:1;
  - Id: 4393
    Name: SPE_39_3
    Description: Virtue Imposition
    MaxLevel: 5
    SkillAttached: PR_IMPOSITIO
    Script: >
      callfunc "GetSkill","PR_IMPOSITIO",@sklv,@sklv,0,isskillintree("PR_IMPOSITIO")?0:1;
  - Id: 4394
    Name: SPE_39_4
    Description: Virtue Law
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_LEXAETERNA")) {
        bonus2 bSkillUseSP,"PR_LEXAETERNA",-2*@sklv;
        bonus2 bDelayRate,"PR_LEXAETERNA",-7*@sklv;
      } else {
        callfunc "GetSkill","PR_LEXAETERNA",@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,"PR_LEXAETERNA",11000-1000*@sklv;
      }
  - Id: 4395
    Name: SPE_39_5
    Description: Virtue incantation
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_SUFFRAGIUM")) {
        bigbonus bBattleBonus,200*@sklv,SC_SUFFRAGIUM,ALWAYS,getskilllv("PR_SUFFRAGIUM"),0,0,0,10000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,DMG_HPLOST,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,0,TG_SELF,5000,88,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleBonus,200*@sklv,SC_SUFFRAGIUM,ALWAYS,getskilllv("PR_SUFFRAGIUM"),0,0,0,10000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,DMG_HPLOST,ELE_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,0,TG_SELF,5000,88,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
      } else
        callfunc "GetSkill","PR_SUFFRAGIUM",@sklv,@sklv,0,1;
  - Id: 4396
    Name: SPE_39_6
    Description: Virtue Enchantment
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_ASPERSIO"))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,NO_STATUS,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,25+5*@sklv,DMG_MATK|DMG_HPLOST,ELE_HOLY,DEF_MDEF|DEF_HPLEFT,NO_STATUS,EV_WHEN_HIT,0,TG_TARGET,500,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_ASPERSIO,CDT_SELF;
      else {
        callfunc "GetSkill","PR_ASPERSIO",@sklv,@sklv,0,1;
        bonus2 bSelfBuffDuration,SC_ASPERSIO,-50;
      }
  - Id: 4397
    Name: SPE_39_7
    Description: Virtue Recharge
    MaxLevel: 5
    Script: >
      if (isskillintree("HP_MANARECHARGE"))
        bonus bUseSPrate,-2*@sklv;
      else {
        callfunc "GetSkill","HP_MANARECHARGE",@sklv,@sklv,0,1;
        bonus bMaxSPrate,-2*@sklv;
      }
  - Id: 4398
    Name: SPE_39_8
    Description: Virtue Fortitude
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 5000
    Duration1:
      - Level: 1
        Time: 4000
      - Level: 2
        Time: 11000
      - Level: 3
        Time: 14000
      - Level: 4
        Time: 17000
      - Level: 5
        Time: 20000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 5
    Visual1: 1552
  - Id: 4399
    Name: SPE_39_9
    Description: Virtue Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2000
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1558
    Script: >
      if(!getstatus(SC_SPE_4399)) end;
      bonus bDefEle,Ele_Holy;
      bonus bChangeRace,RC_Angel;
      bonus3 bElementDamageRate,Ele_Holy,4,3*@sklv;
      if(@sklv < 5) bonus bSPRecovRate,-50+@sklv*10;
      if(@sklv < 5) bonus bUseSPRate,250-@sklv*50;
  - Id: 4400
    Name: SPE_40
    Description: Guembu Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","36263",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4401
    Name: SPE_40_1
    Description: Guembu Recovery
    MaxLevel: 5
    SkillAttached: MO_SPIRITSRECOVERY
    Script: >
      callfunc "GetSkill","MO_SPIRITSRECOVERY",@sklv,@sklv,0,isskillintree("MO_SPIRITSRECOVERY")?0:1;
  - Id: 4402
    Name: SPE_40_2
    Description: Guembu Spirits
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_CALLSPIRITS"))
        bonus3 bAutoSpellWhenHit,"MO_CALLSPIRITS",getskilllv("MO_CALLSPIRITS"),30*@sklv;
      else
        callfunc "GetSkill","MO_CALLSPIRITS",@sklv,@sklv,0,1;
  - Id: 4403
    Name: SPE_40_3
    Description: Guembu Dodge
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_DODGE")) {
        bonus bCriticalDef,2*@sklv;
        bigbonus bBattleScript,400+100*@sklv,EV_WHEN_HIT,BF_NONE,0,0,4403;
      } else
        callfunc "GetSkill","MO_DODGE",@sklv*2,@sklv,0,1;
  - Id: 4404
    Name: SPE_40_4
    Description: Guembu Steel
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_STEELBODY")) {
        if(!getstatus(SC_STEELBODY)) end;
        .@val = @sklv*3;
        bonus bNearAtkDef,.@val;
        bonus bLongAtkDef,.@val;
        bonus bMagicAtkDef,.@val;
        bonus bMiscAtkDef,.@val;
      } else {
        callfunc "GetSkill","MO_STEELBODY",@sklv,@sklv,0,1;
        if(!getstatus(SC_STEELBODY)) end;
        .@val = -150+@sklv*20;
        bonus bNearAtkDef,.@val;
        bonus bLongAtkDef,.@val;
        bonus bMagicAtkDef,.@val;
        bonus bMiscAtkDef,.@val;
      }
  - Id: 4405
    Name: SPE_40_5
    Description: Guembu Blade
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_BLADESTOP"))
        bigbonus bBattleBonus,ALWAYS,SC_STUN,1500+500*@sklv,0,0,0,0,1000+500*@sklv,SCSTART_NONE,NO_DAMAGE,75+25*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF|DEF_MOB,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_BLADESTOP,CDT_SELF;
      else
        callfunc "GetSkill","MO_BLADESTOP",@sklv,@sklv,0,1;
  - Id: 4406
    Name: SPE_40_6
    Description: Guembu Waltz
    MaxLevel: 5
    Script: >
      bonus bLowHpAvoidRate,7*@sklv;
      bigbonus bBattleScript,200*@sklv,EV_WHEN_HIT,BF_NONE,10000,0,4406;
  - Id: 4407
    Name: SPE_40_7
    Description: Guembu Stance
    MaxLevel: 5
    Script: >
      bonus bNoKnockBackRate,8*@sklv;
      bonus bNoCancelRate,5*@sklv;
  - Id: 4408
    Name: SPE_40_8
    Description: Guembu Resilience
    MaxLevel: 5
    Script: >
      bonus bStatusSubSuccess,2*@sklv;
      bonus bStatusSubDuration,2*@sklv;
  - Id: 4409
    Name: SPE_40_9
    Description: Guembu Tricks
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 28000
      - Level: 3
        Time: 26000
      - Level: 4
        Time: 24000
      - Level: 5
        Time: 22000
    Duration1:
      - Level: 1
        Time: 3000
      - Level: 2
        Time: 4000
      - Level: 3
        Time: 5000
      - Level: 4
        Time: 6000
      - Level: 5
        Time: 7000
    LPCost: 10
    Visual1: 1559
    Script: >
      if(!getstatus(SC_SPE_4409)) end;
      bonus bNoWeaponDamage,100;
  - Id: 4410
    Name: SPE_41
    Description: Byakko Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","12521",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4411
    Name: SPE_41_1
    Description: Byakko Triple
    MaxLevel: 5
    SkillAttached: MO_TRIPLEATTACK
    Script: >
      callfunc("skill_kugan_bonus","MO_TRIPLEATTACK",@sklv,"level",1);
      callfunc "GetSkill","MO_TRIPLEATTACK",(isskillintree("MO_TRIPLEATTACK")?@sklv:@sklv*2),@sklv,0,(isskillintree("MO_TRIPLEATTACK")?0:1);
  - Id: 4412
    Name: SPE_41_2
    Description: Byakko Spirits
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_CALLSPIRITS"))
        bonus3 bAutoSpell,"MO_CALLSPIRITS",5,30*@sklv;
      else
        callfunc "GetSkill","MO_CALLSPIRITS",@sklv,@sklv,0,1;
  - Id: 4413
    Name: SPE_41_3
    Description: Byakko Explosion
    MaxLevel: 5
    SkillAttached: MO_EXPLOSIONSPIRITS
    Script: >
      callfunc "GetSkill","MO_EXPLOSIONSPIRITS",@sklv,@sklv,0,isskillintree("MO_EXPLOSIONSPIRITS")?0:1;
  - Id: 4414
    Name: SPE_41_4
    Description: Byakko Chain
    MaxLevel: 5
    SkillAttached: MO_CHAINCOMBO
    Script: >
      callfunc "GetSkill","MO_CHAINCOMBO",@sklv,@sklv,0,isskillintree("MO_CHAINCOMBO")?0:1;
      callfunc("skill_kugan_bonus","MO_CHAINCOMBO",@sklv,"level",1);
  - Id: 4415
    Name: SPE_41_5
    Description: Byakko Finish
    MaxLevel: 5
    SkillAttached: MO_COMBOFINISH
    Script: >
      callfunc "GetSkill","MO_COMBOFINISH",@sklv,@sklv,0,isskillintree("MO_COMBOFINISH")?0:1;
      callfunc("skill_kugan_bonus","MO_COMBOFINISH",@sklv,"level",1);
  - Id: 4416
    Name: SPE_41_6
    Description: Byakko Strike
    MaxLevel: 5
    Script: >
      .@sk$ = "MO_EXTREMITYFIST";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else {
        callfunc "GetSkill",.@sk$,@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,.@sk$,(120-20*@sklv)*1000;
        bonus2 bCastrate,.@sk$,700;
      }
  - Id: 4417
    Name: SPE_41_7
    Description: Byakko Fist
    MaxLevel: 5
    Script: >
      if (isskillintree("CH_TIGERFIST")) {
        callfunc("skill_kugan_bonus","CH_TIGERFIST",@sklv,"add",1);
        bonus5 bAddEffOnSkill,"CH_TIGERFIST",Eff_Stun,7500+2500*@sklv,ATF_TARGET,500*@sklv;
      }
      else {
        callfunc "GetSkill","CH_TIGERFIST",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"CH_TIGERFIST",-200;
        bonus2 bSkillCooldown,"CH_TIGERFIST",10000;
      }
  - Id: 4418
    Name: SPE_41_8
    Description: Byakko Crush
    MaxLevel: 5
    Script: >
      if (isskillintree("CH_CHAINCRUSH")) {
        callfunc("skill_kugan_bonus","CH_CHAINCRUSH",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,(readparam(bStr)+readparam(bVit)),200*@sklv,DMG_HEAL,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_SELF,NO_COOLDOWN,7,"CH_CHAINCRUSH",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      }
      else {
        callfunc "GetSkill","CH_CHAINCRUSH",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"CH_CHAINCRUSH",-200;
        bonus2 bSkillCooldown,"CH_CHAINCRUSH",10000;
      }
  - Id: 4419
    Name: SPE_41_9
    Description: Byakko Overrun
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 250
    Cooldown2: 7000
    Duration1: 10000
    LPCost: 15
    Visual1: 1560
    Visual2: 1574
    Script: >
      if(!getstatus(SC_SPE_4419)) end;
      bonus2 bSkillAtk,"MO_TRIPLEATTACK",-15+5*@sklv;
      bonus2 bSkillAtk,"MO_CHAINCOMBO",-15+5*@sklv;
      bonus2 bSkillAtk,"MO_COMBOFINISH",-15+5*@sklv;
      bonus2 bSkillAtk,"NPC_PULSESTRIKE",10*@sklv;
      bonus bHitRate,-35+5*@sklv;
      bonus4 bAutoSpellOnSkill,"MO_TRIPLEATTACK","MO_CHAINCOMBO",(getskilllv("MO_CHAINCOMBO") ? getskilllv("MO_CHAINCOMBO") : 1),1000;
      bonus4 bAutoSpellOnSkill,"MO_CHAINCOMBO","MO_COMBOFINISH",(getskilllv("MO_COMBOFINISH") ? getskilllv("MO_COMBOFINISH") : 1),1000;
      bonus4 bAutoSpellOnSkill,"MO_COMBOFINISH","NPC_PULSESTRIKE",@sklv,1000;
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4419;
  - Id: 4420
    Name: SPE_42
    Description: Seryu Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15651",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4421
    Name: SPE_42_1
    Description: Seryu Fear
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DRAGONFEAR",@sklv,"npc");
      callfunc "GetSkill","NPC_DRAGONFEAR",@sklv,@sklv,0,0;
      if(isskillintree("MO_CALLSPIRITS"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_DRAGONFEAR",4421;
  - Id: 4422
    Name: SPE_42_2
    Description: Seryu Investigate
    MaxLevel: 5
    Script: >
      .@sk$ = "MO_INVESTIGATE";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else
        callfunc "GetSkill",.@sk$,@sklv,@sklv,0,1;
  - Id: 4423
    Name: SPE_42_3
    Description: Seryu Spirits
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_CALLSPIRITS"))
        bonus2 bCastrate,"MO_CALLSPIRITS",-10*@sklv;
      else
        callfunc "GetSkill","MO_CALLSPIRITS",@sklv,@sklv,0,1;
  - Id: 4424
    Name: SPE_42_4
    Description: Seryu Offensive
    MaxLevel: 5
    Script: >
      .@sk$ = "MO_FINGEROFFENSIVE";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else
        callfunc "GetSkill",.@sk$,@sklv,@sklv,0,1;
  - Id: 4425
    Name: SPE_42_5
    Description: Seryu Relocation
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_BODYRELOCATION")) {
        bonus2 bSkillUseSPrate,"MO_BODYRELOCATION",-50;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MO_BODYRELOCATION",4425;
      } else {
        callfunc "GetSkill","MO_BODYRELOCATION",1,1,0,1;
        bonus2 bSkillCooldown,"MO_BODYRELOCATION",48000-8000*@sklv;
      }
  - Id: 4426
    Name: SPE_42_6
    Description: Seryu Explosion
    MaxLevel: 5
    SkillAttached: MO_BALKYOUNG
    Script: >
      callfunc "GetSkill","MO_BALKYOUNG",@sklv,@sklv,0,isskillintree("MO_BALKYOUNG")?0:1;
      callfunc("skill_kugan_bonus","MO_BALKYOUNG",@sklv,"level",1);
  - Id: 4427
    Name: SPE_42_7
    Description: Seryu Trample
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_SPLASHATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_SPLASHATTACK",@sklv,@sklv,0,0;
      bonus2 bSkillAfterHitDelayRate,"NPC_SPLASHATTACK",20*@sklv;
  - Id: 4428
    Name: SPE_42_8
    Description: Seryu Strategy
    MaxLevel: 5
    Script: >
      bonus bLaststrikeAddRate,5*@sklv;
  - Id: 4429
    Name: SPE_42_9
    Description: Seiryu Resilience
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 28000
      - Level: 3
        Time: 26000
      - Level: 4
        Time: 24000
      - Level: 5
        Time: 22000
    Duration1:
      - Level: 1
        Time: 3000
      - Level: 2
        Time: 4000
      - Level: 3
        Time: 5000
      - Level: 4
        Time: 6000
      - Level: 5
        Time: 7000
    LPCost: 10
    Visual1: 1441
    Script: >
      if(!getstatus(SC_SPE_4429)) end;
        bonus bNoMagicDamage,100;
        bonus bNoMiscDamage,100;
  - Id: 4430
    Name: SPE_43
    Description: Suzaku Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","36263",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4431
    Name: SPE_43_1
    Description: Suzaku Wide Sight
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDESIGHT",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDESIGHT",@sklv,@sklv,0,0;
      bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_HIT,ALWAYS,4+2*@sklv,4+2*@sklv,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_WIDESIGHT",0,0,0,0,0,NO_STATUS,NO_CONDITION;
      bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_FLEE,ALWAYS,4+2*@sklv,4+2*@sklv,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_WIDESIGHT",0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4432
    Name: SPE_43_2
    Description: Suzaku Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_RANDOMATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_RANDOMATTACK",@sklv*2,@sklv,0,0;
      if(isskillintree("MO_INVESTIGATE"))
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,0,SCSTART_NONE,0,25*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_RANDOMATTACK",0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4433
    Name: SPE_43_3
    Description: Suzaku Stun
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_STUNATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_STUNATTACK",@sklv*2,@sklv,0,0;
      if(isskillintree("MO_INVESTIGATE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_STUNATTACK",4433;
  - Id: 4434
    Name: SPE_43_4
    Description: Suzaku Silence
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_SILENCEATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_SILENCEATTACK",@sklv*2,@sklv,0,0;
      if(isskillintree("MO_INVESTIGATE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_SILENCEATTACK",4434;
  - Id: 4435
    Name: SPE_43_5
    Description: Suzaku Quake
    MaxLevel: 5
    Script: >
      bonus3 bAutoSpell,"NPC_EARTHQUAKE",@sklv,50;
  - Id: 4436
    Name: SPE_43_6
    Description: Suzaku Resplenish
    MaxLevel: 5
    Script: >
      bonus2 bHPRegenRate,(MaxHP*@sklv)/1000,1000;
  - Id: 4437
    Name: SPE_43_7
    Description: Suzaku Stance
    MaxLevel: 5
    Script: >
      bonus bSpeedAddRate,@sklv;
      bonus bAfterHitRecovery,4*@sklv;
  - Id: 4438
    Name: SPE_43_8
    Description: Suzaku Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Silence,BF_NONE,3*@sklv;
  - Id: 4439
    Name: SPE_43_9
    Description: Suzaku Radience
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 30000
    Duration1: 7000
    LPCost: 15
    Visual1: 1595
    Visual2: 1596
    Script: >
      if(!getstatus(SC_SPE_4439)) end;
      bonus bCastrate,50;
      bonus bDelayrate,50;
      bonus bAspdRate,-50;
      bonus bUseSPrate,50;
      bonus2 bHPRegenRate,(MaxHP*(5+5*@sklv))/1000,1000;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,25+25*@sklv,DMG_ATK|DMG_MATK|DMG_HPLOST,ELE_WEAPON,DEF_MOB,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4440
    Name: SPE_44
    Description: Jester Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","63656",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4441
    Name: SPE_44_1
    Description: Jester Frost
    MaxLevel: 5
    SkillAttached: BA_FROSTJOKER
    Script: >
      if (isskillintree("BA_FROSTJOKER")) {
        bonus2 bDelayRate,"BA_FROSTJOKER",-2*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"BA_FROSTJOKER",4441;
      } else {
        callfunc "GetSkill","BA_FROSTJOKER",@sklv,@sklv,0,1;
      }
  - Id: 4442
    Name: SPE_44_2
    Description: Jester Pang
    MaxLevel: 5
    SkillAttached: BA_PANGVOICE
    Script: >
      if (isskillintree("BA_PANGVOICE")) {
        bonus2 bDelayRate,"BA_PANGVOICE",-3*@sklv;
      } else {
        callfunc "GetSkill","BA_PANGVOICE",@sklv,@sklv,0,1;
      }
  - Id: 4443
    Name: SPE_44_3
    Description: Jester Scream
    MaxLevel: 5
    SkillAttached: DC_SCREAM
    Script: >
      if (isskillintree("DC_SCREAM")) {
        bonus2 bDelayRate,"DC_SCREAM",-2*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"DC_SCREAM",4443;
      } else {
        callfunc "GetSkill","DC_SCREAM",@sklv,@sklv,0,1;
      }
  - Id: 4444
    Name: SPE_44_4
    Description: Jester Wink
    MaxLevel: 5
    SkillAttached: DC_WINKCHARM
    Script: >
      if (isskillintree("DC_WINKCHARM")) {
        bonus2 bDelayRate,"DC_WINKCHARM",-3*@sklv;
      } else {
        callfunc "GetSkill","DC_WINKCHARM",@sklv,@sklv,0,1;
      }
  - Id: 4445
    Name: SPE_44_5
    Description: Jester Cry
    MaxLevel: 5
    SkillAttached: CG_MARIONETTE
    Script: >
      if(isskillintree("CG_MARIONETTE"))
        callfunc "GetSkill","CG_MARIONETTE",@sklv,@sklv,0,0;
      bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,0,0,4445;
  - Id: 4446
    Name: SPE_44_6
    Description: Jester Mastery
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,300+100*@sklv,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4446;
      bigbonus bBattleScript,1500+500*@sklv,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4446;
      bigbonus bBattleScript,300+100*@sklv,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4447;
  - Id: 4447
    Name: SPE_44_7
    Description: Jester Wits
    MaxLevel: 5
    Script: >
      bonus3 bStatusDamageRate,Eff_Confusion,BF_NONE,3*@sklv;
  - Id: 4448
    Name: SPE_44_8
    Description: Jester Trick
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 7000
    LPCost: 10
    Visual1: 1561
  - Id: 4449
    Name: SPE_44_9
    Description: Jester Humor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 20
    Visual1: 1562
    Script: >
      if(!getstatus(SC_SPE_4449)) end;
      bonus2 bReflectStatus,@jesterhumor,20*@sklv;
      bonus2 bAddEff,@jesterhumor,600*@sklv;
      bonus2 bAddEffWhenHit,@jesterhumor,600*@sklv;
      bonus2 bResEff,Eff_All,-700*@sklv;
      bonus2 bResEff,@jesterhumor,1400*@sklv;
  - Id: 4450
    Name: SPE_45
    Description: Joker Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","64656",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4451
    Name: SPE_45_1
    Description: Joker Strike
    MaxLevel: 5
    SkillAttached: BA_MUSICALSTRIKE
    Script: >
      callfunc "GetSkill","BA_MUSICALSTRIKE",@sklv,@sklv,0,isskillintree("BA_MUSICALSTRIKE")?0:1;
      callfunc("skill_kugan_bonus","BA_MUSICALSTRIKE",@sklv,"level",1);
  - Id: 4452
    Name: SPE_45_2
    Description: Joker Concentration
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_CONCENTRATION")) {
        bigbonus bBattleScript,200*@sklv,EV_ON_HIT,BF_NONE,3000,0,4452;
        bigbonus bBattleScript,400*@sklv,EV_WHEN_HIT,BF_NONE,3000,0,4452;
      } else
        callfunc "GetSkill","AC_CONCENTRATION",@sklv,@sklv,0,1;
  - Id: 4453
    Name: SPE_45_3
    Description: Joker Vulcan
    MaxLevel: 5
    Script: >
      if (isskillintree("CG_ARROWVULCAN")) {
        callfunc("skill_kugan_bonus","CG_ARROWVULCAN",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"CG_ARROWVULCAN",-10*@sklv;
        bonus2 bCastrate,"CG_ARROWVULCAN",-4*@sklv;
        bonus2 bDelayRate,"CG_ARROWVULCAN",-4*@sklv;
        bonus2 bSkillAfterHitDelayRate,"CG_ARROWVULCAN",4*@sklv;
      } else {
        callfunc "GetSkill","CG_ARROWVULCAN",@sklv*2,@sklv,0,1;
        bonus2 bSkillUseSPrate,"CG_ARROWVULCAN",-100;
        bonus2 bCastrate,"CG_ARROWVULCAN",100;
        bonus2 bSkillCooldown,"CG_ARROWVULCAN",10000;
      }
  - Id: 4454
    Name: SPE_45_4
    Description: Joker Fate
    MaxLevel: 5
    Script: >
      if (isskillintree("CG_TAROTCARD"))
        bonus2 bCastrate,"CG_TAROTCARD",-10*@sklv;
      else {
        callfunc "GetSkill","CG_TAROTCARD",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"CG_TAROTCARD",-50;
        bonus2 bCastrate,"CG_TAROTCARD",100;
        bonus2 bSkillCooldown,"CG_TAROTCARD",10000;
      }
  - Id: 4455
    Name: SPE_45_5
    Description: Joker Song
    MaxLevel: 5
    Script: >
      if (BaseJob == Job_Bard)
        bonus bPerformSpUseRate,5*@sklv;
      else {
        callfunc "GetSkill","BA_WHISTLE",@sklv,@sklv,0,1;
        callfunc "GetSkill","BA_ASSASSINCROSS",@sklv,@sklv,0,1;
        callfunc "GetSkill","BA_POEMBRAGI",@sklv,@sklv,0,1;
        callfunc "GetSkill","BA_APPLEIDUN",@sklv,@sklv,0,1;
      }
  - Id: 4456
    Name: SPE_45_6
    Description: Joker Waltz
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,1000*@sklv,SC_CONFUSION,ALWAYS,0,0,0,0,3500,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,CDT_MUSTMISS;
  - Id: 4457
    Name: SPE_45_7
    Description: Joker Mastery
    MaxLevel: 5
    Script: >
      bonus bPerformDurationRate,10*@sklv;
  - Id: 4458
    Name: SPE_45_8
    Description: Joker Lesson
    MaxLevel: 5
    SkillAttached: BA_MUSICALLESSON
    Script: >
      callfunc "GetSkill","BA_MUSICALLESSON",@sklv,@sklv,1,isskillintree("BA_MUSICALLESSON")?0:1;
  - Id: 4459
    Name: SPE_45_9
    Description: Joker Rythm
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    SplashArea: 5
    Duration1:
      - Level: 1
        Time: 3000
      - Level: 2
        Time: 6000
      - Level: 3
        Time: 9000
      - Level: 4
        Time: 12000
      - Level: 5
        Time: 15000
    LPCost: 10
    Visual1: 1563
  - Id: 4460
    Name: SPE_46
    Description: Muse Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","62656",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4461
    Name: SPE_46_1
    Description: Muse Sling
    MaxLevel: 5
    SkillAttached: DC_THROWARROW
    Script: >
      callfunc "GetSkill","DC_THROWARROW",@sklv,@sklv,1,isskillintree("DC_THROWARROW")?0:1;
      callfunc("skill_kugan_bonus","DC_THROWARROW",@sklv,"level");
  - Id: 4462
    Name: SPE_46_2
    Description: Muse Concentration
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_CONCENTRATION")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AC_CONCENTRATION",4462;
      } else
        callfunc "GetSkill","AC_CONCENTRATION",@sklv,@sklv,0,1;
  - Id: 4463
    Name: SPE_46_3
    Description: Muse Moonlit
    MaxLevel: 5
    Script: >
      if(!isskillintree("CG_MOONLIT")) {
        bonus2 bSkillUseSPrate,"CG_MOONLIT",-50;
        bonus2 bSelfBuffDuration,SC_MOONLIT,-50;
        bonus2 bSkillCooldown,"CG_MOONLIT",60000;
      }
      callfunc "GetSkill","CG_MOONLIT",@sklv,@sklv,0,isskillintree("CG_MOONLIT")?0:1;
  - Id: 4464
    Name: SPE_46_4
    Description: Muse Fate
    MaxLevel: 5
    Script: >
      if (isskillintree("CG_TAROTCARD"))
        bonus2 bDelayRate,"CG_TAROTCARD",-5*@sklv;
      else {
        callfunc "GetSkill","CG_TAROTCARD",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"CG_TAROTCARD",-50;
        bonus2 bCastrate,"CG_TAROTCARD",100;
        bonus2 bSkillCooldown,"CG_TAROTCARD",10000;
      }
  - Id: 4465
    Name: SPE_46_5
    Description: Muse Dance
    MaxLevel: 5
    Script: >
      if (BaseJob == Job_Dancer)
        bonus bPerformSpeedRate,3*@sklv;
      else {
        callfunc "GetSkill","DC_HUMMING",@sklv,@sklv,0,1;
        callfunc "GetSkill","DC_DONTFORGETME",@sklv,@sklv,0,1;
        callfunc "GetSkill","DC_FORTUNEKISS",@sklv,@sklv,0,1;
        callfunc "GetSkill","DC_SERVICEFORYOU",@sklv,@sklv,0,1;
      }
  - Id: 4466
    Name: SPE_46_6
    Description: Muse Waltz
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4466;
  - Id: 4467
    Name: SPE_46_7
    Description: Muse Mastery
    MaxLevel: 5
    Script: >
      bonus bPerformBonusRate,3*@sklv;
      bonus bPerformDurationRate,3*@sklv;
      bonus bPerformSpUseRate,3*@sklv;
  - Id: 4468
    Name: SPE_46_8
    Description: Muse Lesson
    MaxLevel: 5
    SkillAttached: DC_DANCINGLESSON
    Script: >
      callfunc "GetSkill","DC_DANCINGLESSON",@sklv,@sklv,0,isskillintree("DC_DANCINGLESSON")?0:1;
  - Id: 4469
    Name: SPE_46_9
    Description: Muse Rythm
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    SplashArea: 5
    Duration1:
      - Level: 1
        Time: 3000
      - Level: 2
        Time: 6000
      - Level: 3
        Time: 9000
      - Level: 4
        Time: 12000
      - Level: 5
        Time: 15000
    LPCost: 15
    Visual1: 1564
  - Id: 4470
    Name: SPE_47
    Description: Falcon Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","56465",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4471
    Name: SPE_47_1
    Description: Falcon Beat
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_BLITZBEAT")) {
        callfunc("skill_kugan_bonus","HT_BLITZBEAT",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,SC_ARMOR_NEUTRAL,ALWAYS,-4*@sklv,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"HT_BLITZBEAT",0,0,0,0,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleBonus,ALWAYS,SC_ARMOR_NEUTRAL,ALWAYS,-3*@sklv,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"SN_FALCONASSAULT",0,0,0,0,0,SC_ARMOR_NEUTRAL,CDT_TARGET;
      } else {
        callfunc "GetSkill","HT_FALCON",1,1,0,0;
        callfunc "GetSkill","HT_BLITZBEAT",@sklv,@sklv,0,1;
      }
  - Id: 4472
    Name: SPE_47_2
    Description: Falcon Detect
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_DETECTING"))
        bonus2 bSkillUseSP,"HT_DETECTING",-2*@sklv;
      else {
        callfunc "GetSkill","HT_FALCON",1,1,0,0;
        callfunc "GetSkill","HT_DETECTING",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"HT_DETECTING",-50;
      }
  - Id: 4473
    Name: SPE_47_3
    Description: Falcon Spring
    MaxLevel: 5
    SkillAttached: HT_SPRINGTRAP
    Script: >
      callfunc "GetSkill","HT_FALCON",1,1,0,0;
      callfunc "GetSkill","HT_SPRINGTRAP",@sklv,@sklv,0,isskillintree("HT_SPRINGTRAP")?0:1;
  - Id: 4474
    Name: SPE_47_4
    Description: Falcon Eye
    MaxLevel: 5
    Script: >
      if(isskillintree("AC_OWL"))
        bonus bOverHitAddRate,@sklv;
      else
        callfunc "GetSkill","AC_OWL",@sklv,@sklv,0,0;
  - Id: 4475
    Name: SPE_47_5
    Description: Falcon Assault
    MaxLevel: 5
    Script: >
      .@sk$ = "SN_FALCONASSAULT";
      if (isskillintree(.@sk$)) {
        bonus2 bSkillAtk,.@sk$,1+@sklv+(@sklv>4);
        bonus2 bCastrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bDelayrate,.@sk$,-(1+@sklv+(@sklv>4));
        bonus2 bSkillUseSPrate,.@sk$,-5*@sklv;
      } else {
        callfunc "GetSkill","HT_FALCON",1,1,0,0;
        callfunc "GetSkill",.@sk$,@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,.@sk$,-100;
        bonus2 bSkillCooldown,.@sk$,10000;
        bonus2 bCastrate,.@sk$,100;
      }
  - Id: 4476
    Name: SPE_47_6
    Description: Falcon Celerity
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_MISC,NO_COOLDOWN,NO_SKILL,4476;
  - Id: 4477
    Name: SPE_47_7
    Description: Falcon Haste
    MaxLevel: 5
    Script: >
      bonus bDelayrate,-(1+@sklv+1*(@sklv >= 5));
  - Id: 4478
    Name: SPE_47_8
    Description: Falcon Attack
    MaxLevel: 5
    SkillAttached: HT_FALCON
    Script: >
      if(!isskillintree("HT_FALCON"))
        callfunc "GetSkill","HT_FALCON",1,1,0,0;
      bonus5 bAutoSpell,"HT_BLITZBEAT",@sklv,@sklv*10+(readparam(bLuk)*@sklv*2)/10,BF_WEAPON|BF_MAGIC|BF_MISC,1;
  - Id: 4479
    Name: SPE_47_9
    Description: Falcon Overrun
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Cooldown2: 7000
    LPCost: 6
    Visual1: 1566
    Visual2: 1237
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,1000,0,4479;
  - Id: 4480
    Name: SPE_48
    Description: Trapper Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","54645",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4481
    Name: SPE_48_1
    Description: Trapper Mine
    MaxLevel: 5
    Script: >
      if (!isskillintree("HT_LANDMINE")) {
        callfunc "GetSkill","HT_LANDMINE",@sklv,@sklv,0,1;
      } else {
        callfunc("skill_kugan_bonus","HT_LANDMINE",@sklv,"add",1);
      }
  - Id: 4482
    Name: SPE_48_2
    Description: Trapper Blast
    MaxLevel: 5
    Script: >
      if (!isskillintree("HT_BLASTMINE"))
        callfunc "GetSkill","HT_BLASTMINE",@sklv,@sklv,0,1;
      else
        callfunc("skill_kugan_bonus","HT_BLASTMINE",@sklv,"add",1);
  - Id: 4483
    Name: SPE_48_3
    Description: Trapper Claymore
    MaxLevel: 5
    Script: >
      if (!isskillintree("HT_CLAYMORETRAP"))
        callfunc "GetSkill","HT_CLAYMORETRAP",@sklv,@sklv,0,1;
      else
        callfunc("skill_kugan_bonus","HT_CLAYMORETRAP",@sklv,"add",1);
  - Id: 4484
    Name: SPE_48_4
    Description: Trapper Shock and Skid
    MaxLevel: 5
    Script: >
      if (!isskillintree("HT_SKIDTRAP")) {
        callfunc "GetSkill","HT_SKIDTRAP",@sklv,@sklv,0,1;
        callfunc "GetSkill","HT_SHOCKWAVE",@sklv,@sklv,0,1;
      }
      else {
        callfunc("skill_kugan_bonus","HT_SKIDTRAP",@sklv,"add");
        callfunc("skill_kugan_bonus","HT_SHOCKWAVE",@sklv,"add");
      }
  - Id: 4485
    Name: SPE_48_5
    Description: Trapper Sand and Flash
    MaxLevel: 5
    Script: >
      if (!isskillintree("HT_SANDMAN")) {
        callfunc "GetSkill","HT_SANDMAN",@sklv,@sklv,0,1;
        callfunc "GetSkill","HT_FLASHER",@sklv,@sklv,0,1;
      }
      else {
        callfunc("skill_kugan_bonus","HT_SANDMAN",@sklv,"add");
        callfunc("skill_kugan_bonus","HT_FLASHER",@sklv,"add");
      }
  - Id: 4486
    Name: SPE_48_6
    Description: Trapper Remove
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_REMOVETRAP"))
      	bonus bAddWeight,-(getiteminfo(1065,6) * (10*@sklv) / 100)*countitem(1065);
      else
        callfunc "GetSkill","HT_REMOVETRAP",@sklv,@sklv,0,1;
  - Id: 4487
    Name: SPE_48_7
    Description: Trapper Sight
    MaxLevel: 5
    Script: >
      if (isskillintree("SN_SIGHT"))
        bonus2 bSelfBuffDuration,SC_TRUESIGHT,40*@sklv;
      else {
        callfunc "GetSkill","SN_SIGHT",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"SN_SIGHT",-50;
        bonus2 bSelfBuffDuration,SC_TRUESIGHT,-33;
        bonus2 bSkillVariableCast,"SN_SIGHT",3000;
      }
  - Id: 4488
    Name: SPE_48_8
    Description: Trapper Mastery
    MaxLevel: 5
  - Id: 4489
    Name: SPE_48_9
    Description: Trapper Tricks
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 15000
    LPCost: 15
    Visual1: 1567
  - Id: 4490
    Name: SPE_49
    Description: Pack Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","51515",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4491
    Name: SPE_49_1
    Description: Pack Repel
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_CHARGEARROW")) {
        callfunc("skill_kugan_bonus","AC_CHARGEARROW",@sklv,"add",1);
      	bonus2 bSkillAfterHitDelayRate,"AC_CHARGEARROW",20*@sklv;
      }
      else
        callfunc "GetSkill","AC_CHARGEARROW",@sklv,@sklv,0,1;
  - Id: 4492
    Name: SPE_49_2
    Description: Pack Straff
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_DOUBLE"))
        bonus2 bSkillAtk,"AC_DOUBLE",2*@sklv;
      else
        callfunc "GetSkill","AC_DOUBLE",@sklv*2,@sklv,0,1;
  - Id: 4493
    Name: SPE_49_3
    Description: Pack Walk
    MaxLevel: 5
    Script: >
      if (isskillintree("SN_WINDWALK"))
        bigbonus bBattleScript,100+100*@sklv,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4493;
      else {
        callfunc "GetSkill","SN_WINDWALK",@sklv,@sklv,0,1;
        bonus2 bSkillUseSPrate,"SN_WINDWALK",-100;
        bonus2 bSelfBuffDuration,SC_WINDWALK,-85;
      }
  - Id: 4494
    Name: SPE_49_4
    Description: Pack Snare
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_ANKLESNARE")) {
        bonus5 bAddEffOnSkill,"HT_ANKLESNARE",Eff_Poison,ALWAYS,ATF_TARGET,2000+1000*@sklv;
        bonus5 bAddEffOnSkill,"HT_ANKLESNARE",Eff_Bleeding,ALWAYS,ATF_TARGET,2000+1000*@sklv;
      } else
        callfunc "GetSkill","HT_ANKLESNARE",@sklv,@sklv,0,1;
  - Id: 4495
    Name: SPE_49_5
    Description: Pack Arrow
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_PHANTASMIC")) {
        callfunc("skill_kugan_bonus","HT_PHANTASMIC",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"HT_PHANTASMIC",-10*@sklv;
        bonus2 bCastrate,"HT_PHANTASMIC",10*@sklv;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,NEVER,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,40*@sklv,DMG_ATK|DMG_INT,ELE_WEAPON,DEF_MDEF|DEF_MOB|DEF_INT,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"HT_PHANTASMIC",0,0,0,0,0,NO_STATUS,NO_CONDITION;
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_SKILL,NO_COOLDOWN,"HT_PHANTASMIC",4495;
      } else
        callfunc "GetSkill","HT_PHANTASMIC",@sklv,@sklv,0,1;
  - Id: 4496
    Name: SPE_49_6
    Description: Pack Resilience
    MaxLevel: 5
    Script: >
      bonus2 bSubShortRangeDamage,ATK_ALL,4*@sklv;
  - Id: 4497
    Name: SPE_49_7
    Description: Pack Adaptation
    MaxLevel: 5
  - Id: 4498
    Name: SPE_49_8
    Description: Pack Wits
    MaxLevel: 5
    Script: >
      bonus bPhysicalMultipleAddRate,2*@sklv;
  - Id: 4499
    Name: SPE_49_9
    Description: Pack Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 750
    Cooldown2: 7000
    Duration1: 7000
    LPCost: 15
    Visual1: 1440
  - Id: 4500
    Name: SPE_50
    Description: Occult Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46364",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4501
    Name: SPE_50_1
    Description: Occult Strike
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DARKSTRIKE",@sklv,"npc",1);
      if (isskillintree("MG_SOULSTRIKE")) {
        bonus5 bAutoSpellWhenHit,"NPC_DARKSTRIKE",3,40*@sklv,BF_LONG,1;
        bigbonus bBattleBonus,ALWAYS,SC_ARMOR_ELEMENT2,ALWAYS,4*@sklv,4*@sklv,4*@sklv,4*@sklv,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_DARKSTRIKE",0,0,0,0,0,NO_STATUS,CDT_INIT|CDT_SELF;
        @init = 1;
      }
      callfunc "GetSkill","NPC_DARKSTRIKE",@sklv*2,@sklv,0,0;
  - Id: 4502
    Name: SPE_50_2
    Description: Occult Jupitel
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DARKTHUNDER",@sklv,"npc",1);
      if (isskillintree("MG_THUNDERSTORM")) {
        bonus5 bAutoSpellWhenHit,"NPC_DARKTHUNDER",3,20*@sklv,BF_SHORT,1;
        bigbonus bBattleBonus,ALWAYS,SC_SLOW,ALWAYS,0,0,0,0,500+500*@sklv,SCSTART_NONE,NO_DAMAGE,20*@sklv,DMG_MATK,ELE_DARK,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_DARKSTRIKE",0,0,0,0,0,SC_ARMOR_ELEMENT2,CDT_INIT|CDT_SELF;
        @init = 1;
      }
      callfunc "GetSkill","NPC_DARKTHUNDER",@sklv*2,@sklv,0,0;
  - Id: 4503
    Name: SPE_50_3
    Description: Occult Breath
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_DARKBREATH",@sklv,"npc",1);
      callfunc "GetSkill","NPC_DARKBREATH",@sklv,@sklv,0,1;
      if(isskillintree("PF_SOULBURN"))
        bonus2 bSkillCooldownRate,"NPC_DARKBREATH",10*@sklv;
  - Id: 4504
    Name: SPE_50_4
    Description: Occult Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT")) {
        callfunc("skill_kugan_bonus","MG_NAPALMBEAT",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_NAPALMBEAT",-3*@sklv;
        bonus5 bAddEffOnSkill,"MG_NAPALMBEAT",SC_MELTDAWN,2000*@sklv,ATF_TARGET,7000;
      } else
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,1;
  - Id: 4505
    Name: SPE_50_5
    Description: Occult Death
    MaxLevel: 5
    Script: >
      if (!isskillintree("PF_SOULBURN")) {
        bonus2 bSkillUseSPrate,"PF_SOULBURN",-50;
        bonus2 bSkillCooldown,"PF_SOULBURN",getskillinfo(SKILL_COOLDOWN,"PF_SOULBURN",@sklv)*2;
      }
      callfunc "GetSkill","PF_SOULBURN",@sklv,@sklv,0,isskillintree("PF_SOULBURN")?0:1;
  - Id: 4506
    Name: SPE_50_6
    Description: Occult Conversion
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1569
  - Id: 4507
    Name: SPE_50_7
    Description: Occult Incarnation
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 20000
    LPCost: 20
    Visual1: 1570
    Script: >
      if(!getstatus(SC_SPE_4507)) end;
      bonus bChangeRace,RC_Demon;
      bonus2 bElementMastery,Ele_Dark,(2 + 2 * @occultincarnation) * @sklv;
      bonus bMatkRate,(2 + 2 * @occultincarnation) * @sklv;
      bonus2 bIgnoreMdefRaceRate,RC_All,(3 + 2 * @occultincarnation) * @sklv;
      bonus bAtkRate,(2 + 2 * @occultincarnation) * @sklv;
      bonus2 bIgnoreDefRaceRate,RC_All,(3 + 2 * @occultincarnation) * @sklv;
      bonus bMaxHpRate,-(25 + 25 * @occultincarnation);
      bonus bDefRate,-(50 + 50 * @occultincarnation);
      bonus bMdefRate,-(50 + 50 * @occultincarnation);
      bonus bSpeedAddRate,-(10 + 10 * @occultincarnation);
  - Id: 4508
    Name: SPE_50_8
    Description: Occult Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    Duration1: 180000
    LPCost: 30
    Visual1: 1440
    Script: >
      if(getstatus(SC_SPE_4508))
        bonus bMaxHpRate,-25;
  - Id: 4509
    Name: SPE_50_9
    Description: Occult Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2000
    Cooldown2: 15000
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1573
    Script: >
      if(!getstatus(SC_SPE_4509)) end;
      bonus bDefEle,Ele_Dark;
      bonus bChangeRace,RC_Demon;
      bonus3 bElementDamageRate,Ele_Dark,4,3*@sklv;
      if(@sklv < 5) bonus bSPRecovRate,-50+@sklv*10;
      if(@sklv < 5) bonus bUseSPRate,250-@sklv*50;
  - Id: 4510
    Name: SPE_51
    Description: Death Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","43634",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4511
    Name: SPE_51_1
    Description: Death Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        callfunc("skill_kugan_bonus","MG_SOULSTRIKE",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_SOULSTRIKE",-3*@sklv;
        bonus2 bSkillElement,"MG_SOULSTRIKE",Ele_Undead;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_SOULSTRIKE",4511;
      } else
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,1;
  - Id: 4512
    Name: SPE_51_2
    Description: Death Corruption
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_CHANGEUNDEAD",@sklv,"npc");
      callfunc "GetSkill","NPC_CHANGEUNDEAD",@sklv,@sklv,0,1;
      if(isskillintree("MG_SOULSTRIKE"))
        bonus2 bMagicAddRace,RC_Undead,3*@sklv;
  - Id: 4513
    Name: SPE_51_3
    Description: Death Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT")) {
        callfunc("skill_kugan_bonus","MG_NAPALMBEAT",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_NAPALMBEAT",-3*@sklv;
        bonus2 bSkillElement,"MG_NAPALMBEAT",Ele_Undead;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_NAPALMBEAT",4513;
      } else
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,1;
  - Id: 4514
    Name: SPE_51_4
    Description: Death Wits
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,Ele_Undead,5*@sklv;
  - Id: 4515
    Name: SPE_51_5
    Description: Death Wish
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,1000*@sklv,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4515;
  - Id: 4516
    Name: SPE_51_6
    Description: Death Conversion
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1643
  - Id: 4517
    Name: SPE_51_7
    Description: Death Incarnation
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 60000
    Duration1: 15000
    LPCost: 8
    Visual1: 1643
    Script: >
      if(!getstatus(SC_SPE_4517)) end;
      bonus bChangeRace,RC_Undead;
      bonus2 bElementMastery,Ele_Undead,3*@sklv;
      bonus bMaxHPrate,10*@sklv;
      bonus2 bDrainHpRate,4,100*@sklv;
      bonus bNoRegen,1;
      bonus bNoRegen,2;
  - Id: 4518
    Name: SPE_51_8
    Description: Death Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4519
    Name: SPE_51_9
    Description: Death Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2000
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1573
    Script: >
      if(!getstatus(SC_SPE_4519)) end;
      bonus bDefEle,Ele_Undead;
      bonus3 bElementDamageRate,Ele_Undead,4,3*@sklv;
      bonus bFinalstrikeAddRate,2+@sklv;
      bonus2 bDrainHpRate,4,20+10*@sklv;
      if(@sklv < 5) bonus bSPRecovRate,-50+@sklv*10;
      if(@sklv < 5) bonus bUseSPRate,250-@sklv*50;
  - Id: 4520
    Name: SPE_52
    Description: Natural Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46664",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4521
    Name: SPE_52_1
    Description: Natural Earth
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_EARTHSPIKE")) {
        callfunc("skill_kugan_bonus","WZ_EARTHSPIKE",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,3000,"WZ_EARTHSPIKE",4521;
      }
      else
        callfunc "GetSkill","WZ_EARTHSPIKE",@sklv*2,@sklv,0,1;
  - Id: 4522
    Name: SPE_52_2
    Description: Natural Drive
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_HEAVENDRIVE")) {
        callfunc("skill_kugan_bonus","WZ_HEAVENDRIVE",@sklv,"add",1);
        bonus4 bAutoSpellOnSkill,"WZ_HEAVENDRIVE","WZ_EARTHSPIKE",1,50*@sklv;
        bonus2 bSkillAfterHitDelayRate,"WZ_HEAVENDRIVE",10*@sklv;
      } else
        callfunc "GetSkill","WZ_HEAVENDRIVE",@sklv*2,@sklv,0,1;
  - Id: 4523
    Name: SPE_52_3
    Description: Natural Stone
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_STONECURSE")) {
        bonus4 bAddEffWhenHit,Eff_Stone,400*@sklv,BF_SHORT,7000;
        bonus4 bAddEffWhenHit,Eff_Stone,400*@sklv,BF_LONG,7000;
      } else
        callfunc "GetSkill","MG_STONECURSE",@sklv*2,@sklv,0,1;
  - Id: 4524
    Name: SPE_52_4
    Description: Natural Quagmir
    MaxLevel: 5
    Script: >
      if(!isskillintree("WZ_QUAGMIRE"))
        callfunc "GetSkill","WZ_QUAGMIRE",@sklv,@sklv,0,isskillintree("WZ_QUAGMIRE")?0:1;
      else
        bonus2 bSkillUseSP,"WZ_QUAGMIRE",-2*@sklv;
  - Id: 4525
    Name: SPE_52_5
    Description: Natural Land
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_LANDPROTECTOR")) {
        bonus2 bCastrate,"SA_LANDPROTECTOR",-@sklv;
        bonus2 bSkillRange,"SA_LANDPROTECTOR",@sklv;
      } else
        callfunc "GetSkill","SA_LANDPROTECTOR",@sklv,@sklv,0,1;
  - Id: 4526
    Name: SPE_52_6
    Description: Natural Web
    MaxLevel: 5
    Script: >
      if (isskillintree("PF_SPIDERWEB")) {
        bonus3 bAddMonsterDropItem,1025,RC_Insect,10000*@sklv;
      } else {
        callfunc "GetSkill","PF_SPIDERWEB",@sklv,@sklv,0,1;
        bonus2 bSkillVariableCast,"PF_SPIDERWEB",2000;
        bonus2 bSkillCooldown,"PF_SPIDERWEB",35000-5000*@sklv;
      }
  - Id: 4527
    Name: SPE_52_7
    Description: Natural Conversion
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1575
  - Id: 4528
    Name: SPE_52_8
    Description: Natural Incarnation
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 60000
    Duration1: 15000
    LPCost: 8
    Visual1: 1576
    Script: >
      if(!getstatus(SC_SPE_4528)) end;
      bonus bChangeRace,RC_Plant;
      bonus bDef,2*@sklv;
      bonus bMDef,2*@sklv;
      bonus bHPrecovRate,40*@sklv;
      bonus bSPrecovRate,10*@sklv;
      bonus bMinimumSpeedRate,20*@sklv;
      bonus bNoKnockBackRate,20*@sklv;
      bonus bAfterHitRecovery,20*@sklv;
      bonus2 bResEff,Eff_All,2000*@sklv;
      bonus bAspdRate,-100;
      bonus bAtkRate,-50;
      bonus bMAtkRate,-50;
      bonus bUseSPrate,10000;
  - Id: 4529
    Name: SPE_52_9
    Description: Natural Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4530
    Name: SPE_53
    Description: Sorcerous Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","42624",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4531
    Name: SPE_53_1
    Description: Sorcerous Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        bonus2 bSkillUseSPrate,"MG_SOULSTRIKE",-5*@sklv;
        bonus2 bSkillRange,"MG_SOULSTRIKE",@sklv;
      } else 
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,1;
  - Id: 4532
    Name: SPE_53_2
    Description: Sorcerous Casting
    MaxLevel: 5
    Script: >
      if(!isskillintree("PF_DOUBLECASTING")) {
        bonus2 bCastrate,"PF_DOUBLECASTING",125-25*@sklv;
        bonus2 bSelfBuffDuration,SC_DOUBLECAST,-50;
      }
      callfunc "GetSkill","PF_DOUBLECASTING",@sklv,@sklv,0,isskillintree("PF_DOUBLECASTING")?0:1;
  - Id: 4533
    Name: SPE_53_3
    Description: Sorcerous Rod
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_MAGICROD"))
        bigbonus bBattleBonus,2000*@sklv,SC_SILENCE,ALWAYS,0,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,DMG_NONE,ELE_NONE,DEF_NONE,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_MAGICROD,CDT_SELF;
      else 
        callfunc "GetSkill","SA_MAGICROD",@sklv,@sklv,0,1;
  - Id: 4534
    Name: SPE_53_4
    Description: Sorcerous Breaker
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_SPELLBREAKER")) {
        bonus2 bSkillAtk,"SA_SPELLBREAKER",20*@sklv;
        bonus bSpellbreakerCdRate,20*@sklv;
      } else 
        callfunc "GetSkill","SA_SPELLBREAKER",@sklv,@sklv,0,1;
  - Id: 4535
    Name: SPE_53_5
    Description: Sorcerous Freedom
    MaxLevel: 5
    SkillAttached: SA_FREECAST
    Script: >
      callfunc "GetSkill","SA_FREECAST",@sklv,@sklv,0,isskillintree("SA_FREECAST")?0:1;
  - Id: 4536
    Name: SPE_53_6
    Description: Sorcerous Dispel
    MaxLevel: 5
    SkillAttached: SA_DISPELL
    Script: >
      if(!isskillintree("SA_DISPELL")) {
        bonus2 bCastrate,"SA_DISPELL",125-25*@sklv;
        bonus2 bSkillCooldown,"SA_DISPELL",12500-2500*@sklv;
      }
      callfunc "GetSkill","SA_DISPELL",@sklv,@sklv,0,isskillintree("SA_DISPELL")?0:1;
  - Id: 4537
    Name: SPE_53_7
    Description: Sorcerous Memorize
    MaxLevel: 5
    Script: >
      if (isskillintree("PF_MEMORIZE")) {
        bonus2 bSkillUseSP,"PF_MEMORIZE",-5*@sklv;
        bonus2 bCastrate,"PF_MEMORIZE",-5*@sklv;
      } else {
        callfunc "GetSkill","PF_MEMORIZE",1,1,0,1;
        bonus2 bCastrate,"PF_MEMORIZE",125-25*@sklv;
        bonus2 bSkillCooldown,"PF_MEMORIZE",20000;
      }
  - Id: 4538
    Name: SPE_53_8
    Description: Sorcerous Drain
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 10000
    Duration1: 10000
    LPCost: 4
    Visual1: 1577
    Script: >
      if(!getstatus(SC_SPE_4538)) end;
      bonus bMagicalDamageReturn,5*@sklv;
      bonus2 bSPDrainRate,1000,(2*@sklv)/10;
      bonus bMatk2,(readparam(bInt)*25*@sklv)/100;
      bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_MAGIC,NO_COOLDOWN,NO_SKILL,4538;
  - Id: 4539
    Name: SPE_53_9
    Description: Sorcerous Warp
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    Range:
      - Level: 1
        Size: 5
      - Level: 2
        Size: 6
      - Level: 3
        Size: 7
      - Level: 4
        Size: 8
      - Level: 5
        Size: 9
    CastCancel: true
    CastTime:
      - Level: 1
        Time: 625
      - Level: 2
        Time: 500
      - Level: 3
        Time: 375
      - Level: 4
        Time: 250
      - Level: 5
        Time: 125
    Cooldown2:
      - Level: 1
        Time: 11000
      - Level: 2
        Time: 9000
      - Level: 3
        Time: 7000
      - Level: 4
        Time: 5000
      - Level: 5
        Time: 3000
    LPCost: 3
    Visual1: 1578
    Visual2: 6
  - Id: 4540
    Name: SPE_54
    Description: Hybrid Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","42524",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4541
    Name: SPE_54_1
    Description: Hybrid Attack
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_TELEKINESISATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_TELEKINESISATTACK",@sklv*2,@sklv,0,1;
      if(isskillintree("MG_SOULSTRIKE")) {
        bonus4 bAutoSpellOnSkill,"NPC_TELEKINESISATTACK","MG_SOULSTRIKE",@sklv*2,3300;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_TELEKINESISATTACK",4541;
      }
  - Id: 4542
    Name: SPE_54_2
    Description: Hybrid Spell
    MaxLevel: 5
    SkillAttached: SA_AUTOSPELL
    Script: >
      callfunc "GetSkill","SA_AUTOSPELL",@sklv,@sklv,0,isskillintree("SA_AUTOSPELL")?0:1;
  - Id: 4543
    Name: SPE_54_3
    Description: Hybrid Coat
    MaxLevel: 5
    SkillAttached: MG_ENERGYCOAT
    Script: >
      callfunc "GetSkill","MG_ENERGYCOAT",@sklv,@sklv,0,isskillintree("MG_ENERGYCOAT")?0:1;
  - Id: 4544
    Name: SPE_54_4
    Description: Hybrid Freedom
    MaxLevel: 5
    SkillAttached: SA_FREECAST
    Script: >
      callfunc "GetSkill","SA_FREECAST",@sklv,@sklv,0,isskillintree("SA_FREECAST")?0:1;
  - Id: 4545
    Name: SPE_54_5
    Description: Hybrid Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT")) {
        callfunc("skill_kugan_bonus","MG_NAPALMBEAT",@sklv,"add",1);
        bonus4 bSkillScript,400*@sklv,NO_COOLDOWN,"MG_NAPALMBEAT",4532;
      } else 
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,1;
  - Id: 4546
    Name: SPE_54_6
    Description: Hybrid Celerity
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,ALWAYS,SC_BUFF_CAST,ALWAYS,3*@sklv,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_WEAPON|BF_SHORT,TG_SELF,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
      bigbonus bBattleBonus,ALWAYS,SC_BUFF_ASPD,ALWAYS,@sklv*(3 - 1 * (getstatus(SC_AUTOSPELL,1) >0)),0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_SELF,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
      bigbonus bBattleBonus,ALWAYS,SC_BUFF_ASD,ALWAYS,3*@sklv,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_WEAPON|BF_SHORT,TG_SELF,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4547
    Name: SPE_54_7
    Description: Hybrid Mastery
    MaxLevel: 5
    Script: >
      bonus bAspdRate,readparam(bInt)/(35-5*@sklv);
  - Id: 4548
    Name: SPE_54_8
    Description: Hybrid Adaptation
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,ALWAYS,SC_BUFF_IGNORE,ALWAYS,3*@sklv,0,0,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_SELF,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
      bigbonus bBattleBonus,ALWAYS,SC_DEBUFF_IGNORE,ALWAYS,0,0,3*@sklv,0,7000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,ELE_NONE,NO_OPTION,NO_STATUS,EV_ON_HIT,BF_WEAPON|BF_SHORT,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4549
    Name: SPE_54_9
    Description: Hybrid Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 120000
    LPCost: 30
    Visual1: 1579
    Script: >
      if(!getstatus(SC_SPE_4549)) end;
      bonus bDef2rate,10*@sklv;
      bonus bMDef2,10*@sklv;
      bonus bDef2,10*@sklv;
      bonus bMDef2rate,10*@sklv;
      bonus2 bSubEle,@chosenele,7*@sklv;
      bonus2 bSubEle,@opposite,-3*@sklv;
      bonus2 bMagicAtkEle,@chosenele,2*@sklv;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,NO_DAMAGE,25+25*@sklv,DMG_MATK,@chosenele,DEF_MDEF|DEF_MOB,NO_STATUS,EV_WHEN_HIT,0,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,NO_STATUS,NO_CONDITION;
  - Id: 4550
    Name: SPE_55
    Description: Enchanting Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","45354",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4551
    Name: SPE_55_1
    Description: Enchanting Fire
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_FLAMELAUNCHER"))
        bigbonus bBattleBonus,ALWAYS,SC_FEVER,200*@sklv,0,0,0,0,10000,SCSTART_NONE,NO_DAMAGE,40*@sklv,DMG_MATK,ELE_FIRE,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_FIREWEAPON,CDT_SELF;
      else {
        callfunc "GetSkill","SA_FLAMELAUNCHER",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_CREATECON",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_ELEMENTFIRE",1,1,0,1;
      }
  - Id: 4552
    Name: SPE_55_2
    Description: Enchanting Water
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_FROSTWEAPON"))
        bigbonus bBattleBonus,ALWAYS,SC_CHILL,200*@sklv,0,0,0,0,10000,SCSTART_NONE,NO_DAMAGE,40*@sklv,DMG_MATK,ELE_WATER,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_WATERWEAPON,CDT_SELF;
      else {
        callfunc "GetSkill","SA_FROSTWEAPON",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_CREATECON",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_ELEMENTWATER",1,1,0,1;
      }
  - Id: 4553
    Name: SPE_55_3
    Description: Enchanting Wind
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_LIGHTNINGLOADER"))
        bigbonus bBattleBonus,ALWAYS,SC_CREEPLE,200*@sklv,0,0,0,0,10000,SCSTART_NONE,NO_DAMAGE,40*@sklv,DMG_MATK,ELE_WIND,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_WINDWEAPON,CDT_SELF;
      else {
        callfunc "GetSkill","SA_LIGHTNINGLOADER",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_CREATECON",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_ELEMENTWIND",1,1,0,1;
      }
  - Id: 4554
    Name: SPE_55_4
    Description: Enchanting Earth
    MaxLevel: 5
    Script: >
      if (isskillintree("SA_SEISMICWEAPON"))
        bigbonus bBattleBonus,ALWAYS,SC_FEEBLE,200*@sklv,0,0,0,0,10000,SCSTART_NONE,NO_DAMAGE,40*@sklv,DMG_MATK,ELE_EARTH,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,NO_SKILL,0,0,0,0,0,SC_EARTHWEAPON,CDT_SELF;
      else {
        callfunc "GetSkill","SA_SEISMICWEAPON",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_CREATECON",@sklv,@sklv,0,1;
        callfunc "GetSkill","SA_ELEMENTGROUND",1,1,0,1;
      }
  - Id: 4555
    Name: SPE_55_5
    Description: Enchanting Conversion
    MaxLevel: 5
    Script: >
      if (isskillintree("PF_HPCONVERSION"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"PF_HPCONVERSION",4555;
      else {
        callfunc "GetSkill","PF_HPCONVERSION",1,1,0,1;
        bonus2 bSkillCooldown,"PF_HPCONVERSION",35000-5000*@sklv;
        bonus2 bSkillVariableCast,"PF_HPCONVERSION",2000;
      }
  - Id: 4556
    Name: SPE_55_6
    Description: Enchanting Zone
    MaxLevel: 5
    SkillAttached: SA_DELUGE
    SkillAttached2: SA_VOLCANO
    SkillAttached3: SA_VIOLENTGALE
    SkillAttached4: SA_GAIA
    Script: >
      callfunc "GetSkill","SA_VOLCANO",@sklv,@sklv,0,isskillintree("SA_VOLCANO")?0:1;
      callfunc "GetSkill","SA_DELUGE",@sklv,@sklv,0,isskillintree("SA_DELUGE")?0:1;
      callfunc "GetSkill","SA_VIOLENTGALE",@sklv,@sklv,0,isskillintree("SA_VIOLENTGALE")?0:1;
      callfunc "GetSkill","SA_GAIA",@sklv,@sklv,0,isskillintree("SA_GAIA")?0:1;
  - Id: 4557
    Name: SPE_55_7
    Description: Enchanting Resplenish
    MaxLevel: 5
    Script: >
      bonus2 bRegenPercentSP,(5*@sklv)/10,5000;
      bonus bMagicSPGainValue,5*@sklv;
      bonus bLongSPGainValue,5*@sklv;
      bonus bSPGainValue,5*@sklv;
  - Id: 4558
    Name: SPE_55_8
    Description: Enchanting Elemental
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Cooldown2: 30000
    Duration1:
      - Level: 1
        Time: 20000
      - Level: 2
        Time: 30000
      - Level: 3
        Time: 40000
      - Level: 4
        Time: 50000
      - Level: 5
        Time: 60000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 15
    Visual1: 1580
  - Id: 4559
    Name: SPE_55_9
    Description: Enchanting Charge
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Cooldown2: 5000
    Duration1: 60000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 15
    Visual1: 1581
  - Id: 4710
    Name: SPE_71
    Description: Witch Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4711
    Name: SPE_71_1
    Description: Witch Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        .@rate = 1500+500*@sklv;
        callfunc("skill_kugan_bonus","MG_SOULSTRIKE",@sklv,"add",1);
        bonus2 bSkillUseSP,"MG_SOULSTRIKE",-3*@sklv;
        bonus2 bSkillElement,"MG_SOULSTRIKE",Ele_Poison;
        bonus5 bAddEffOnSkill,"MG_SOULSTRIKE",Eff_Poison,.@rate/3,ATF_TARGET,5000+1000*@sklv;
        bonus5 bAddEffOnSkill,"MG_SOULSTRIKE",Eff_Bleeding,.@rate/3,ATF_TARGET,5000+1000*@sklv;
        bonus5 bAddEffOnSkill,"MG_SOULSTRIKE",Eff_Burning,.@rate/3,ATF_TARGET,5000+1000*@sklv;
      } else 
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,1;
  - Id: 4712
    Name: SPE_71_2
    Description: Witch Fog
    MaxLevel: 5
    SkillAttached: PF_FOGWALL
    Script: >
      if(!isskillintree("PF_FOGWALL")) {
        bonus2 bSelfBuffDuration,SC_FOGWALL,-50;
        bonus2 bSkillUseSPrate,"PF_FOGWALL",-100;
        bonus2 bSkillCooldown,"PF_FOGWALL",40000-5000*@sklv;
        bonus2 bSkillVariableCast,"PF_FOGWALL",1000;
      }
      callfunc "GetSkill","PF_FOGWALL",@sklv,@sklv,0,isskillintree("PF_FOGWALL")?0:1;
  - Id: 4713
    Name: SPE_71_3
    Description: Witch Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT")) {
        callfunc("skill_kugan_bonus","MG_NAPALMBEAT",@sklv,"add");
        bonus2 bSkillUseSP,"MG_NAPALMBEAT",-3*@sklv;
        bonus2 bSkillElement,"MG_NAPALMBEAT",Ele_Poison;
        bonus5 bAddEffOnSkill,"MG_NAPALMBEAT",SC_VENOM,ALWAYS,ATF_TARGET,2000+1000*@sklv;
      } else 
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,1;
  - Id: 4714
    Name: SPE_71_4
    Description: Witch Trick
    MaxLevel: 5
    SkillAttached: SA_ABRACADABRA
    Script: >
      callfunc "GetSkill","SA_ABRACADABRA",@sklv*(isskillintree("SA_ABRACADABRA")?1:2),@sklv*(isskillintree("SA_ABRACADABRA")?1:2),0,isskillintree("SA_ABRACADABRA")?0:1;
  - Id: 4715
    Name: SPE_71_5
    Description: Witch Wits
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,ALWAYS,Eff_Poison,1500+500*@sklv,0,0,0,0,5000+1000*@sklv,NO_OPTION,0,0,0,0,0,NO_STATUS,EV_ON_HIT,0,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,Eff_Poison,CDT_TARGET;
      bigbonus bBattleBonus,ALWAYS,Eff_Bleeding,1500+500*@sklv,0,0,0,0,5000+1000*@sklv,NO_OPTION,0,0,0,0,0,NO_STATUS,EV_ON_HIT,0,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,Eff_Bleeding,CDT_TARGET;
      bigbonus bBattleBonus,ALWAYS,Eff_Burning,1500+500*@sklv,0,0,0,0,5000+1000*@sklv,NO_OPTION,0,0,0,0,0,NO_STATUS,EV_ON_HIT,0,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,Eff_Burning,CDT_TARGET;
      bigbonus bBattleBonus,ALWAYS,Eff_DPoison,1500+500*@sklv,0,0,0,0,5000+1000*@sklv,NO_OPTION,0,0,0,0,0,NO_STATUS,EV_ON_HIT,0,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,Eff_DPoison,CDT_TARGET;
  - Id: 4716
    Name: SPE_71_6
    Description: Witch Wish
    MaxLevel: 5
    Script: >
      bonus4 bAddEffWhenHit,Eff_Poison,100+100*@sklv,ATF_TARGET,5000+1000*@sklv;
      bonus4 bAddEffWhenHit,Eff_Bleeding,100+100*@sklv,ATF_TARGET,5000+1000*@sklv;
      bonus4 bAddEffWhenHit,Eff_Burning,100+100*@sklv,ATF_TARGET,5000+1000*@sklv;
      bonus4 bAddEffWhenHit,Eff_DPoison,100+100*@sklv,ATF_TARGET,5000+1000*@sklv;
  - Id: 4717
    Name: SPE_71_7
    Description: Witch Conversion
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3000
    LPCost: 8
    Visual1: 1582
  - Id: 4718
    Name: SPE_71_8
    Description: Witch Touch
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    LPCost: 4
    Visual1: 1583
    Script: >
      if(getstatus(SC_SPE_4718))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_MAGIC,NO_COOLDOWN,0,4718;
  - Id: 4719
    Name: SPE_71_9
    Description: Witch Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2000
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1585
    Script: >
      if(getstatus(SC_SPE_4719)) {
        bonus bDefEle,Ele_Poison;
        bonus3 bElementDamageRate,Ele_Poison,4,2*@sklv;
        bonus bDamageOnTimeAddRate,2*@sklv;
        if(@sklv < 5) bonus bSPRecovRate,-50+@sklv*10;
        if(@sklv < 5) bonus bUseSPRate,250-@sklv*50;
      }
  - Id: 4560
    Name: SPE_56
    Description: Accurate Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","56365",@sklv;
      callfunc "GetSkill","GS_GLITTERING",@sklv,@sklv,1,1;
      callfunc "KuganHp",@sklv;
  - Id: 4561
    Name: SPE_56_1
    Description: Accurate Triple
    MaxLevel: 5
    SkillAttached: GS_TRIPLEACTION
    Script: >
      callfunc "GetSkill","GS_TRIPLEACTION",@sklv,@sklv,0,isskillintree("GS_TRIPLEACTION")?0:2;
      callfunc("skill_kugan_bonus","GS_TRIPLEACTION",@sklv,"level",1);
  - Id: 4562
    Name: SPE_56_2
    Description: Accurate Eye
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_SNAKEEYE"))
        bonus bLongAtkRate,2*@sklv;
      bonus bHitRate,@sklv*2;
  - Id: 4563
    Name: SPE_56_3
    Description: Accurate Cracker
    MaxLevel: 5
    SkillAttached: GS_CRACKER
    Script: >
      callfunc "GetSkill","GS_CRACKER",@sklv,@sklv,0,isskillintree("GS_CRACKER")?0:2;
      callfunc("skill_kugan_bonus","GS_CRACKER",@sklv,"level",1);
  - Id: 4564
    Name: SPE_56_4
    Description: Accurate Single
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_SINGLEACTION")) {
        bonus bAspdrate,2*@sklv;
        bonus bCastRate,-2*@sklv;
        bonus bDelayrate,-2*@sklv;
      } else
        callfunc "GetSkill","GS_SINGLEACTION",@sklv*2,@sklv,0,2;
  - Id: 4565
    Name: SPE_56_5
    Description: Accurate Tracking
    MaxLevel: 5
    SkillAttached: GS_TRACKING
    Script: >
      if(isskillintree("GS_TRACKING")) {
        callfunc("skill_kugan_bonus","GS_TRACKING",@sklv,"level",1);
        callfunc "GetSkill","GS_TRACKING",@sklv,@sklv,0,0;
      } else
        callfunc "GetSkill","GS_TRACKING",@sklv*2,@sklv,0,2;
  - Id: 4566
    Name: SPE_56_6
    Description: Accurate Shot
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_PIERCINGSHOT")) {
        callfunc("skill_kugan_bonus","GS_PIERCINGSHOT",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"GS_PIERCINGSHOT",-10*@sklv;
        bonus2 bSkillAtk,"GS_PIERCINGSHOT",3*@sklv;
        bonus3 bAddEffOnSkill,"GS_PIERCINGSHOT",Eff_Bleeding,300*@sklv;
      } else
        callfunc "GetSkill","GS_PIERCINGSHOT",@sklv,@sklv,0,2;
  - Id: 4567
    Name: SPE_56_7
    Description: Accurate Initiative
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,0,0,4567;
  - Id: 4568
    Name: SPE_56_8
    Description: Accurate Wits
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,1000,0,4568;
  - Id: 4569
    Name: SPE_56_9
    Description: Accurate Trick
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 7000
    LPCost: 2
    Visual1: 1550
    Combo: 1
    Script: >
      if(getstatus(SC_SPE_4569))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4569;
  - Id: 4570
    Name: SPE_57
    Description: Gun Specialization
    MaxLevel: 5
    SkillAttached: GS_GLITTERING
    Script: >
      callfunc "KuganStats","52625",@sklv;
      callfunc "GetSkill","GS_GLITTERING",@sklv,@sklv,1,1;
      callfunc "KuganHp",@sklv;
  - Id: 4571
    Name: SPE_57_1
    Description: Gun Canceller
    MaxLevel: 5
    SkillAttached: GS_MADNESSCANCEL
    Script: >
      callfunc "GetSkill","GS_MADNESSCANCEL",@sklv,@sklv,0,isskillintree("GS_MADNESSCANCEL")?0:1;
  - Id: 4572
    Name: SPE_57_2
    Description: Gun Adjustment
    MaxLevel: 5
    SkillAttached: GS_ADJUSTMENT
    Script: >
      callfunc "GetSkill","GS_ADJUSTMENT",@sklv,@sklv,0,isskillintree("GS_ADJUSTMENT")?0:1;
  - Id: 4573
    Name: SPE_57_3
    Description: Gun Accuracy
    MaxLevel: 5
    SkillAttached: GS_INCREASING
    Script: >
      callfunc "GetSkill","GS_INCREASING",@sklv,@sklv,0,isskillintree("GS_INCREASING")?0:1;
  - Id: 4574
    Name: SPE_57_4
    Description: Gun Eye
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_SNAKEEYE"))
        bonus bPerfectHitAddRate,6*@sklv;
      else
        callfunc "GetSkill","GS_SNAKEEYE",@sklv,@sklv,0,2;
  - Id: 4575
    Name: SPE_57_5
    Description: Gun Shower
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_RAPIDSHOWER")) {
        callfunc("skill_kugan_bonus","GS_RAPIDSHOWER",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"GS_RAPIDSHOWER",-10*@sklv;
        bonus2 bDelayRate,"GS_RAPIDSHOWER",-6*@sklv;
      } else
        callfunc "GetSkill","GS_RAPIDSHOWER",@sklv*2,@sklv,0,2;
  - Id: 4576
    Name: SPE_57_6
    Description: Gun Chain
    MaxLevel: 5
    Script: >
      if(!isskillintree("GS_CHAINACTION"))
        callfunc "GetSkill","GS_CHAINACTION",@sklv,@sklv,0,2;
  - Id: 4577
    Name: SPE_57_7
    Description: Gun Magic
    MaxLevel: 5
    SkillAttached: GS_MAGICALBULLET
    Script: >
      callfunc "GetSkill","GS_MAGICALBULLET",@sklv,@sklv,0,isskillintree("GS_MAGICALBULLET")?0:2;
      callfunc("skill_kugan_bonus","GS_MAGICALBULLET",@sklv,"level",2);
  - Id: 4578
    Name: SPE_57_8
    Description: Gun Position
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4578;
  - Id: 4579
    Name: SPE_57_9
    Description: Gun Trick
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 2000
    Cooldown2: 1000
    LPCost: 3
    Visual1: 1705
    Combo: 1
    Script: >
      if(getstatus(SC_SPE_4579))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4579;
  - Id: 4580
    Name: SPE_58
    Description: Rebel Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","54145",@sklv;
      callfunc "GetSkill","GS_GLITTERING",@sklv,@sklv,1,2;
      callfunc "KuganHp",@sklv;
  - Id: 4581
    Name: SPE_58_1
    Description: Rebel Fever
    MaxLevel: 5
    SkillAttached: GS_GATLINGFEVER
    Script: >
      callfunc "GetSkill","GS_GATLINGFEVER",@sklv,@sklv,0,isskillintree("GS_GATLINGFEVER")?0:2;
  - Id: 4582
    Name: SPE_58_2
    Description: Rebel Dust
    MaxLevel: 5
    SkillAttached: GS_DUST
    Script: >
      if(isskillintree("GS_DUST")) {
        callfunc("skill_kugan_bonus","GS_DUST",@sklv,"add",1);
        bonus2 bAddSkillBlow,"GS_DUST",@sklv/2;
        bonus2 bSkillRange,"GS_DUST",(1+@sklv)/2;
      } else
        callfunc "GetSkill","GS_DUST",2*@sklv,@sklv,0,2;
  - Id: 4583
    Name: SPE_58_3
    Description: Rebel Buster
    MaxLevel: 5
    SkillAttached: GS_FULLBUSTER
    Script: >
      callfunc "GetSkill","GS_FULLBUSTER",2*@sklv,@sklv,0,isskillintree("GS_FULLBUSTER")?0:2;
      callfunc("skill_kugan_bonus","GS_FULLBUSTER",@sklv,"level",1);
  - Id: 4584
    Name: SPE_58_4
    Description: Rebel Spread
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_SPREADATTACK")) {
        callfunc("skill_kugan_bonus","GS_SPREADATTACK",@sklv,"add",1);
        bonus5 bAddEffOnSkill,"GS_SPREADATTACK",SC_STUN,2000*@sklv,ATF_TARGET,500;
        bonus5 bAddEffOnSkill,"GS_SPREADATTACK",SC_SLOW,2000*@sklv,ATF_TARGET,3000;
      } else
        callfunc "GetSkill","GS_SPREADATTACK",2*@sklv,@sklv,0,isskillintree("GS_SPREADATTACK")?0:2;
  - Id: 4585
    Name: SPE_58_5
    Description: Rebel Drift
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_GROUNDDRIFT")) {
        callfunc("skill_kugan_bonus","GS_GROUNDDRIFT",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"GS_GROUNDDRIFT",-10*@sklv;
      }
      else
        callfunc "GetSkill","GS_GROUNDDRIFT",@sklv*2,@sklv,0,2;
  - Id: 4586
    Name: SPE_58_6
    Description: Rebel Desperado
    MaxLevel: 5
    Script: >
      if(isskillintree("GS_DESPERADO")) {
        callfunc("skill_kugan_bonus","GS_DESPERADO",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"GS_DESPERADO",4586;
      } else {
        callfunc "GetSkill","GS_DESPERADO",2*@sklv,@sklv,0,2;
        bonus2 bSkillCooldown,"GS_DESPERADO",5000;
      }
  - Id: 4587
    Name: SPE_58_7
    Description: Rebel Wits
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4587;
  - Id: 4588
    Name: SPE_58_8
    Description: Rebel Perfidy
    MaxLevel: 5
    Script: >
      bonus4 bAddEff,SC_CHANGEUNDEAD,200*@sklv,ATF_TARGET,7000;
  - Id: 4589
    Name: SPE_58_9
    Description: Rebel Trick
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 2000
    Cooldown2: 1000
    LPCost: 3
    Visual1: 1550
    Combo: 1
    Script: >
      if(getstatus(SC_SPE_4589))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4589;
  - Id: 4590
    Name: SPE_59
    Description: Ninpo Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","12521",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4591
    Name: SPE_59_1
    Description: Ninpo Mist
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_KASUMIKIRI")) {
        callfunc("skill_kugan_bonus","NJ_KASUMIKIRI",@sklv,"add",1);
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_ATK|DMG_AGI,ELE_WEAPON,DEF_DEF|DEF_MOB|DEF_HPLEFT,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,1000,NO_VISUAL,"NJ_KASUMIKIRI",0,0,0,0,0,NO_STATUS,NO_OPTION;
      } else
        callfunc "GetSkill","NJ_KASUMIKIRI",@sklv*2,@sklv,0,1;
  - Id: 4592
    Name: SPE_59_2
    Description: Ninpo Jump
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_SHADOWJUMP")) {
        callfunc("skill_kugan_bonus","NJ_SHADOWJUMP",@sklv,"add");
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NJ_SHADOWJUMP",4592;
      } else {
        callfunc "GetSkill","NJ_SHADOWJUMP",1,@sklv,0,1;
        bonus2 bSkillDelay,"NJ_UTSUSEMI",3500 - 500*@sklv;
      }
  - Id: 4593
    Name: SPE_59_3
    Description: Ninpo Slash
    MaxLevel: 5
    SkillAttached: NJ_KIRIKAGE
    Script: >
      if (isskillintree("NJ_KIRIKAGE")) {
        callfunc("skill_kugan_bonus","NJ_KIRIKAGE",@sklv,"add",1);
        bonus2 bSkillAddCritical,"NJ_KIRIKAGE",@sklv*3;
      } else
        callfunc "GetSkill","NJ_KIRIKAGE",@sklv,@sklv,0,1;
  - Id: 4594
    Name: SPE_59_4
    Description: Ninpo Shell
    MaxLevel: 5
    SkillAttached: NJ_UTSUSEMI
    Script: >
      callfunc "GetSkill","NJ_UTSUSEMI",@sklv,@sklv,0,isskillintree("NJ_UTSUSEMI")?0:1;
      callfunc("skill_kugan_bonus","NJ_UTSUSEMI",@sklv,"level");
      if(!isskillintree("NJ_UTSUSEMI"))
        bonus2 bSkillDelay,"NJ_UTSUSEMI",3000;
  - Id: 4595
    Name: SPE_59_5
    Description: Ninpo Combo
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_COMBOATTACK",@sklv,"npc",1);
      callfunc "GetSkill","NPC_COMBOATTACK",@sklv,@sklv,0,0;
      if(isskillintree("NJ_NEN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NJ_NEN",4595;
  - Id: 4596
    Name: SPE_59_6
    Description: Ninpo Final
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_ISSEN")) {
        callfunc("skill_kugan_bonus","NJ_ISSEN",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,15000,"NJ_ISSEN",4596;
      } else {
        callfunc "GetSkill","NJ_ISSEN",@sklv*2,@sklv,0,1;
        callfunc "GetSkill","NJ_NEN",1,1,0,1;
        bonus2 bSkillCooldown,"NJ_ISSEN",5000;
      }
  - Id: 4597
    Name: SPE_59_7
    Description: Ninpo Wits
    MaxLevel: 5
    Script: >
      bonus bHideAtkRate,1+@sklv+(@sklv > 4);
  - Id: 4598
    Name: SPE_59_8
    Description: Ninpo Haste
    MaxLevel: 5
    Script: >
      .@bonus = (readparam(bAgi) / (39 - 6*@sklv));
      bonus bDelayRate,-.@bonus;
      bonus bCastRate,-.@bonus;
      bonus bSpeedAddRate,.@bonus;
      bonus bAspdRate,.@bonus;
      bonus bFlee,.@bonus;
  - Id: 4599
    Name: SPE_59_9
    Description: Ninpo Clone
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Cooldown2: 10000
    LPCost: 20
    Visual1: 1550
  - Id: 4600
    Name: SPE_60
    Description: Quick Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","52625",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4601
    Name: SPE_60_1
    Description: Quick Shuriken
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_SYURIKEN")) {
        callfunc("skill_kugan_bonus","NJ_SYURIKEN",@sklv,"add",1);
        bonus4 bAutoSpellOnSkill,"NJ_SYURIKEN","NJ_SYURIKEN",getskilllv("NJ_SYURIKEN"),(readparam(bDex) * (5*@sklv) / 10);
      } else
        callfunc "GetSkill","NJ_SYURIKEN",@sklv,@sklv,0,1;
  - Id: 4602
    Name: SPE_60_2
    Description: Quick Kunai
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_KUNAI")) {
        callfunc("skill_kugan_bonus","NJ_KUNAI",@sklv,"add",1);
        bonus4 bAutoSpellOnSkill,"NJ_KUNAI","NJ_KUNAI",getskilllv("NJ_KUNAI"),40*@sklv;
        bonus2 bSkillAfterHitDelayRate,"NJ_KUNAI",10*@sklv;
      } else
        callfunc "GetSkill","NJ_KUNAI",@sklv,@sklv,0,1;
  - Id: 4603
    Name: SPE_60_3
    Description: Quick Tatami
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_TATAMIGAESHI")) {
        bonus2 bAddSkillBlow,"NJ_TATAMIGAESHI",1 + (@sklv > 2) + (@sklv > 4);
        bonus2 bDelayRate,"NJ_TATAMIGAESHI",-10*@sklv;
        bonus2 bSkillCooldownRate,"NJ_TATAMIGAESHI",10*@sklv;
      } else {
        bonus2 bSkillCooldown,"NJ_TATAMIGAESHI",24000 - 4000*@sklv;
      	callfunc "GetSkill","NJ_TATAMIGAESHI",1,@sklv,0,0;
      }
  - Id: 4604
    Name: SPE_60_4
    Description: Quick Shadow
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_BUNSINJYUTSU")) {
        if(getstatus(SC_BUNSINJYUTSU)) {
          bonus5 bAutoSpellWhenHit,"NJ_KUNAI",getskilllv("NJ_KUNAI"),40*@sklv,BF_WEAPON|BF_LONG,1;
          bonus5 bAutoSpell,"NJ_SYURIKEN",getskilllv("NJ_SYURIKEN"),100*@sklv,BF_WEAPON|BF_LONG,1;
        }
      } else {
        callfunc "GetSkill","NJ_BUNSINJYUTSU",@sklv,@sklv,0,1;
        callfunc "GetSkill","NJ_NEN",1,1,0,1;
      }
  - Id: 4605
    Name: SPE_60_5
    Description: Quick Flee
    MaxLevel: 5
    Script: >
      bonus bFleeSpecial,4*@sklv;
  - Id: 4606
    Name: SPE_60_6
    Description: Quick Casting
    MaxLevel: 5
    Script: >
      bonus bCastAvoidRate,4*@sklv;
  - Id: 4607
    Name: SPE_60_7
    Description: Quick Haste
    MaxLevel: 5
    Script: >
      .@bonus = (readparam(bDex) / (39 - 6*@sklv));
      bonus bDelayRate,-.@bonus;
      bonus bCastRate,-.@bonus;
      bonus bSpeedAddRate,.@bonus;
      bonus bAspdRate,.@bonus;
      bonus bHit,.@bonus;
  - Id: 4608
    Name: SPE_60_8
    Description: Quick Huuma
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_HUUMA")) {
        callfunc("skill_kugan_bonus","NJ_HUUMA",@sklv,"add",1);
        bonus4 bAutoSpellOnSkill,"NJ_HUUMA","NJ_SYURIKEN",2*@sklv,100 + (readparam(bDex) * (6*@sklv) / 10);
      } else {
        callfunc "GetSkill","NJ_HUUMA",@sklv,@sklv,0,1;
      }
  - Id: 4609
    Name: SPE_60_9
    Description: Quick Counter
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1:
      - Level: 1
        Time: 1000
      - Level: 2
        Time: 1250
      - Level: 3
        Time: 1500
      - Level: 4
        Time: 1750
      - Level: 5
        Time: 2000
    LPCost: 4
    Visual1: 1550
    Combo: 1
    Script: >
      if(getstatus(SC_SPE_4609))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4609;
  - Id: 4610
    Name: SPE_61
    Description: Fire Mystic Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4611
    Name: SPE_61_1
    Description: Fire Mystic Training
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_NINPOU")) {
        bonus bMatk,(readparam(bLuk) * 20*@sklv) / 100;
      } else
        callfunc "GetSkill","NJ_NINPOU",@sklv,@sklv,0,1;
  - Id: 4612
    Name: SPE_61_2
    Description: Fire Mystic Soul
    MaxLevel: 5
    SkillAttached: NJ_NEN
    Script: >
      if(isskillintree("NJ_NEN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NJ_NEN",4612;
      callfunc "GetSkill","NJ_NEN",@sklv,@sklv,0,isskillintree("NJ_NEN")?0:1;
  - Id: 4613
    Name: SPE_61_3
    Description: Fire Mystic Lesser Spell
    MaxLevel: 5
    SkillAttached: NJ_KOUENKA
    Script: >
      callfunc("GetSkill","NJ_KOUENKA",isskillintree("NJ_KOUENKA")?@sklv:(@sklv*2),@sklv,0,isskillintree("NJ_KOUENKA")?0:1);
      callfunc("skill_kugan_bonus","NJ_KOUENKA",@sklv,"level",1);
  - Id: 4614
    Name: SPE_61_4
    Description: Fire Mystic Medium Spell
    MaxLevel: 5
    SkillAttached: NJ_KAENSIN
    Script: >
      callfunc("GetSkill","NJ_KAENSIN",isskillintree("NJ_KAENSIN")?@sklv:(@sklv*2),@sklv,0,isskillintree("NJ_KAENSIN")?0:1);
      callfunc("skill_kugan_bonus","NJ_KAENSIN",@sklv,"level",1);
  - Id: 4615
    Name: SPE_61_5
    Description: Fire Mystic Higher Spell
    MaxLevel: 5
    SkillAttached: NJ_BAKUENRYU
    Script: >
      callfunc("GetSkill","NJ_BAKUENRYU",@sklv,@sklv,0,isskillintree("NJ_BAKUENRYU")?0:1);
      callfunc("skill_kugan_bonus","NJ_BAKUENRYU",@sklv,"level",1);
      if(isskillintree("NJ_BAKUENRYU")) bonus2 bSkillAtk,"NJ_BAKUENRYU",@sklv*2;
  - Id: 4616
    Name: SPE_61_6
    Description: Fire Mystic Attack
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_BAKUENRYU"))
        bonus2 bCastRate,"NJ_BAKUENRYU",-5*@sklv;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_ATK|DMG_CANCRIT,ELE_FIRE,DEF_DEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION,ELE_FIRE;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_MATK|DMG_CANCRIT,ELE_FIRE,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_WEAPON,TG_TARGET,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION,ELE_FIRE;
  - Id: 4617
    Name: SPE_61_7
    Description: Fire Mystic Breath
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_FIREBREATH",@sklv,"npc",1);
      callfunc "GetSkill","NPC_FIREBREATH",@sklv,@sklv,0,0;
      if(isskillintree("NJ_BAKUENRYU")) {
        bonus2 bCastRate,"NPC_FIREBREATH",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_FIREBREATH",5*@sklv;
      }
  - Id: 4618
    Name: SPE_61_8
    Description: Mystic Stones
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    LPCost: 1
    CastTime: 1000
    Visual1: 1550
    Visual2: 1551
    Script: >
      bonus2 bSubEle,Ele_Fire,devotion[Ele_Fire] * @sklv / 10;
      bonus3 bElementDamageRate,Ele_Fire,4,(devotion[Ele_Fire] * 5*@sklv) / 100;
      bonus bCritical,(devotion[Ele_Fire] * 3*@sklv) / 100;
  - Id: 4619
    Name: SPE_61_9
    Description: Fire Mystic Tempest
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    LPCost: 10
    CastTime: 1000
    Duration1: 16000
    Visual1: 1441
    Visual2: 1442
  - Id: 4620
    Name: SPE_62
    Description: Water Mystic Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4621
    Name: SPE_62_1
    Description: Water Mystic Training
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_NINPOU")) {
        bonus bMatk,(readparam(bVit) * 20*@sklv) / 100;
      } else
        callfunc "GetSkill","NJ_NINPOU",@sklv,@sklv,0,1;
  - Id: 4622
    Name: SPE_62_2
    Description: Water Mystic Soul
    MaxLevel: 5
    SkillAttached: NJ_NEN
    Script: >
      if(isskillintree("NJ_NEN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NJ_NEN",4622;
      callfunc "GetSkill","NJ_NEN",@sklv,@sklv,0,isskillintree("NJ_NEN")?0:1;
  - Id: 4623
    Name: SPE_62_3
    Description: Water Mystic Lesser Spell
    MaxLevel: 5
    SkillAttached: NJ_HYOUSENSOU
    Script: >
      callfunc("GetSkill","NJ_HYOUSENSOU",isskillintree("NJ_HYOUSENSOU")?@sklv:(@sklv*2),@sklv,0,isskillintree("NJ_HYOUSENSOU")?0:1);
      callfunc("skill_kugan_bonus","NJ_HYOUSENSOU",@sklv,"level",1);
  - Id: 4624
    Name: SPE_62_4
    Description: Water Mystic Medium Spell
    MaxLevel: 5
    SkillAttached: NJ_SUITON
    Script: >
      callfunc("GetSkill","NJ_SUITON",isskillintree("NJ_SUITON")?@sklv:(@sklv*2),@sklv,0,isskillintree("NJ_SUITON")?0:1);
      callfunc("skill_kugan_bonus","NJ_SUITON",@sklv,"level",1);
  - Id: 4625
    Name: SPE_62_5
    Description: Water Mystic Higher Spell
    MaxLevel: 5
    SkillAttached: NJ_HYOUSYOURAKU
    Script: >
      callfunc("GetSkill","NJ_HYOUSYOURAKU",@sklv,@sklv,0,isskillintree("NJ_HYOUSYOURAKU")?0:1);
      callfunc("skill_kugan_bonus","NJ_HYOUSYOURAKU",@sklv,"level",1);
      if(isskillintree("NJ_HYOUSYOURAKU")) bonus2 bSkillAtk,"NJ_HYOUSYOURAKU",@sklv*2;
  - Id: 4626
    Name: SPE_62_6
    Description: Water Mystic Attack
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_HYOUSYOURAKU"))
        bonus2 bCastRate,"NJ_HYOUSYOURAKU",-5*@sklv;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_MATK|DMG_CANCRIT,ELE_WATER,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_WEAPON,TG_TARGET,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION,ELE_WATER;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_ATK|DMG_CANCRIT,ELE_WATER,DEF_DEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION,ELE_WATER;
  - Id: 4627
    Name: SPE_62_7
    Description: Water Mystic Breath
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_ICEBREATH",@sklv,"npc",1);
      callfunc "GetSkill","NPC_ICEBREATH",@sklv,@sklv,0,0;
      if(isskillintree("NJ_HYOUSYOURAKU")) {
        bonus2 bCastRate,"NPC_ICEBREATH",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_ICEBREATH",5*@sklv;
      }
  - Id: 4628
    Name: SPE_62_8
    Description: Water Mystic Stones
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    LPCost: 1
    CastTime: 500
    Visual1: 1450
    Visual2: 1451
    Script: >
      bonus2 bSubEle,Ele_Water,devotion[Ele_Water] * @sklv / 10;
      bonus3 bElementDamageRate,Ele_Water,4,(devotion[Ele_Water] * 5*@sklv) / 100;
      bonus bCritical,(devotion[Ele_Water] * 3*@sklv) / 100;
  - Id: 4629
    Name: SPE_62_9
    Description: Water Mystic Tempest
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    LPCost: 10
    CastTime: 1000
    Duration1: 16000
    Visual1: 1443
    Visual2: 1447
  - Id: 4630
    Name: SPE_63
    Description: Wind Mystic Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","42524",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4631
    Name: SPE_63_1
    Description: Wind Mystic Training
    MaxLevel: 5
    SkillAttached: NJ_NINPOU
    Script: >
      if(isskillintree("NJ_NINPOU")) {
        bonus bMatk,(readparam(bAgi) * 20*@sklv) / 100;
      } else
        callfunc "GetSkill","NJ_NINPOU",@sklv,@sklv,0,1;
  - Id: 4632
    Name: SPE_63_2
    Description: Wind Mystic Soul
    MaxLevel: 5
    SkillAttached: NJ_NEN
    Script: >
      if(isskillintree("NJ_NEN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NJ_NEN",4632;
      callfunc "GetSkill","NJ_NEN",@sklv,@sklv,0,isskillintree("NJ_NEN")?0:1;
  - Id: 4633
    Name: SPE_63_3
    Description: Wind Mystic Lesser Spell
    MaxLevel: 5
    SkillAttached: NJ_HUUJIN
    Script: >
      callfunc "GetSkill","NJ_HUUJIN",isskillintree("NJ_HUUJIN")?@sklv:(@sklv*2),@sklv,0,isskillintree("NJ_HUUJIN")?0:1;
      callfunc("skill_kugan_bonus","NJ_HUUJIN",@sklv,"level",1);
  - Id: 4634
    Name: SPE_63_4
    Description: Wind Mystic Medium Spell
    MaxLevel: 5
    SkillAttached: NJ_RAIGEKISAI
    Script: >
      callfunc "GetSkill","NJ_RAIGEKISAI",isskillintree("NJ_RAIGEKISAI")?@sklv:(@sklv*2),@sklv,0,isskillintree("NJ_RAIGEKISAI")?0:1;
      callfunc("skill_kugan_bonus","NJ_RAIGEKISAI",@sklv,"level",1);
  - Id: 4635
    Name: SPE_63_5
    Description: Wind Mystic Higher Spell
    MaxLevel: 5
    SkillAttached: NJ_KAMAITACHI
    Script: >
      callfunc "GetSkill","NJ_KAMAITACHI",@sklv,@sklv,0,isskillintree("NJ_KAMAITACHI")?0:1;
      callfunc("skill_kugan_bonus","NJ_KAMAITACHI",@sklv,"level",1);
      if(isskillintree("NJ_KAMAITACHI")) bonus2 bSkillAtk,"NJ_KAMAITACHI",@sklv*2;
  - Id: 4636
    Name: SPE_63_6
    Description: Wind Mystic Attack
    MaxLevel: 5
    Script: >
      if(isskillintree("NJ_KAMAITACHI"))
        bonus2 bCastRate,"NJ_KAMAITACHI",-5*@sklv;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_MATK|DMG_CANCRIT,ELE_WIND,DEF_MDEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_WEAPON,TG_TARGET,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION,ELE_WIND;
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,20*@sklv,DMG_ATK|DMG_CANCRIT,ELE_WIND,DEF_DEF|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,500,NO_VISUAL,0,0,0,0,0,0,NO_STATUS,NO_OPTION,ELE_WIND;
  - Id: 4637
    Name: SPE_63_7
    Description: Wind Mystic Breath
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_THUNDERBREATH",@sklv,"npc",1);
      callfunc "GetSkill","NPC_THUNDERBREATH",@sklv,@sklv,0,0;
      if(isskillintree("NJ_KAMAITACHI")) {
        bonus2 bCastRate,"NPC_THUNDERBREATH",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_THUNDERBREATH",5*@sklv;
      }
  - Id: 4638
    Name: SPE_63_8
    Description: Wind Mystic Stones
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    LPCost: 1
    CastTime: 500
    Visual1: 1501
    Visual2: 1502
    Script: >
      bonus2 bSubEle,Ele_Wind,devotion[Ele_Wind] * @sklv / 10;
      bonus3 bElementDamageRate,Ele_Wind,4,(devotion[Ele_Wind] * 5*@sklv) / 100;
      bonus bCritical,(devotion[Ele_Wind] * 3*@sklv) / 100;
  - Id: 4639
    Name: SPE_63_9
    Description: Wind Mystic Tempest
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    LPCost: 10
    CastTime: 1000
    Duration1: 16000
    Visual1: 1454
    Visual2: 1455
  - Id: 4640
    Name: SPE_64
    Description: Chrono Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","43564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4641
    Name: SPE_64_1
    Description: Chrono Stop
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_STOP",@sklv,"npc");
      if (isskillintree("SL_SKA")) {
        bonus2 bSkillCooldownRate,"NPC_STOP",10*@sklv;
        bonus2 bCastRate,"NPC_STOP",-10*@sklv;
      }
      callfunc "GetSkill","NPC_STOP",@sklv,@sklv,0,0;
  - Id: 4642
    Name: SPE_64_2
    Description: Chrono Slow
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_SLOWCAST",@sklv,"npc");
      if (isskillintree("SL_KAUPE")) {
        bonus2 bSkillCooldownRate,"NPC_SLOWCAST",10*@sklv;
        bonus2 bCastRate,"NPC_SLOWCAST",-10*@sklv;
      }
      callfunc "GetSkill","NPC_SLOWCAST",@sklv,@sklv,0,0;
  - Id: 4643
    Name: SPE_64_3
    Description: Chrono Pulse
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_PULSESTRIKE",@sklv,"npc",1);
      if (isskillintree("SL_SMA"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"NPC_PULSESTRIKE",4643;
      callfunc "GetSkill","NPC_PULSESTRIKE",@sklv,@sklv,0,0;
  - Id: 4644
    Name: SPE_64_4
    Description: Chrono Mirror
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_MAGICMIRROR",@sklv,"npc");
      if (isskillintree("SL_KAITE")) {
        bonus2 bSkillCooldownRate,"NPC_MAGICMIRROR",10*@sklv;
        bonus2 bCastRate,"NPC_MAGICMIRROR",-10*@sklv;
      }
      callfunc "GetSkill","NPC_MAGICMIRROR",@sklv,@sklv,0,0;
  - Id: 4645
    Name: SPE_64_5
    Description: Chrono Cross
    MaxLevel: 5
  - Id: 4646
    Name: SPE_64_6
    Description: Chrono Haste
    MaxLevel: 5
    Script: >
      bonus bSpeedAddRate,@sklv;
      bonus bDelayRate,-@sklv;
      bonus bCastRate,-@sklv;
      bonus bAspdRate,@sklv;
      bonus bAfterHitRecovery,@sklv;
  - Id: 4647
    Name: SPE_64_7
    Description: Chrono Avoidness
    MaxLevel: 5
    Script: >
      bonus bFleeSpecial,@sklv*2;
  - Id: 4648
    Name: SPE_64_8
    Description: Chrono Freedom
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime:
      - Level: 1
        Time: 500
      - Level: 2
        Time: 400
      - Level: 3
        Time: 300
      - Level: 4
        Time: 200
      - Level: 5
        Time: 100
    Cooldown2: 7000
    LPCost: 10
    Visual1: 1009
    Visual2: 1011
  - Id: 4649
    Name: SPE_64_9
    Description: Chrono Trigger
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1:
      - Level: 1
        Time: 7000
      - Level: 2
        Time: 9000
      - Level: 3
        Time: 11000
      - Level: 4
        Time: 13000
      - Level: 5
        Time: 15000
    Cooldown2:
      - Level: 1
        Time: 540000
      - Level: 2
        Time: 480000
      - Level: 3
        Time: 420000
      - Level: 4
        Time: 360000
      - Level: 5
        Time: 300000
    SplashArea: 150
    LPCost: 30
  - Id: 4650
    Name: SPE_65
    Description: Spirit Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","53635",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4651
    Name: SPE_65_1
    Description: Spirit Kaizel
    MaxLevel: 5
    SkillAttached: SL_KAIZEL
    Script: >
      if (isskillintree("SL_KAIZEL"))
        callfunc "GetSkill","SL_KAIZEL",@sklv,@sklv,0,0;
      else {
        bonus2 bSkillCooldown,"SL_KAIZEL",60000 - (@sklv > 1)*20000 - (@sklv > 3)*20000;
        callfunc "GetSkill","SL_KAIZEL",1+(@sklv > 2)+(@sklv > 4),1+(@sklv > 2)+(@sklv > 4),0,1;
      }
  - Id: 4652
    Name: SPE_65_2
    Description: Spirit Kaahi
    MaxLevel: 5
    SkillAttached: SL_KAAHI
    Script: >
      callfunc "GetSkill","SL_KAAHI",@sklv,@sklv,0,0;
  - Id: 4653
    Name: SPE_65_3
    Description: Spirit Kaupe
    MaxLevel: 5
    SkillAttached: SL_KAUPE
    Script: >
      if (isskillintree("SL_KAUPE"))
        callfunc "GetSkill","SL_KAUPE",@sklv,@sklv,0,0;
      else {
        bonus2 bSkillCooldown,"SL_KAUPE",20000 - (@sklv > 1)*5000 - (@sklv > 3)*5000;
        callfunc "GetSkill","SL_KAUPE",1+(@sklv > 2)+(@sklv > 4),1+(@sklv > 2)+(@sklv > 4),0,1;
      }
  - Id: 4654
    Name: SPE_65_4
    Description: Spirit Resilience
    MaxLevel: 5
    SkillAttached: SL_KAITE
    Script: >
      if (isskillintree("SL_KAITE"))
        callfunc "GetSkill","SL_KAITE",@sklv,@sklv,0,0;
      else {
        bonus2 bSkillCooldown,"SL_KAITE",20000 - (@sklv > 1)*5000 - (@sklv > 3)*5000;
        callfunc "GetSkill","SL_KAITE",1+(@sklv > 2)+(@sklv > 4),1+(@sklv > 2)+(@sklv > 4),0,1;
      }
  - Id: 4655
    Name: SPE_65_5
    Description: Spirit Light
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 4
    Visual1: 1582
  - Id: 4656
    Name: SPE_65_6
    Description: Spirit Dark
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 4
    Visual1: 1582
  - Id: 4657
    Name: SPE_65_7
    Description: Spirit Balance
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 4
    Visual1: 1582
  - Id: 4658
    Name: SPE_65_8
    Description: Spirit Heroes
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    LPCost: 15
    Visual1: 1582
  - Id: 4659
    Name: SPE_65_9
    Description: Spirit Armor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 45000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 75000
      - Level: 5
        Time: 90000
    LPCost: 30
    Visual1: 1585
    Script: >
      if(getstatus(SC_SPE_4659)) {
        bonus bDefEle,Ele_Ghost;
        bonus3 bElementDamageRate,Ele_Ghost,4,3*@sklv;
        if(@sklv < 5) bonus bSPRecovRate,-50+@sklv*10;
        if(@sklv < 5) bonus bUseSPRate,250-@sklv*50;
      }
  - Id: 4660
    Name: SPE_66
    Description: Dream Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46664",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4661
    Name: SPE_66_1
    Description: Dream Lesser Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("SL_STIN")) {
        callfunc("skill_kugan_bonus","SL_STIN",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"SL_STIN",-3*@sklv;
        bonus5 bAddEffOnSkill,"SL_STIN",SC_MELTDAWN,2000*@sklv,ATF_TARGET,7000;
      } else
        callfunc "GetSkill","SL_STIN",2+@sklv,2+@sklv,0,1;
  - Id: 4662
    Name: SPE_66_2
    Description: Dream Higher Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("SL_SMA")) {
        callfunc("skill_kugan_bonus","SL_SMA",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"SL_SMA",-8*@sklv;
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,50+50*@sklv,DMG_MATK,ELE_GHOST,DEF_MDEF|DEF_RLUK|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_MAGIC,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"SL_SMA",0,0,0,0,0,NO_STATUS,NO_OPTION;
      } else {
        callfunc "GetSkill","SL_SMA",@sklv*2,@sklv*2,0,1;
        bonus2 bSkillCooldown,"SL_SMA",7000;
      }
  - Id: 4663
    Name: SPE_66_3
    Description: Dream Medium Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("SL_STUN")) {
        callfunc("skill_kugan_bonus","SL_STUN",@sklv,"add",1);
        bonus2 bSkillUseSPrate,"SL_STUN",-2*@sklv;
        bonus4 bSkillScript,800*@sklv,NO_COOLDOWN,"SL_STUN",4663;
      } else
        callfunc "GetSkill","SL_STUN",2+@sklv,2+@sklv,0,1;
  - Id: 4664
    Name: SPE_66_4
    Description: Dream Mental
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_MENTALBREAKER",@sklv,"npc");
      callfunc "GetSkill","NPC_MENTALBREAKER",@sklv,@sklv,0,0;
      if(isskillintree("SL_SKE"))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,200*@sklv,DMG_MATK,ELE_GHOST,DEF_MDEF|DEF_RINT|DEF_MOB,NO_STATUS,EV_ON_HIT,BF_WEAPON,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"NPC_MENTALBREAKER",0,0,0,0,0,NO_STATUS,NO_OPTION;
  - Id: 4665
    Name: SPE_66_5
    Description: Dream Silence
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDESILENCE",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDESILENCE",@sklv,@sklv,0,0;
      if(isskillintree("SL_SKE")) {
        bonus2 bCastRate,"NPC_WIDESILENCE",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_WIDESILENCE",5*@sklv;
      }
  - Id: 4666
    Name: SPE_66_6
    Description: Dream Scream
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDECONFUSE",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDECONFUSE",@sklv,@sklv,0,0;
      if(isskillintree("SL_SKE")) {
        bonus2 bCastRate,"NPC_WIDECONFUSE",-5*@sklv;
        bonus2 bSkillCooldownRate,"NPC_WIDECONFUSE",5*@sklv;
      }
  - Id: 4667
    Name: SPE_66_7
    Description: Dream Glare
    MaxLevel: 5
    Script: >
      callfunc("skill_kugan_bonus","NPC_WIDESLEEP",@sklv,"npc");
      callfunc "GetSkill","NPC_WIDESLEEP",@sklv,@sklv,0,0;
      if(isskillintree("SL_SKE")) {
        bonus2 bSkillCooldownRate,"NPC_WIDESLEEP",5*@sklv;
      }
  - Id: 4668
    Name: SPE_66_8
    Description: Dream Resentment
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,1000*@sklv,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4668;
  - Id: 4669
    Name: SPE_66_9
    Description: Dream Spirit
    MaxLevel: 1
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Duration1: 90000
    LPCost: 30
    Visual1: 503
  - Id: 4670
    Name: SPE_67
    Description: Great Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","36163",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4671
    Name: SPE_67_1
    Description: Great Feelings
    MaxLevel: 5
    Script: >
      if (isskillintree("SG_FEEL")) {
        if(getstatus(SC_SG_OFF_SUN)) {
          bonus bAtkRate,@sklv;
          bonus bAtk,3*@sklv;
        }
        if(getstatus(SC_SG_OFF_MOON)) {
          bonus bDefRate,2*@sklv;
          bonus bMdefRate,2*@sklv;
        }
        if(getstatus(SC_SG_OFF_STAR)) {
          bonus bMaxSPrate,3*@sklv;
        }
      } else {
        callfunc "GetSkill","SG_HATE",3,3,0,1;
        bonus2 bSkillVariableCast,"SG_HATE",4000 - (@sklv > 3)*2000 - (@sklv > 4)*2000;
        bonus2 bSelfBuffDuration,"SG_HATE",-(200-(@sklv>3)*100-(@sklv>4)*100);
        callfunc "GetSkill","SG_FEEL",3,3,0,1;
        bonus2 bSkillVariableCast,"SG_FEEL",4000 - (@sklv > 3)*2000 - (@sklv > 4)*2000;
        bonus2 bSelfBuffDuration,"SG_FEEL",-(200-(@sklv>3)*100-(@sklv>4)*100);
      }
  - Id: 4672
    Name: SPE_67_2
    Description: Great Warmth of the Sun
    MaxLevel: 5
    SkillAttached: SG_SUN_WARM
    Script: >
      callfunc "GetSkill","SG_SUN_WARM",@sklv,0,isskillintree("SG_SUN_WARM")?0:1;
  - Id: 4673
    Name: SPE_67_3
    Description: Great Warmth of the Moon
    MaxLevel: 5
    SkillAttached: SG_MOON_WARM
    Script: >
      callfunc "GetSkill","SG_MOON_WARM",@sklv,0,isskillintree("SG_MOON_WARM")?0:1;
  - Id: 4674
    Name: SPE_67_4
    Description: Great Warmth of the Stars
    MaxLevel: 5
    SkillAttached: SG_STAR_WARM
    Script: >
      callfunc "GetSkill","SG_STAR_WARM",@sklv,0,isskillintree("SG_STAR_WARM")?0:1;
  - Id: 4675
    Name: SPE_67_5
    Description: Great Comfort of the Sun
    MaxLevel: 5
    SkillAttached: SG_SUN_COMFORT
    Script: >
      callfunc "GetSkill","SG_SUN_COMFORT",@sklv,0,isskillintree("SG_SUN_COMFORT")?0:1;
  - Id: 4676
    Name: SPE_67_6
    Description: Great Comfort of the Moon
    MaxLevel: 5
    SkillAttached: SG_MOON_COMFORT
    Script: >
      callfunc "GetSkill","SG_MOON_COMFORT",@sklv,0,isskillintree("SG_MOON_COMFORT")?0:1;
  - Id: 4677
    Name: SPE_67_7
    Description: Great Comfort of the Star
    MaxLevel: 5
    SkillAttached: SG_STAR_COMFORT
    Script: >
      callfunc "GetSkill","SG_STAR_COMFORT",@sklv,0,isskillintree("SG_STAR_COMFORT")?0:1;
  - Id: 4678
    Name: SPE_67_8
    Description: Great Resilience
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,400*@sklv,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4678;
  - Id: 4679
    Name: SPE_67_9
    Description: Great Rancor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Duration1: 15000
    LPCost: 7
    Visual1: 1641
    Visual2: 1638
    Script: >
      if(getstatus(SC_SPE_4679)) {
        if(getstatus(SC_SG_DEF_STAR)) {
          bonus2 bResEff,Eff_All,2000;
          bonus bStatusSubDuration,30;
        }
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4679;
      }
  - Id: 4680
    Name: SPE_68
    Description: Glorious Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","13521",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4681
    Name: SPE_68_1
    Description: Glorious Hatred
    MaxLevel: 5
    Script: >
      if (isskillintree("SG_HATE")) {
        if(getstatus(SC_SG_DEF_SUN)) {
          bonus bCritical,@sklv;
          bonus bCritAtkRate,@sklv;
        }
        if(getstatus(SC_SG_DEF_MOON)) {
          bonus bCriticalDef,2*@sklv;
          bonus bMaxHPrate,2*@sklv;
        }
        if(getstatus(SC_SG_DEF_STAR)) {
          bonus bStatusAddDuration,3*@sklv;
          bonus bStatusAddSuccess,3*@sklv;
        }
      } else {
        callfunc "GetSkill","SG_FEEL",3,3,0,1;
        bonus2 bSkillVariableCast,"SG_FEEL",4000 - (@sklv > 3)*2000 - (@sklv > 4)*2000;
        bonus2 bSelfBuffDuration,"SG_FEEL",-(200-(@sklv>3)*100-(@sklv>4)*100);
        callfunc "GetSkill","SG_HATE",3,3,0,1;
        bonus2 bSkillVariableCast,"SG_HATE",4000 - (@sklv > 3)*2000 - (@sklv > 4)*2000;
        bonus2 bSelfBuffDuration,"SG_HATE",-(200-(@sklv>3)*100-(@sklv>4)*100);
      }
  - Id: 4682
    Name: SPE_68_2
    Description: Glorious Anger of the Sun
    MaxLevel: 5
    SkillAttached: SG_SUN_ANGER
    Script: >
      callfunc "GetSkill","SG_SUN_ANGER",@sklv,0,isskillintree("SG_SUN_ANGER")?0:1;
  - Id: 4683
    Name: SPE_68_3
    Description: Glorious Anger of the Moon
    MaxLevel: 5
    SkillAttached: SG_MOON_ANGER
    Script: >
      callfunc "GetSkill","SG_MOON_ANGER",@sklv,0,isskillintree("SG_MOON_ANGER")?0:1;
  - Id: 4684
    Name: SPE_68_4
    Description: Glorious Anger of the Star
    MaxLevel: 5
    SkillAttached: SG_STAR_ANGER
    Script: >
      callfunc "GetSkill","SG_STAR_ANGER",@sklv,0,isskillintree("SG_STAR_ANGER")?0:1;
  - Id: 4685
    Name: SPE_68_5
    Description: Glorious Blessing of the Sun
    MaxLevel: 5
    SkillAttached: SG_SUN_BLESS
    Script: >
      callfunc "GetSkill","SG_SUN_BLESS",@sklv,0,isskillintree("SG_SUN_BLESS")?0:1;
  - Id: 4686
    Name: SPE_68_6
    Description: Glorious Blessing of the Moon
    MaxLevel: 5
    SkillAttached: SG_MOON_BLESS
    Script: >
      callfunc "GetSkill","SG_MOON_BLESS",@sklv,0,isskillintree("SG_MOON_BLESS")?0:1;
  - Id: 4687
    Name: SPE_68_7
    Description: Glorious Blessing of the Star
    MaxLevel: 5
    SkillAttached: SG_STAR_BLESS
    Script: >
      callfunc "GetSkill","SG_STAR_BLESS",@sklv,0,isskillintree("SG_STAR_BLESS")?0:1;
  - Id: 4688
    Name: SPE_68_8
    Description: Glorious Health
    MaxLevel: 5
    Script: >
      bonus bHealPower2,3*@sklv;
  - Id: 4689
    Name: SPE_68_9
    Description: Glorious Rancor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Duration1: 15000
    LPCost: 7
    Visual1: 1641
    Visual2: 1638
    Script: >
      if(getstatus(SC_SPE_4689))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4689;
  - Id: 4690
    Name: SPE_69
    Description: Martial Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15251",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4691
    Name: SPE_69_1
    Description: Martial Tornado
    MaxLevel: 5
    Script: >
      if (isskillintree("TK_STORMKICK")) {
        callfunc("skill_kugan_bonus","TK_STORMKICK",@sklv,"add",1);
        bonus2 bSkillAtk,"TK_STORMKICK",5*@sklv;
        bonus2 bSkillUseSP,"TK_STORMKICK",-1*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TK_STORMKICK",4691;
      } else {
        callfunc "GetSkill","TK_STORMKICK",1+(@sklv>1)*@sklv+(@sklv>4),1+(@sklv>1)*@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","TK_READYSTORM",1,1,0,1;
      }
  - Id: 4692
    Name: SPE_69_2
    Description: Martial Axe
    MaxLevel: 5
    Script: >
      if (isskillintree("TK_DOWNKICK")) {
        callfunc("skill_kugan_bonus","TK_DOWNKICK",@sklv,"add",1);
        bonus2 bSkillAtk,"TK_DOWNKICK",5*@sklv;
        bonus2 bSkillUseSP,"TK_DOWNKICK",-1*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TK_DOWNKICK",4692;
      } else {
        callfunc "GetSkill","TK_DOWNKICK",1+(@sklv>1)*@sklv+(@sklv>4),1+(@sklv>1)*@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","TK_READYDOWN",1,1,0,1;
      }
  - Id: 4693
    Name: SPE_69_3
    Description: Martial Round
    MaxLevel: 5
    Script: >
      if (isskillintree("TK_TURNKICK")) {
        callfunc("skill_kugan_bonus","TK_TURNKICK",@sklv,"add",1);
        bonus2 bSkillAtk,"TK_TURNKICK",5*@sklv;
        bonus2 bSkillUseSP,"TK_TURNKICK",-1*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TK_TURNKICK",4693;
      } else {
        callfunc "GetSkill","TK_TURNKICK",1+(@sklv>1)*@sklv+(@sklv>4),1+(@sklv>1)*@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","TK_READYTURN",1,1,0,1;
      }
  - Id: 4694
    Name: SPE_69_4
    Description: Martial Counter
    MaxLevel: 5
    Script: >
      if (isskillintree("TK_COUNTER")) {
        callfunc("skill_kugan_bonus","TK_COUNTER",@sklv,"add",1);
        bonus2 bSkillAtk,"TK_COUNTER",5*@sklv;
        bonus2 bSkillUseSP,"TK_COUNTER",-1*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TK_COUNTER",4694;
      } else {
        callfunc "GetSkill","TK_COUNTER",1+(@sklv>1)*@sklv+(@sklv>4),1+(@sklv>1)*@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","TK_READYCOUNTER",1,1,0,1;
      }
  - Id: 4695
    Name: SPE_69_5
    Description: Martial Run
    MaxLevel: 5
    Script: >
      if (isskillintree("TK_RUN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TK_RUN",4695;
      else
        callfunc "GetSkill","TK_RUN",@sklv*2,@sklv*2,0,1;
  - Id: 4696
    Name: SPE_69_6
    Description: Martial Jump
    MaxLevel: 5
    Script: >
      if (isskillintree("TK_HIGHJUMP"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TK_HIGHJUMP",4696;
      else {
        callfunc "GetSkill","TK_HIGHJUMP",@sklv,@sklv,0,1;
        bonus2 bSkillCooldown,"TK_HIGHJUMP",7000;
      }
  - Id: 4697
    Name: SPE_69_7
    Description: Martial Mastery
    MaxLevel: 5
    SkillAttached: TK_READYCOUNTER
    SkillAttached2: TK_READYSTORM
    SkillAttached3: TK_READYTURN
    SkillAttached4: TK_READYDOWN
    Script: >
      callfunc "GetSkill","TK_READYCOUNTER",@sklv,@sklv,0,0;
      callfunc "GetSkill","TK_READYSTORM",@sklv,@sklv,0,0;
      callfunc "GetSkill","TK_READYTURN",@sklv,@sklv,0,0;
      callfunc "GetSkill","TK_READYDOWN",@sklv,@sklv,0,0;
  - Id: 4698
    Name: SPE_69_8
    Description: Martial Avoidness
    MaxLevel: 5
    Script: >
      bonus bFleePhysical,2*@sklv;
  - Id: 4699
    Name: SPE_69_9
    Description: Martial Wits
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 250
    Duration1: 10000
    LPCost: 15
    Visual1: 1642
    Visual2: 1643
    Script: >
      if(getstatus(SC_SPE_4699))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,1000,0,4699;
  - Id: 4720
    Name: SPE_72
    Description: Dual Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","52525",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4721
    Name: SPE_72_1
    Description: Dual Weapons
    MaxLevel: 2
    Script: >
      if (isskillintree("AS_LEFT") || isskillintree("KO_LEFT"))
        bonus bAspdRate,10*@sklv;
  - Id: 4722
    Name: SPE_72_2
    Description: Dual Lefthand
    MaxLevel: 5
    SkillAttached: AS_LEFT
    Script: >
      if (isskillintree("AS_LEFT") && getequipweaponlv(EQI_HAND_L) > 0)
        bonus bAtk,(getiteminfo(getequipid(EQI_HAND_L),7) * 10 * @sklv) / 100;
      callfunc "GetSkill","AS_LEFT",@sklv,@sklv,0,0;
  - Id: 4723
    Name: SPE_72_3
    Description: Dual Righthand
    MaxLevel: 5
    SkillAttached: AS_RIGHT
    Script: >
      if (isskillintree("AS_RIGHT"))
        bonus bWeaponAtkRate,(getiteminfo(getequipid(EQI_HAND_R),7) * 5 * @sklv) / 100;
      callfunc "GetSkill","AS_RIGHT",@sklv,@sklv,0,0;
  - Id: 4724
    Name: SPE_72_4
    Description: Dual Attack
    MaxLevel: 5
    SkillAttached: TF_DOUBLE
    Script: >
      if (isskillintree("TF_DOUBLE")) {
        bonus bSkillNoWeapon,"TF_DOUBLE";
        bonus bDoubleAddRate,2*@sklv;
      } else
        callfunc "GetSkill","TF_DOUBLE",@sklv,@sklv,0,0;
  - Id: 4725
    Name: SPE_72_5
    Description: Dual Acceleration
    MaxLevel: 5
    Script: >
      if(getequipweaponlv(EQI_HAND_L) > 0 || getiteminfo(getequipid(EQI_HAND_L),11) == W_KATAR)
        bigbonus bBattleScript,100*@sklv,EV_ON_HIT,BF_SHORT|BF_NORMAL,NO_COOLDOWN,0,4725;
  - Id: 4726
    Name: SPE_72_6
    Description: Dual Improvement
    MaxLevel: 5
    Script: >
      if(getequipweaponlv(EQI_HAND_L) > 0 || getiteminfo(getequipid(EQI_HAND_L),11) == W_KATAR)
        bonus bSecondHandStrikeRate,150 * @sklv + (isskillintree("AS_GRIMTOOTH")? (50*@sklv) : 0);
  - Id: 4727
    Name: SPE_72_7
    Description: Dual Parry
    MaxLevel: 5
    Script: >
      if(getequipweaponlv(EQI_HAND_L) > 0 || getiteminfo(getequipid(EQI_HAND_L),11) == W_KATAR) {
        bonus2 bParryingRate,4,2*@sklv;
        if(isskillintree("AS_CLOAKING"))
          bonus bFlee,2*@sklv;
      }
  - Id: 4728
    Name: SPE_72_8
    Description: Dual Wound
    MaxLevel: 5
    Script: >
      if(getequipweaponlv(EQI_HAND_L) > 0 || getiteminfo(getequipid(EQI_HAND_L),11) == W_KATAR)
        bigbonus bBattleScript,200+(.@lv>1)*100+(.@lv>3)*100,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4728;
  - Id: 4729
    Name: SPE_72_9
    Description: Dual Symfony
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 14000
    LPCost: 10
    Visual1: 1680
    Visual2: 1684
    Script: >
      if (getstatus(SC_SPE_4729))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_NONE,NO_COOLDOWN,0,4729;
  - Id: 4730
    Name: SPE_73
    Description: Monster Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","45645",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4731
    Name: SPE_73_1
    Description: Monster Termination
    MaxLevel: 5
    Script: >
      if(isskillintree("HT_BLITZBEAT"))
        bonus2 bCriticalAddClass,Class_Normal,2*@sklv;
      bonus2 bAddClass,Class_Normal,2*@sklv;
      bonus2 bMagicAddClass,Class_Normal,2*@sklv;
  - Id: 4732
    Name: SPE_73_2
    Description: Monster Resilience
    MaxLevel: 5
    Script: >
      if(isskillintree("HT_SPRINGTRAP"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,0,4732;
      bonus2 bSubClass,Class_Normal,2*@sklv;
  - Id: 4733
    Name: SPE_73_3
    Description: Monster Expertise
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_DETECTING")) {
        bonus2 bComaClass,Class_Normal,10*@sklv;
        bonus2 bWeaponComaClass,Class_Normal,10*@sklv;
      }
      bonus2 bIgnoreDefClassRate,Class_Normal,2*@sklv;
      bonus2 bIgnoreMDefClassRate,Class_Normal,2*@sklv;
  - Id: 4734
    Name: SPE_73_4
    Description: Monster Knowledge
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_SPRINGTRAP") && @sklv > 2)
        bonus2 bSpDrainValueClass,Class_Normal,(1 + (@sklv > 4 ? 1 : 0));
      bonus2 bHpDrainValueClass,Class_Normal,(BaseLevel * 10*@sklv) / 100;
      bonus2 bExpAddClass,Class_Normal,2*@sklv;
  - Id: 4735
    Name: SPE_73_5
    Description: Monster Unslave
    MaxLevel: 5
    Script: >
      bonus bSummonAddRate,10*@sklv * isskillintree("HT_PHANTASMIC")?2:1;
  - Id: 4736
    Name: SPE_73_6
    Description: Monster Trophy
    MaxLevel: 5
  - Id: 4737
    Name: SPE_73_7
    Description: Monster Plague
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 60000
    Cooldown2: 30000
    LPCost: 20
    Visual1: 1730
    Visual2: 1731
    Script: >
      if(getstatus(SC_SPE_4737))
        bonus2 bAddEff,@MonsterPlague,200*@sklv;
      if(getskilllv("HT_SKIDTRAP") || getskilllv("HT_SHOCKWAVE") || getskilllv("HT_SANDMAN"))
        bonus bStatusAddDuration,8*@sklv;
  - Id: 4738
    Name: SPE_73_8
    Description: Monster Decoy
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1:
      - Level: 1
        Time: 5000
      - Level: 2
        Time: 6000
      - Level: 3
        Time: 7000
      - Level: 4
        Time: 8000
      - Level: 5
        Time: 9000
    LPCost: 10
    Visual1: 1461
    Visual2: 1462
  - Id: 4739
    Name: SPE_73_9
    Description: Monster Persecution
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 60000
    Cooldown2: 30000
    LPCost: 20
    Visual1: 1652
    Visual2: 1653
    Script: >
      if (getstatus(SC_SPE_4739)) {
        bonus2 bAddDamageClass,@MonsterPersecution,4*@sklv;
        bonus2 bAddMagicDamageClass,@MonsterPersecution,4*@sklv;
        bonus2 bAddDefMonster,@MonsterPersecution,4*@sklv;
        bonus2 bAddMDefMonster,@MonsterPersecution,4*@sklv;
      }
  - Id: 4740
    Name: SPE_74
    Description: Mind Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4741
    Name: SPE_74_1
    Description: Mind Materials
    MaxLevel: 5
  - Id: 4742
    Name: SPE_74_2
    Description: Mind Calculations
    MaxLevel: 5
    Script: >
      if(isskillintree("MC_IDENTIFY")) {
        bonus bMaxSPrate,@sklv+@sklv/2;
        bonus bMaxLPrate,@sklv+@sklv/2;
        bonus bLpToSp,@sklv+@sklv/2;
        bonus bSpToLp,@sklv+@sklv/2;
      } else {
        bonus bMaxSPrate,@sklv;
        bonus bMaxLPrate,@sklv;
        bonus bLpToSp,@sklv;
        bonus bSpToLp,@sklv;
      }
  - Id: 4743
    Name: SPE_74_3
    Description: Mind Conservation
    MaxLevel: 5
  - Id: 4744
    Name: SPE_74_4
    Description: Mind Adaptation
    MaxLevel: 5
    Script: >
      bonus bNoItemRequirement,4 * @sklv * ((100 + isskillintree("AM_LEARNINGPOTION")*33) / 100);
  - Id: 4745
    Name: SPE_74_5
    Description: Mind Preparation
    MaxLevel: 5
    Script: >
      for(.@i = 0; .@i < 5; .@i++) {
        if(!mindprep[.@i])
          continue;
        if((mindprepw[.@i] * @sklv * 10 * countitem(mindprep[.@i])) / 100 > 1000*@sklv)
          bonus bAddWeight,-1000*@sklv * ((100 + isskillintree("MC_INCCARRY")*33) / 100);
        else
          bonus bAddWeight,-((mindprepw[.@i] * @sklv * 10 * countitem(mindprep[.@i])) / 100) * ((100 + isskillintree("MC_INCCARRY")*33) / 100);
      }
  - Id: 4746
    Name: SPE_74_6
    Description: Mind Explosion
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 3500
    AfterCastWalkDelay: 500
    LPCost: 4
    Visual1: 1371
    Visual2: 1366
    Script: >
      for(.@i = 0; .@i < 4; .@i++) {
        if(getd("mindexplo"+.@i+"[0]") == 1095 || getd("mindexplo"+.@i+"[0]") == 7033)
          .@cast -= -25-25*(getd("mindexplo"+.@i+"[0]") == 7033);
        if(getd("mindexplo"+.@i+"[0]") == 6089 || getd("mindexplo"+.@i+"[0]") == 996 || getd("mindexplo"+.@i+"[0]") == 994 || getd("mindexplo"+.@i+"[0]") == 997 || getd("mindexplo"+.@i+"[0]") == 995)
          .@cast += 100;
        if(getd("mindexplo"+.@i+"[0]") == 7798 || getd("mindexplo"+.@i+"[0]") == 1001)
          .@cast -= -50;
        if(getd("mindexplo"+.@i+"[0]") == 924)
          bonus2 bSkillRange,4746,2;
      }
      if(.@cast)
         bonus2 bCastRate,4746,.@cast;
  - Id: 4747
    Name: SPE_74_7
    Description: Mind Pitcher
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 5
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 750
    Cooldown2: 7000
    LPCost: 4
    Visual1: 1312
    Visual2: 1313
    Script: >
      for(.@i = 0; .@i < 4; .@i++) {
        if(getd("mindpitch"+.@i+"[0]") == 1095 || getd("mindpitch"+.@i+"[0]") == 7033)
          .@cast -= -25-25*getd("mindpitch"+.@i+"[0]") == 7033);
        if(getd("mindpitch"+.@i+"[0]") == 6089 || getd("mindpitch"+.@i+"[0]") == 996 || getd("mindpitch"+.@i+"[0]") == 994 || getd("mindpitch"+.@i+"[0]") == 997 || getd("mindpitch"+.@i+"[0]") == 995)
          .@cast += 100;
        if(getd("mindpitch"+.@i+"[0]") == 7798 || getd("mindpitch"+.@i+"[0]") == 1001)
          .@cast -= -50;
        if(getd("mindpitch"+.@i+"[0]") == 924)
          bonus2 bSkillRange,4747,2;
      }
      if(.@cast)
         bonus2 bCastRate,4747,.@cast;
  - Id: 4748
    Name: SPE_74_8
    Description: Mind Endow
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 60000
    LPCost: 4
    Visual1: 1413
    Visual2: 1415
    Script: >
      if(!getstatus(SC_SPE_4748)) end;
      @endoweff = 0;
      for(.@i = 0; .@i < getarraysize(mindendow); .@i++) {
        callfunc "get_artificer_effect2",mindendow[.@i];
        if(mindendow[.@i] == 996)
          bonus2 bSubEle,Ele_Wind,15 * @sklv / 100;
        if(mindendow[.@i] == 994)
          bonus2 bSubEle,Ele_Fire,15 * @sklv / 100;
        if(mindendow[.@i] == 997)
          bonus2 bSubEle,Ele_Earth,15 * @sklv / 100;
        if(mindendow[.@i] == 995)
          bonus2 bSubEle,Ele_Water,15 * @sklv / 100;
      }
  - Id: 4749
    Name: SPE_74_9
    Description: Mind over Matter
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 60000
    Cooldown2: 30000
    LPCost: 30
    Visual1: 1395
    Visual2: 1396
    Script: >
      if(getstatus(SC_SPE_4749))
        bonus bNoItemRequirement,100;
  - Id: 4750
    Name: SPE_75
    Description: Tamer Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","53635",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4751
    Name: SPE_75_1
    Description: Tamer Slinging
    MaxLevel: 5
    Script: >
      if (isskillintree("DC_THROWARROW"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"DC_THROWARROW",4751;
      else
        callfunc "GetSkill","DC_THROWARROW",@sklv,@sklv,0,1;
  - Id: 4752
    Name: SPE_75_2
    Description: Tamer Musical
    MaxLevel: 5
    Script: >
      if (isskillintree("BA_MUSICALSTRIKE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"BA_MUSICALSTRIKE",4752;
      else
        callfunc "GetSkill","BA_MUSICALSTRIKE",@sklv,@sklv,0,1;
  - Id: 4753
    Name: SPE_75_3
    Description: Tamer Charm
    MaxLevel: 5
    Script: >
      if (isskillintree("DC_WINKCHARM"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"DC_WINKCHARM",4753;
      else
        callfunc "GetSkill","DC_WINKCHARM",@sklv,@sklv,0,1;
  - Id: 4754
    Name: SPE_75_4
    Description: Tamer Voice
    MaxLevel: 5
    Script: >
      if (isskillintree("BA_PANGVOICE"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"BA_PANGVOICE",4754;
      else
        callfunc "GetSkill","BA_PANGVOICE",@sklv,@sklv,0,1;
  - Id: 4755
    Name: SPE_75_5
    Description: Tamer Defensive
    MaxLevel: 5
    Script: >
  - Id: 4756
    Name: SPE_75_6
    Description: Tamer Offensive
    MaxLevel: 5
    Script: >
  - Id: 4757
    Name: SPE_75_7
    Description: Tamer Mastery
    MaxLevel: 5
    Script: >
      bonus4 bSkillScript,ALWAYS,10000,"BA_MUSICALSTRIKE",4757;
      bonus4 bSkillScript,ALWAYS,10000,"DC_THROWARROW",4757;
      bonus2 bCastRate,4335,-10*@sklv;
      bonus2 bCastRate,4336,-10*@sklv;
      bonus2 bCastRate,4337,-10*@sklv;
      bonus2 bCastRate,4506,-10*@sklv;
      bonus2 bCastRate,4516,-10*@sklv;
      bonus2 bCastRate,4527,-10*@sklv;
      bonus2 bCastRate,4717,-10*@sklv;
      bonus2 bCastRate,4655,-10*@sklv;
      bonus2 bCastRate,4656,-10*@sklv;
      bonus2 bCastRate,4657,-10*@sklv;
      bonus2 bCastRate,4758,-10*@sklv;
      bonus2 bCastRate,4759,-10*@sklv;
      bonus2 bCastRate,4318,-10*@sklv;
      bonus2 bCastRate,4319,-10*@sklv;
      bonus2 bCastRate,4339,-10*@sklv;
      bonus2 bCastRate,4499,-10*@sklv;
      bonus2 bCastRate,4508,-10*@sklv;
  - Id: 4758
    Name: SPE_75_8
    Description: Tamer Scarmish
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 10000
    Cooldown2: 7000
    LPCost: 20
    Visual1: 1440
  - Id: 4759
    Name: SPE_75_9
    Description: Tamer Beast
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 7
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 60000
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1440
  - Id: 4760
    Name: SPE_76
    Description: Revenger Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","31313",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4761
    Name: SPE_76_1
    Description: Revenge Martyr
    MaxLevel: 5
    Script: >
      for(.@i = SC_COMMON_MIN; .@i < SC_COMMON_MAX; .@i++)
        if(getstatus(.@i))
          bonus bAllDamageRate,2*@sklv;
  - Id: 4762
    Name: SPE_76_2
    Description: Revenge Reaction
    MaxLevel: 5
    Script: >
      for(.@i = SC_COMMON_MIN; .@i < SC_COMMON_MAX; .@i++)
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,NO_DURATION,NO_OPTION,0,30*@sklv,DMG_ATK|DMG_MATK,ELE_NONE,DEF_MOB,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,NO_COOLDOWN,NO_VISUAL,0,0,0,0,0,0,.@i,CDT_SELF;
  - Id: 4763
    Name: SPE_76_3
    Description: Revenge Rage
    MaxLevel: 5
    Script: >
      bonus bLowHpCritRate,2*@sklv * getstatus(SC_DEVOTION)*2;
      bonus bLowHpAtkRate,2*@sklv * getstatus(SC_DEVOTION)*2;
  - Id: 4764
    Name: SPE_76_4
    Description: Revenge Death
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 12000
    Cooldown2: 30000
    LPCost: 15
    Visual1: 1233
    Visual2: 1233
  - Id: 4765
    Name: SPE_76_5
    Description: Revenge Status
    MaxLevel: 5
    Script: >
      for(.@i = SC_COMMON_MIN; .@i < SC_COMMON_MAX; .@i++)
        bonus2 bReflectStatus,.@i,4*@sklv;
  - Id: 4766
    Name: SPE_76_6
    Description: Revenge Feast
    MaxLevel: 5
    Script: >
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    LPCost: 5
    Cooldown2: 5000
    Visual1: 1234
  - Id: 4767
    Name: SPE_76_7
    Description: Revenge Counter
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 250
    Duration1: 10000
    LPCost: 10
    Visual1: 1261
    Script: >
      if(getstatus(SC_SPE_4767))
        bigbonus bBattleScript,ALWAYS,@revengec?EV_ON_HIT:EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4767;
  - Id: 4768
    Name: SPE_76_8
    Description: Revenge Wrath
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Cooldown2: 7000
    LPCost: 10
    Visual1: 1238
    Script: >
  - Id: 4769
    Name: SPE_76_9
    Description: Revenge Fury
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 30000
    LPCost: 30
    Visual1: 1464
    Visual2: 1465
    Script: >
      if(getstatus(SC_SPE_4769)) {
        bonus2 bAddClass,Class_All,5*@sklv;
        bonus2 bHPLossRate,MaxHP*4*@sklv/1000,1000;
      }
  - Id: 4770
    Name: SPE_77
    Description: Trickster Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","45645",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4771
    Name: SPE_77_1
    Description: Tricky Steal
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_STEAL"))
        bonus2 bSkillRange,"TF_STEAL",1+@sklv+(@sklv>4);
      else
        callfunc "GetSkill","TF_STEAL",@sklv*2,@sklv*2,0,1;
  - Id: 4772
    Name: SPE_77_2
    Description: Tricky Mug
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_STEALCOIN"))
        bonus2 bSkillRange,"RG_STEALCOIN",1+@sklv+(@sklv>4);
      else
        callfunc "GetSkill","RG_STEALCOIN",@sklv*2,@sklv*2,0,1;
  - Id: 4773
    Name: SPE_77_3
    Description: Tricky Chase
    MaxLevel: 5
    Script: >
      callfunc "GetSkill","ST_CHASEWALK",@sklv,@sklv,0,0;
  - Id: 4774
    Name: SPE_77_4
    Description: Tricky Money
    MaxLevel: 5
    Script: >
      if (isskillintree("RG_STEALCOIN"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"RG_STEALCOIN",4774;
      bonus bAddZenyRate,10*@sklv;
  - Id: 4775
    Name: SPE_77_5
    Description: Tricky Drops
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_STEAL"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"TF_STEAL",4775;
      bonus2 bDropAddClass,Class_All,2*@sklv;
  - Id: 4776
    Name: SPE_77_6
    Description: Tricky Treasure
    MaxLevel: 5
    Script: >
  - Id: 4777
    Name: SPE_77_7
    Description: Tricky Sharing
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 120000
    LPCost: 30
    Visual1: 1460
    Script: >
      if(getstatus(SC_SPE_4777))
        bonus bAddMapItemRate,2*@sklv;
  - Id: 4778
    Name: SPE_77_8
    Description: Tricky Research
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 600000
    LPCost: 30
    Visual1: 1461
    Script: >
  - Id: 4779
    Name: SPE_77_9
    Description: Tricky Quest
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
  - Id: 4780
    Name: SPE_78
    Description: Red Mage Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46464",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4781
    Name: SPE_78_1
    Description: Red Spell
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREBOLT")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_FIREBOLT",4781;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_COLDBOLT",4781;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_LIGHTNINGBOLT",4781;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"WZ_EARTHSPIKE",4781;
      } else {
        callfunc "GetSkill","MG_FIREBOLT",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","MG_COLDBOLT",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","MG_LIGHTNINGBOLT",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","WZ_EARTHSPIKE",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
      }
  - Id: 4782
    Name: SPE_78_2
    Description: Red Heal
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_HEAL"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AL_HEAL",4782;
      else
        callfunc "GetSkill","AL_HEAL",@sklv,@sklv,0,1;
  - Id: 4783
    Name: SPE_78_3
    Description: Red Cure
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_CURE")) {
        bonus5 bAutoSpellOnSkill,"AL_CURE","TF_DETOXIFY",@sklv,1000,0;
        bonus5 bAutoSpellOnSkill,"AL_CURE","PR_STRECOVERY",@sklv,1000,0;
      } else
        callfunc "GetSkill","AL_CURE",@sklv,@sklv,0,1;
  - Id: 4784
    Name: SPE_78_4
    Description: Red Napalm
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_NAPALMBEAT",4784;
      else
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv,@sklv,0,1;
  - Id: 4785
    Name: SPE_78_5
    Description: Red Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        bonus2 bSkillUseSPrate,"MG_SOULSTRIKE",20*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_SOULSTRIKE",4785;
      } else
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,1;
  - Id: 4786
    Name: SPE_78_6
    Description: Red Sanctuary
    MaxLevel: 5
    Script: >
      if (!isskillintree("PR_SANCTUARY"))
        callfunc "GetSkill","PR_SANCTUARY",@sklv,@sklv,0,1;
  - Id: 4787
    Name: SPE_78_7
    Description: Red Crasher
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_MAGICCRASHER"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"HW_MAGICCRASHER",4787;
      else
        callfunc "GetSkill","HW_MAGICCRASHER",@sklv,@sklv,0,1;
  - Id: 4788
    Name: SPE_78_8
    Description: Red Area
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREBOLT")) {
        bonus4 bAutoSpellOnSkill,"MG_FIREBOLT","MG_FIREBALL",@sklv,200*@sklv;
        bonus4 bAutoSpellOnSkill,"MG_COLDBOLT","WZ_FROSTNOVA",@sklv,200*@sklv;
        bonus4 bAutoSpellOnSkill,"MG_LIGHTNINGBOLT","MG_THUNDERSTORM",@sklv,200*@sklv;
        bonus4 bAutoSpellOnSkill,"WZ_EARTHSPIKE","WZ_HEAVENDRIVE",@sklv,200*@sklv;
      } else {
        callfunc "GetSkill","MG_THUNDERSTORM",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","WZ_FROSTNOVA",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","WZ_HEAVENDRIVE",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
        callfunc "GetSkill","MG_FIREBALL",1+@sklv+(@sklv>4),1+@sklv+(@sklv>4),0,1;
      }
  - Id: 4789
    Name: SPE_78_9
    Description: Red Logic
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 90000
    LPCost: 30
    Visual1: 1498
    Visual2: 1499
    Script: >
      if(getstatus(SC_SPE_4789)) {
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_MAGIC,1000,NO_SKILL,4789;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AL_HEAL",4789;
      }
  - Id: 4790
    Name: SPE_79
    Description: Tactician Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","45654",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4791
    Name: SPE_79_1
    Description: Tactical Snare
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_ANKLESNARE"))
        bonus3 bStatusDamageRate,SC_ANKLE,BF_NONE,2*@sklv;
      else
        callfunc "GetSkill","HT_ANKLESNARE",@sklv,@sklv,0,1;
  - Id: 4792
    Name: SPE_79_2
    Description: Tactical Flash
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_FLASHER"))
        bonus3 bStatusDamageRate,SC_BLIND,BF_NONE,5*@sklv;
      else
        callfunc "GetSkill","HT_FLASHER",@sklv,@sklv,0,1;
  - Id: 4793
    Name: SPE_79_3
    Description: Tactical Blast
    MaxLevel: 5
    Script: >
      if (isskillintree("HT_BLASTMINE"))
        bonus2 bSkillElement,"HT_BLASTMINE",@blast;
      else
        callfunc "GetSkill","HT_BLASTMINE",@sklv,@sklv,0,1;
  - Id: 4794
    Name: SPE_79_4
    Description: Tactical Bless
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_BLESSING"))
        bigbonus bBattleScript,500,EV_WHEN_HIT,BF_NONE,1000,NO_SKILL,4794;
      else
        callfunc "GetSkill","AL_BLESSING",@sklv,@sklv,0,1;
  - Id: 4795
    Name: SPE_79_5
    Description: Tactical Agility
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_INCAGI"))
        bigbonus bBattleBonus,ALWAYS,SC_AVOIDNESS,ALWAYS,6*@sklv,-1,0,0,10000,SCSTART_NONE,NO_DAMAGE,NO_DAMAGE,NO_MODE,EL_NONE,NO_OPTION,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_SELF,NO_COOLDOWN,NO_VISUAL,0,0,0,0,0,0,SC_INCREASEAGI,CDT_SELF;
      else
        callfunc "GetSkill","AL_INCAGI",@sklv,@sklv,0,1;
  - Id: 4796
    Name: SPE_79_6
    Description: Tactical Down
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_DECAGI"))
        bonus3 bStatusDamageRate,SC_DECREASEAGI,BF_NONE,2*@sklv;
      else
        callfunc "GetSkill","AL_DECAGI",@sklv,@sklv,0,1;
  - Id: 4797
    Name: SPE_79_7
    Description: Tactical Hide
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_HIDING")) {
        if(getstatus(SC_HIDING)) {
          bonus bStatusAddDuration,3*@sklv;
          bonus bDamageOnTimeAddRate,3*@sklv;
          bonus2 bAddSkillTypeRate,SKT_TRAP,3*@sklv;
        }
      } else
        callfunc "GetSkill","TF_HIDING",@sklv,@sklv,0,1;
  - Id: 4798
    Name: SPE_79_8
    Description: Tactical Teleport
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_HIDING")) {
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_SHORT,7000,NO_SKILL,4797;
      } else {
        callfunc "GetSkill","AL_TELEPORT",2,2,0,1;
        bonus2 bSkillCooldown,"AL_TELEPORT",10000-2000*@sklv;
      }
  - Id: 4799
    Name: SPE_79_9
    Description: Tactical Waltz
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    Cooldown2: 30000
    CastTime:
      - Level: 1
        Time: 1500
      - Level: 2
        Time: 1250
      - Level: 3
        Time: 1000
      - Level: 4
        Time: 750
      - Level: 5
        Time: 500
    Duration1:
      - Level: 1
        Time: 3000
      - Level: 2
        Time: 4000
      - Level: 3
        Time: 5000
      - Level: 4
        Time: 6000
      - Level: 5
        Time: 7000
    LPCost: 15
    Visual1: 1582
    Visual2: 1595
  - Id: 4800
    Name: SPE_80
    Description: Freelancer  Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","51251",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4801
    Name: SPE_80_1
    Description: Free Cross
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_HOLYCROSS")) {
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,NO_DURATION,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"CR_HOLYCROSS",0,0,0,0,0,SC_POISON,CDT_TARGET;
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,NO_DURATION,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"CR_HOLYCROSS",0,0,0,0,0,SC_STUN,CDT_TARGET;
      } else
        callfunc "GetSkill","CR_HOLYCROSS",@sklv*2,@sklv,0,1;
  - Id: 4802
    Name: SPE_80_2
    Description: Free Bash
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_BASH")) {
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,NO_DURATION,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"SM_BASH",0,0,0,0,0,SC_BLIND,CDT_TARGET;
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,NO_DURATION,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"SM_BASH",0,0,0,0,0,SC_POISON,CDT_TARGET;
      } else
        callfunc "GetSkill","SM_BASH",@sklv*2,@sklv,0,1;
  - Id: 4803
    Name: SPE_80_3
    Description: Free Envenom
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_POISON")) {
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,NO_DURATION,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"TF_POISON",0,0,0,0,0,SC_STUN,CDT_TARGET;
        bigbonus bBattleBonus,ALWAYS,0,0,0,0,0,0,NO_DURATION,SCSTART_NONE,NO_DAMAGE,100*@sklv,DMG_ATK,ELE_WEAPON,DEF_DEF,NO_STATUS,EV_ON_HIT,BF_SKILL,TG_TARGET,NO_COOLDOWN,NO_VISUAL,"TF_POISON",0,0,0,0,0,SC_BLIND,CDT_TARGET;
      } else
        callfunc "GetSkill","TF_POISON",@sklv*2,@sklv,0,1;
  - Id: 4804
    Name: SPE_80_4
    Description: Free Mammonite
    MaxLevel: 5
    Script: >
      if (isskillintree("MC_MAMMONITE")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MC_MAMMONITE",4804;
      } else
        callfunc "GetSkill","MC_MAMMONITE",@sklv*2,@sklv,0,1;
  - Id: 4805
    Name: SPE_80_5
    Description: Free Concentration
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_CONCENTRATION")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AC_CONCENTRATION",4805;
      } else
        callfunc "GetSkill","AC_CONCENTRATION",@sklv,@sklv,0,1;
  - Id: 4806
    Name: SPE_80_6
    Description: Free Double
    MaxLevel: 5
    Script: >
      if (isskillintree("TF_DOUBLE")) {
        bonus4 bAutoSpellOnSkill,"MO_CALLSPIRITS","MO_CALLSPIRITS",5,20*@sklv;
        bonus4 bAutoSpellOnSkill,"CR_HOLYCROSS","CR_HOLYCROSS",10,20*@sklv;
        bonus4 bAutoSpellOnSkill,"SM_BASH","SM_BASH",10,20*@sklv;
        bonus4 bAutoSpellOnSkill,"MC_MAMMONITE","MC_MAMMONITE",10,20*@sklv;
        bonus4 bAutoSpellOnSkill,"TF_POISON","TF_POISON",10,20*@sklv;
      } else
        callfunc "GetSkill","TF_DOUBLE",@sklv,@sklv,0,0;
  - Id: 4807
    Name: SPE_80_7
    Description: Free Sight
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SIGHT")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_SIGHT",4807;
      } else
        callfunc "GetSkill","MG_SIGHT",@sklv,@sklv,0,0;
  - Id: 4808
    Name: SPE_80_8
    Description: Free Spirit
    MaxLevel: 5
    Script: >
      if (isskillintree("MO_CALLSPIRITS"))
        bonus bAtk2,getcharm(2)*2*@sklv;
      else
        callfunc "GetSkill","MO_CALLSPIRITS",@sklv,@sklv,0,0;
  - Id: 4809
    Name: SPE_80_9
    Description: Free Combo
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 60000
    LPCost: 30
    Visual1: 1315
    Visual2: 1319
    Script: >
      if(getstatus(SC_SPE_4809)) {
        bonus4 bAutoSpellOnSkill,"MO_CALLSPIRITS","MO_CALLSPIRITS",5,20*@sklv;
        bonus4 bAutoSpellOnSkill,"CR_HOLYCROSS","CR_HOLYCROSS",10,40*@sklv;
        bonus4 bAutoSpellOnSkill,"SM_BASH","SM_BASH",10,40*@sklv;
        bonus4 bAutoSpellOnSkill,"MC_MAMMONITE","MC_MAMMONITE",10,40*@sklv;
        bonus4 bAutoSpellOnSkill,"TF_POISON","TF_POISON",10,40*@sklv;
      }
  - Id: 4810
    Name: SPE_81
    Description: Sherperd Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","36363",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4811
    Name: SPE_81_1
    Description: Keep Angelus
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_ANGELUS"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AL_ANGELUS",4811;
      else
        callfunc "GetSkill","AL_ANGELUS",@sklv*2,@sklv,0,0;
  - Id: 4812
    Name: SPE_81_2
    Description: Keep Endure
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_ENDURE")) {
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"SM_ENDURE",4812;
        if(getstatus(SC_ENDURE)) {
          bonus2 bSubEle,Ele_All,4*@sklv*readparam(bMdef)/100;
          bonus2 bSubEle,Ele_Neutral,-2*@sklv*readparam(bMdef)/100;
        }
      } else
        callfunc "GetSkill","SM_ENDURE",@sklv*2,@sklv,0,0;
  - Id: 4813
    Name: SPE_81_3
    Description: Keep Provocation
    MaxLevel: 5
    Script: >
      if (isskillintree("SM_PROVOKE"))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,0,NO_OPTION,NO_DAMAGE,40*@sklv,DMG_ATK|DMG_MDEF,ELE_NONE,DEF_DEF,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,SC_PROVOKE,CDT_TARGET;
      else
        callfunc "GetSkill","SM_PROVOKE",@sklv*2,@sklv,0,0;
  - Id: 4814
    Name: SPE_81_4
    Description: Keep Gloria
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_GLORIA"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"PR_GLORIA",4814;
      else
        callfunc "GetSkill","PR_GLORIA",@sklv,@sklv,0,0;
  - Id: 4815
    Name: SPE_81_5
    Description: Keep Safety
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SAFETYWALL"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_WEAPON|BF_SHORT,NO_COOLDOWN,NO_SKILL,4815;
      else
        callfunc "GetSkill","MG_SAFETYWALL",@sklv,@sklv,0,0;
  - Id: 4816
    Name: SPE_81_6
    Description: Keep Break
    MaxLevel: 5
    Script: >
      if (!isskillintree("SM_MAGNUM"))
        callfunc "GetSkill","SM_MAGNUM",@sklv*2,@sklv,0,0;
  - Id: 4817
    Name: SPE_81_7
    Description: Keep Faith
    MaxLevel: 5
    Script: >
      if (isskillintree("CR_TRUST"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4817;
      else
        callfunc "GetSkill","CR_TRUST",@sklv*2,@sklv,0,0;
  - Id: 4818
    Name: SPE_81_8
    Description: Keep Pneuma
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_PNEUMA"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_WEAPON|BF_LONG,NO_COOLDOWN,NO_SKILL,4818;
      else
        callfunc "GetSkill","AL_PNEUMA",@sklv,@sklv,0,0;
  - Id: 4819
    Name: SPE_81_9
    Description: Keep Rebirth
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    CastTime:
      - Level: 1
        Time: 1000
      - Level: 2
        Time: 875
      - Level: 3
        Time: 750
      - Level: 4
        Time: 625
      - Level: 5
        Time: 500
    Duration1:
      - Level: 1
        Time: 20000
      - Level: 2
        Time: 40000
      - Level: 3
        Time: 60000
      - Level: 4
        Time: 120000
      - Level: 5
        Time: 180000
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1395
    Visual2: 1396
    Script: >
  - Id: 4820
    Name: SPE_82
    Description: Warfarer Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15151",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4821
    Name: SPE_82_1
    Description: Warfare Mammonite
    MaxLevel: 5
    Script: >
      if (isskillintree("MC_MAMMONITE")) {
        if((.@i = countitem(969)))
          bonus2 bSkillAtk,"MC_MAMMONITE",@sklv*((.@i>10)?10:.@i);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MC_MAMMONITE",4821;
      } else
        callfunc "GetSkill","MC_MAMMONITE",@sklv*2,@sklv,0,0;
  - Id: 4822
    Name: SPE_82_2
    Description: Warfare Overcharge
    MaxLevel: 5
    Script: >
      if (isskillintree("MC_OVERCHARGE"))
        bonus bNoZenyRequirement,4*@sklv;
      else
        callfunc "GetSkill","MC_OVERCHARGE",@sklv*2,@sklv,0,0;
  - Id: 4823
    Name: SPE_82_3
    Description: Warfare Weapon
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Requires:
      ZenyCost:
        - Level: 1
          Amount: 1000
        - Level: 2
          Amount: 2000
        - Level: 3
          Amount: 3000
        - Level: 4
          Amount: 4000
        - Level: 5
          Amount: 5000
    Visual1: 
  - Id: 4824
    Name: SPE_82_4
    Description: Warfare Armor
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Requires:
      ZenyCost:
        - Level: 1
          Amount: 1000
        - Level: 2
          Amount: 2000
        - Level: 3
          Amount: 3000
        - Level: 4
          Amount: 4000
        - Level: 5
          Amount: 5000
    Visual1: 
  - Id: 4825
    Name: SPE_82_5
    Description: Warfare Grenade
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Requires:
      ZenyCost:
        - Level: 1
          Amount: 1000
        - Level: 2
          Amount: 2000
        - Level: 3
          Amount: 3000
        - Level: 4
          Amount: 4000
        - Level: 5
          Amount: 5000
    Visual1: 
  - Id: 4826
    Name: SPE_82_6
    Description: Warfare Flash
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Requires:
      ZenyCost:
        - Level: 1
          Amount: 1000
        - Level: 2
          Amount: 2000
        - Level: 3
          Amount: 3000
        - Level: 4
          Amount: 4000
        - Level: 5
          Amount: 5000
    Visual1: 
  - Id: 4827
    Name: SPE_82_7
    Description: Warfare Zeny
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Combo: true
    Visual1: 
    Script: >
      if(!@Chargeup)
        bonus2 bZenyToDamage,200*@sklv,100;
  - Id: 4828
    Name: SPE_82_8
    Description: Warfare Defense
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 5
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 60000
    Unit:
      Id: Dummyskill
      Range: 10
      Interval: 2000
      Flag:
        NoOverlap: true
    Script: >
  - Id: 4829
    Name: SPE_82_9
    Description: Warfare Attack
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 5
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 60000
    Unit:
      Id: Dummyskill
      Layout: 0
      Range: 10
      Interval: 2000
      Flag:
        NoOverlap: true
  - Id: 4830
    Name: SPE_83
    Description: Battle Mage Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","41514",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4831
    Name: SPE_83_1
    Description: Battle Fire
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_FIREBOLT"))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_SKILL,NO_COOLDOWN,"MG_FIREBOLT",4831;
      else
        callfunc "GetSkill","MG_FIREBOLT",@sklv*2,@sklv,0,0;
  - Id: 4832
    Name: SPE_83_2
    Description: Battle Ice
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_COLDBOLT"))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_SKILL,NO_COOLDOWN,"MG_COLDBOLT",4832;
      else
        callfunc "GetSkill","MG_COLDBOLT",@sklv*2,@sklv,0,0;
  - Id: 4833
    Name: SPE_83_3
    Description: Battle Lightning
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_LIGHTNINGBOLT"))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_SKILL,NO_COOLDOWN,"MG_LIGHTNINGBOLT",4833;
      else
        callfunc "GetSkill","MG_LIGHTNINGBOLT",@sklv*2,@sklv,0,0;
  - Id: 4834
    Name: SPE_83_4
    Description: Battle Earth
    MaxLevel: 5
    Script: >
      if (isskillintree("WZ_EARTHSPIKE"))
        bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_SKILL,NO_COOLDOWN,"WZ_EARTHSPIKE",4834;
      else
        callfunc "GetSkill","WZ_EARTHSPIKE",@sklv*2,@sklv,0,0;
  - Id: 4835
    Name: SPE_83_5
    Description: Battle Coat
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_ENERGYCOAT"))
        bigbonus bBattleScript,ALWAYS,EV_WHEN_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4835;
      else
        callfunc "GetSkill","MG_ENERGYCOAT",@sklv,@sklv,0,0;
  - Id: 4836
    Name: SPE_83_6
    Description: Battle Manus
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_IMPOSITIO")) {
        if(getstatus(SC_IMPOSITIO))
          bigbonus bBattleScript,@sklv*800,EV_ON_HIT,BF_WEAPON,1000,NO_SKILL,4836;
      } else
        callfunc "GetSkill","PR_IMPOSITIO",@sklv,@sklv,0,0;
  - Id: 4837
    Name: SPE_83_7
    Description: Battle Splandor
    MaxLevel: 5
    Script: >
      bigbonus bBattleScript,ALWAYS,EV_ON_HIT,BF_WEAPON,NO_COOLDOWN,NO_SKILL,4837;
  - Id: 4838
    Name: SPE_83_8
    Description: Battle Range
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 60000
    LPCost: 10
    Visual1: 
    Script: >
      if(getstatus(SC_SPE_4838)) {
        bonus bMatk,getpcparam(1)*40*@sklv/100;
        bonus bAtk,getpcparam(5)*40*@sklv/100;
        if(getiteminfo(getequipid(EQI_HAND_R),11) == W_STAFF) || (getiteminfo(getequipid(EQI_HAND_R),11) == W_2HSTAFF) {
          bonus bAtkRange,1+(@sklv>1)+(@sklv>3);
          if(BaseClass==JOB_NOVICE || BaseClass==JOB_NOVICE_HIGH || BaseClass==JOB_BABY || BaseClass==JOB_SUPER_NOVICE_E || BaseClass==JOB_SUPER_BABY_E) {
            bonus bAtkRange,(@sklv>2)+(@sklv>=5);
          }
        }
      }
  - Id: 4839
    Name: SPE_83_9
    Description: Battle Spell
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 60000
    LPCost: 20
    Visual1: 
    Script: >
      if(BaseClass==JOB_NOVICE || BaseClass==JOB_NOVICE_HIGH || BaseClass==JOB_BABY || BaseClass==JOB_SUPER_NOVICE_E || BaseClass==JOB_SUPER_BABY_E)
        .@bonus = @sklv*150;
      if(getstatus(SC_SPE_4839))
        bigbonus bBattleScript,@sklv*400*(2 - 1 * (getstatus(SC_AUTOSPELL) > 0))+.@bonus,EV_ON_HIT,BF_WEAPON,1000,NO_SKILL,4839;
  - Id: 4840
    Name: SPE_84
    Description: Gladiator Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","12521",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4841
    Name: SPE_84_1
    Description: Gladiator Force
    MaxLevel: 5
    Type: Weapon
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Combo: 1
  - Id: 4842
    Name: SPE_84_2
    Description: Gladiator Accuracy
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    Flags:
      NoTargetSelf: true
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Combo: 1
  - Id: 4843
    Name: SPE_84_3
    Description: Gladiator Offensive
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Visual1: 
  - Id: 4844
    Name: SPE_84_4
    Description: Gladiator Defensive
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Combo: 1
  - Id: 4845
    Name: SPE_84_5
    Description: Gladiator Stop
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Visual1: 
  - Id: 4846
    Name: SPE_84_6
    Description: Gladiator Confusion
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Combo: 1
  - Id: 4847
    Name: SPE_84_7
    Description: Gladiator Combo
    MaxLevel: 5
    Script: >
      if (!isskillintree("SM_ENDURE"))
        callfunc "GetSkill","SM_ENDURE",@sklv*2,@sklv,0,0;
  - Id: 4848
    Name: SPE_84_8
    Description: Gladiator Combo II
    MaxLevel: 5
    Script: >
      if (!isskillintree("SM_AUTOBERSERK"))
        callfunc "GetSkill","SM_AUTOBERSERK",@sklv,@sklv,0,0;
  - Id: 4849
    Name: SPE_84_9
    Description: Gladiator Trample
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 60000
    LPCost: 30
    Combo: 1
  - Id: 4850
    Name: SPE_85
    Description: Bladedancer Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","25152",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4851
    Name: SPE_85_1
    Description: Bladedance Smart
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4852
    Name: SPE_85_2
    Description: Bladedance Vigor
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Visual1: 
  - Id: 4853
    Name: SPE_85_3
    Description: Bladedance Offensive
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4854
    Name: SPE_85_4
    Description: Bladedance Defensive
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4855
    Name: SPE_85_5
    Description: Bladedance Poison
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Visual1: 
  - Id: 4856
    Name: SPE_85_6
    Description: Bladedance Blind
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4857
    Name: SPE_85_7
    Description: Bladedance Combo
    MaxLevel: 5
    Script: >
      if (!isskillintree("TF_DOUBLE"))
        callfunc "GetSkill","TF_DOUBLE",@sklv,@sklv,0,0;
  - Id: 4858
    Name: SPE_85_8
    Description: Bladedance Combo II
    MaxLevel: 5
    Script: >
      if (!isskillintree("TF_MISS"))
        callfunc "GetSkill","TF_MISS",@sklv*2,@sklv,0,0;
  - Id: 4859
    Name: SPE_85_9
    Description: Bladedance Cloak
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Duration1: 60000
    LPCost: 30
    Combo: 1
  - Id: 4860
    Name: SPE_86
    Description: Deadeye Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","52625",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4861
    Name: SPE_86_1
    Description: Deadeye Chance
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4862
    Name: SPE_86_2
    Description: Deadeye Agile
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4863
    Name: SPE_86_3
    Description: Deadeye Critical
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Visual1: 
  - Id: 4864
    Name: SPE_86_4
    Description: Deadeye Smash
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Visual1: 
  - Id: 4865
    Name: SPE_86_5
    Description: Deadeye Slow
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4866
    Name: SPE_86_6
    Description: Deadeye Bleeding
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Combo: 1
  - Id: 4867
    Name: SPE_86_7
    Description: Deadeye Combo
    MaxLevel: 5
    Script: >
      if (!isskillintree("AC_CONCENTRATION"))
        callfunc "GetSkill","AC_CONCENTRATION",@sklv,@sklv,0,0;
  - Id: 4868
    Name: SPE_86_8
    Description: Deadeye Combo II
    MaxLevel: 5
    Script: >
      if (!isskillintree("AC_OWL"))
        callfunc "GetSkill","AC_OWL",@sklv,@sklv,0,0;
  - Id: 4869
    Name: SPE_86_9
    Description: Deadeye Quickness
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 60000
    LPCost: 30
    Visual1: 1395
    Visual2: 1396
    Combo: 1
    Script: >
      if(getstatus(SC_SPE_4869)) {
        bonus bAspdRate,2*@sklv;
        bonus bMaximumAspdRate,3*@sklv;
      }
  - Id: 4870
    Name: SPE_87
    Description: Revolutioner Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","15351",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4871
    Name: SPE_87_1
    Description: Carter Push
    MaxLevel: 5
    Script: >
      if (!isskillintree("MC_PUSHCART"))
        callfunc "GetSkill","MC_PUSHCART",@sklv*2,@sklv,0,0;
  - Id: 4872
    Name: SPE_87_2
    Description: Carter Revolution
    MaxLevel: 5
    Script: >
      if (isskillintree("MC_CARTREVOLUTION"))
        bonus5 bAddEffOnSkill,"MC_CARTREVOLUTION",SC_SLOW,ALWAYS,ATF_TARGET,500*@sklv;
      else
        callfunc "GetSkill","MC_CARTREVOLUTION",@sklv,@sklv,0,0;
  - Id: 4873
    Name: SPE_87_3
    Description: Carter Change
    MaxLevel: 5
    Script: >
      if (isskillintree("MC_CHANGECART")) {
        bonus bStr,@sklv;
        switch(getstatus(SC_PUSH_CART,1)) {
          case 1: bonus bStr,@sklv; break;
          case 2: bonus bAgi,@sklv; break;
          case 3: bonus bVit,@sklv; break;
          case 4: bonus bInt,@sklv; break;
          case 5: bonus bDex,@sklv; break;
          case 6: bonus bLuk,@sklv; break;
          case 7: bonus bAllStats,1; break;
        }
      } else {
        callfunc "GetSkill","MC_CARTDECORATE",1,1,0,0;
        callfunc "GetSkill","MC_CHANGECART",1,1,0,0;
      }
  - Id: 4874
    Name: SPE_87_4
    Description: Carter Termination
    MaxLevel: 5
    Script: >
      if (isskillintree("WS_CARTTERMINATION"))
        bonus bNoZenyRequirement,5*@sklv;
      else
        callfunc "GetSkill","WS_CARTTERMINATION",@sklv,@sklv,0,0;
  - Id: 4875
    Name: SPE_87_5
    Description: Carter Boost
    MaxLevel: 5
    Script: >
      if (isskillintree("WS_CARTBOOST")) {
        if(getstatus(SC_CARTBOOST))
          bonus bSpeedAddRate,2*@sklv;
      } else
        callfunc "GetSkill","WS_CARTBOOST",@sklv,@sklv,0,0;
  - Id: 4876
    Name: SPE_87_6
    Description: Carter Support
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 11
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 10
    Visual1: 1642
    Visual1: 1641
    SplashArea: 3
    Script: >
  - Id: 4877
    Name: SPE_87_7
    Description: Carter Canon
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 11
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 10
    SplashArea: 2
    Requires:
      State: Cart
  - Id: 4878
    Name: SPE_87_8
    Description: Carter Transport
    MaxLevel: 5
    Type: Magic
    TargetType: Support
    Range: 1
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 60000
    LPCost: 30
    Visual1: 1675
    Requires:
      State: Cart
    Script: >
      if(getstatus(SC_SPE_4878))
        bonus bSpeedAddRate,-(60-10*@sklv);
  - Id: 4879
    Name: SPE_87_9
    Description: Carter Pulsar
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 11
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 3000
    Duration1: 60000
    Cooldown2: 7000
    LPCost: 30
    SplashArea: 3
    Requires:
      State: Cart
  - Id: 4880
    Name: SPE_88
    Description: Tinkerer Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","13531",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4881
    Name: SPE_88_1
    Description: Tinker Create
    MaxLevel: 5
    SkillAttached: WS_SYSTEMCREATE
    Script: >
      callfunc "GetSkill","WS_SYSTEMCREATE",@sklv,@sklv,0,0;
  - Id: 4882
    Name: SPE_88_2
    Description: Tinker Repair
    MaxLevel: 5
    Script: >
      if (isskillintree("BS_REPAIRWEAPON")) {
        bonus2 bStuffResistRate,0,5*@sklv*((getstatus(SC_SPE_4889))?2:1);
      } else
        callfunc "GetSkill","BS_REPAIRWEAPON",@sklv,@sklv,0,0;
  - Id: 4883
    Name: SPE_88_3
    Description: Tinker Skin
    MaxLevel: 5
    Script: >
      if (isskillintree("BS_SKINTEMPER"))
        bonus2 bSubEle,Ele_Neutral,@sklv*((getstatus(SC_SPE_4889))?2:1);
      else
        callfunc "GetSkill","BS_SKINTEMPER",@sklv,@sklv,0,0;
  - Id: 4884
    Name: SPE_88_4
    Description: Tinker Hammer
    MaxLevel: 5
    Script: >
      if (isskillintree("BS_HAMMERFALL"))
        bonus2 bAddEffWhenHit,Eff_Stun,100*((getstatus(SC_SPE_4889))?2:1);
      else
        callfunc "GetSkill","BS_HAMMERFALL",@sklv,@sklv,0,0;
  - Id: 4885
    Name: SPE_88_5
    Description: Tinker Turret
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Flags:
      AllowOnMado: true
    LPCost: 5
    Visual1: 1323
    Cooldown2: 2000
    Script: >
  - Id: 4886
    Name: SPE_88_6
    Description: Tinker Robot
    MaxLevel: 5
    TargetType: Ground
    Range: 9
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    Flags:
      AllowOnMado: true
    CastCancel: true
    CastTime: 1500
    Duration1: 15000
    Cooldown2: 5000
    LPCost: 15
    Visual1: 1643
  - Id: 4887
    Name: SPE_88_7
    Description: Tinker Barrier
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    Flags:
      AllowOnMado: true
    CastCancel: true
    CastTime: 1000
    Duration1: 5000
    Cooldown2: 15000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 10
    Visual1: 1289
    Visual2: 1290
    Requires:
      State: Mado
  - Id: 4888
    Name: SPE_88_8
    Description: Tinker Gadget
    MaxLevel: 5
    TargetType: Self
    DamageFlags:
      NoDamage: true
    Flags:
      AllowOnMado: true
    Script: >
      if(!checkoption(OPTION_MADOGEAR))
        end;
      callfunc "Madogear";
      if(@sklv >= 1)
        skill "NC_F_SIDESLIDE",1;
      if(@sklv >= 2)
        skill "NC_HOVERING",1;
      if(@sklv >= 3)
        skill "NC_SELFDESTRUCTION",1;
      if(@sklv >= 4)
        skill "NC_INFRAREDSCAN",1;
      if(@sklv >= 5)
        skill "NC_REPAIR",1;
    Requires:
      State: Mado
  - Id: 4889
    Name: SPE_88_9
    Description: Tinker Madogear
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1500
    Duration1: 300000
    Cooldown2: 120000
    LPCost: 20
    Visual1: 
    Requires:
      ItemCost:
        - Item: Oridecon
          Amount: 1
    Script: >
      if(getstatus(SC_SPE_4889)) {
        bonus bNoWalkDelay;
        bonus bNoKnockback;
        bonus bNoCastCancel;
        bonus bCastRate,30-2*@sklv;
        bonus bDelayRate,30-2*@sklv;
        bonus bAspdRate,-(30-2*@sklv);
      }
  - Id: 4890
    Name: SPE_89
    Description: Pathfinder Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","52325",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4891
    Name: SPE_89_1
    Description: Pathfind Walk
    MaxLevel: 5
    Script: >
      if (isskillintree("SN_WINDWALK")) {
        if(getstatus(SC_WINDWALK)) {
          bonus bMinimumSpeedRate,10*@sklv;
          bonus bAfterHitRecovery,10*@sklv;
        }
      } else
        callfunc "GetSkill","SN_WINDWALK",@sklv,@sklv,0,0;
  - Id: 4892
    Name: SPE_89_2
    Description: Pathfind Concentration
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_CONCENTRATION"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"AC_CONCENTRATION",4892;
      else
        callfunc "GetSkill","AC_CONCENTRATION",@sklv,@sklv,0,0;
  - Id: 4893
    Name: SPE_89_3
    Description: Pathfind Eye
    MaxLevel: 5
    Script: >
      if (isskillintree("AC_OWL"))
        bonus bHitRate,2*@sklv;
      else
        callfunc "GetSkill","AC_OWL",@sklv,@sklv,0,0;
  - Id: 4894
    Name: SPE_89_4
    Description: Pathfind Attack
    MaxLevel: 5
    Script: >
      bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,0,NO_OPTION,readparam(bHit) * 20 * @sklv / 100,100,DMG_NONE,ELE_NEUTRAL,DEF_NONE,NO_STATUS,EV_ON_HIT,BF_NONE,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,SC_NONE,CDT_NONE;
  - Id: 4895
    Name: SPE_89_5
    Description: Pathfind Immunity
    MaxLevel: 5
    Type: Magic
    TargetType: Support
    Range: 9
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 15
    Visual1: 1639
    Visual1: 1640
    Script: >
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"SPE_89_5",4895;
  - Id: 4896
    Name: SPE_89_6
    Description: Pathfind Endure
    MaxLevel: 5
    Type: Magic
    TargetType: Support
    Range: 9
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    LPCost: 10
    Visual1: 1626
    Visual2: 1600
    Script: >
      bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"SPE_89_6",4896;
  - Id: 4897
    Name: SPE_89_7
    Description: Pathfind Detect
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 10000
    SplashArea:
      - Level: 1
        Area: 1
      - Level: 2
        Area: 2
      - Level: 3
        Area: 3
      - Level: 4
        Area: 4
      - Level: 5
        Area: 5
    LPCost: 10
    Visual1: 1624
  - Id: 4898
    Name: SPE_89_8
    Description: Pathfind Teleport
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2:
      - Level: 1
        Time: 20000
      - Level: 2
        Time: 16000
      - Level: 3
        Time: 12000
      - Level: 4
        Time: 8000
      - Level: 5
        Time: 4000
    LPCost: 10
    Visual1: 1621
  - Id: 4899
    Name: SPE_89_9
    Description: Pathfind Warp
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Cooldown2: 30000
    LPCost: 10
    SplashArea: 7
    Visual1: 1620
  - Id: 4900
    Name: SPE_90
    Description: Ghostmancer Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4901
    Name: SPE_90_1
    Description: Ghost Strike
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        callfunc("skill_kugan_bonus","MG_SOULSTRIKE",@sklv,"add",1);
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_SOULSTRIKE",4901;
      } else
        callfunc "GetSkill","MG_SOULSTRIKE",@sklv*2,@sklv,0,0;
  - Id: 4902
    Name: SPE_90_2
    Description: Ghost Beat
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_NAPALMBEAT"))
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"MG_NAPALMBEAT",4902;
      else
        callfunc "GetSkill","MG_NAPALMBEAT",@sklv*2,@sklv,0,0;
  - Id: 4903
    Name: SPE_90_3
    Description: Ghost Vulcan
    MaxLevel: 5
    Script: >
      if (isskillintree("HW_NAPALMVULCAN")) {
        bonus3 bSkillSplashRange,"HW_NAPALMVULCAN",0,(@sklv>2)+(@sklv>4);
        bonus4 bAutoSpellOnSkill,"HW_NAPALMVULCAN","MG_NAPALMBEAT",getskilllv("MG_NAPALMBEAT")/2,2000+(@sklv > 1)*2000+(@sklv > 3)*2000;
      } else
        callfunc "GetSkill","HW_NAPALMVULCAN",@sklv,@sklv,0,0;
  - Id: 4904
    Name: SPE_90_4
    Description: Ghost Attack
    MaxLevel: 5
    Script: >
      if (isskillintree("MG_SOULSTRIKE")) {
        .@skillratio = 25*readparam(bInt)/100;
        .@skillratio = .@skillratio * (1 + 1 * ((readparam(bInt)>readparam(bDex)) && (readparam(bInt)>readparam(bStr))));
        bonus2 bSkillAtk,"NPC_TELEKINESISATTACK",.@skillratio;
        bonus2 bSkillCooldownRate,"NPC_TELEKINESISATTACK",5*@sklv;
      }
      callfunc "GetSkill","NPC_TELEKINESISATTACK",@sklv*2,@sklv,0,0;
  - Id: 4905
    Name: SPE_90_5
    Description: Ghost Buster
    MaxLevel: 5
  - Id: 4906
    Name: SPE_90_6
    Description: Ghost Telekinesis
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 1000
    Duration1: 30000
    Cooldown2: 10000
    LPCost: 15
    Visual1: 871
    Script: >
      if(!getstatus(SC_SPE_4906))
        end;
      bonus2 bElementMastery,Ele_Ghost,4*@sklv;
      bonus4 bAutoSpellOnSkill,"WZ_STORMGUST","MG_SOULSTRIKE",2,200*@sklv;
      bonus4 bAutoSpellOnSkill,"WZ_VERMILION","MG_SOULSTRIKE",2,200*@sklv;
      bonus4 bAutoSpellOnSkill,"WZ_METEOR","MG_SOULSTRIKE",2,200*@sklv;
      bonus4 bAutoSpellOnSkill,"NPC_EARTHQUAKE","MG_SOULSTRIKE",2,200*@sklv;
      if(@ghost) {
        bonus2 bSkillElement,"WZ_STORMGUST",Ele_Ghost;
        bonus2 bSkillElement,"WZ_VERMILION",Ele_Ghost;
        bonus2 bSkillElement,"WZ_METEOR",Ele_Ghost;
        bonus2 bSkillElement,"NPC_EARTHQUAKE",Ele_Ghost;
        bonus2 bSkillAtk,"WZ_STORMGUST",-50+10*@sklv;
        bonus2 bSkillAtk,"WZ_VERMILION",-50+10*@sklv;
        bonus2 bSkillAtk,"WZ_METEOR",-50+10*@sklv;
        bonus2 bSkillAtk,"NPC_EARTHQUAKE",-50+10*@sklv;
      }
  - Id: 4907
    Name: SPE_90_7
    Description: Ghost Haunting
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 5
    DamageFlags:
      NoDamage: true
    CastCancel: true
    Duration1: 60000
    LPCost: 20
    Visual1: 870
    Visual2: 358
    Unit:
      Id: Dummyskill
      Range: 5
      Target: Enemy
      Interval: 3000
      Flag:
        NoOverlap: true
  - Id: 4908
    Name: SPE_90_8
    Description: Ghost Fear
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Duration1: 180000
    Cooldown2: 60000
    LPCost: 20
    Visual1: 692
    Visual2: 692
    Script: >
      if(getstatus(SC_SPE_4908)) {
        bonus2 bResEff,Eff_Curse,1000*@sklv;
        bonus2 bReflectStatus,Eff_Curse,1000*@sklv;
        bonus2 bAddEffWhenHit,Eff_Curse,400*@sklv;
        bonus3 bSkillStatusAddRate,"MG_SOULSTRIKE",Eff_Curse,3*@sklv;
        bonus3 bSkillStatusAddRate,"MG_NAPALMBEAT",Eff_Curse,3*@sklv;
        bonus3 bSkillStatusAddRate,"HW_NAPALMVULCAN",Eff_Curse,3*@sklv;
        bonus3 bSkillStatusAddRate,"NPC_TELEKINESISATTACK",Eff_Curse,3*@sklv;
      }
  - Id: 4909
    Name: SPE_90_9
    Description: Ghost Spectrum
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 9
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Duration1: 180000
    Cooldown2: 60000
    LPCost: 20
    Visual1: 1578
  - Id: 4910
    Name: SPE_91
    Description: Oracle Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","46564",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4911
    Name: SPE_91_1
    Description: Holy Light
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_HOLYLIGHT"))
        bonus5 bAddEffOnSkill,"AL_HOLYLIGHT",Eff_Burning,ALWAYS,ATF_TARGET,2000*@sklv;
      else
        callfunc "GetSkill","AL_HOLYLIGHT",@sklv,@sklv,0,0;
  - Id: 4912
    Name: SPE_91_2
    Description: Holy Magnus
    MaxLevel: 5
    Script: >
      if (!isskillintree("PR_MAGNUS")) {
        callfunc "GetSkill","PR_MAGNUS",@sklv*2,@sklv,0,0;
      } else {
        bonus2 bSkillAtk,"PR_MAGNUS",-90+10*@sklv+(@sklv>=5)*10;
      }
  - Id: 4913
    Name: SPE_91_3
    Description: Holy Benedictio
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_BENEDICTIO"))
        bigbonus bBattleBonus,ALWAYS,NO_STATUS,0,0,0,0,0,0,NO_OPTION,NO_DAMAGE,30*@sklv,DMG_MATK,ELE_HOLY,DEF_MDEF,NO_STATUS,EV_WHEN_HIT,BF_NONE,TG_TARGET,0,NO_VISUAL,0,0,0,0,0,0,SC_BENEDICTIO,CDT_SELF;
      else
        callfunc "GetSkill","PR_BENEDICTIO",@sklv,@sklv,0,0;
  - Id: 4914
    Name: SPE_91_4
    Description: Holy Sanctuary
    MaxLevel: 5
    Script: >
      if (!isskillintree("PR_SANCTUARY"))
        callfunc "GetSkill","PR_SANCTUARY",@sklv,@sklv,0,0;
  - Id: 4915
    Name: SPE_91_5
    Description: Holy Aeterna
    MaxLevel: 5
    Script: >
      if (isskillintree("PR_LEXAETERNA")) {
        bonus5 bAddEffOnSkill,"PR_LEXAETERNA",Eff_Stun,ALWAYS,ATF_TARGET,200*@sklv;
        bonus4 bSkillScript,ALWAYS,NO_COOLDOWN,"PR_LEXAETERNA",4915;
      } else
        callfunc "GetSkill","PR_LEXAETERNA",@sklv,@sklv,0,0;
  - Id: 4916
    Name: SPE_91_6
    Description: Holy Ruwach
    MaxLevel: 5
    Script: >
      if (isskillintree("AL_RUWACH")) {
        callfunc("skill_kugan_bonus","AL_RUWACH",@sklv,"add",1);
        bonus2 bSkillUseSP,"AL_RUWACH",-2*@sklv;
        bonus2 bSkillAtk,"AL_RUWACH",5*@sklv;
      } else
        callfunc "GetSkill","AL_RUWACH",@sklv,@sklv,0,1;
  - Id: 4917
    Name: SPE_91_7
    Description: Holy Mastery
    MaxLevel: 5
    Script: >
      bonus2 bElementMastery,Ele_Holy,5*@sklv;
  - Id: 4918
    Name: SPE_91_8
    Description: Holy Balance
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 15000
    Cooldown2:
      - Level: 1
        Time: 30000
      - Level: 2
        Time: 25000
      - Level: 3
        Time: 20000
      - Level: 4
        Time: 15000
      - Level: 5
        Time: 10000
    LPCost: 20
    Visual1: 1258
    SplashArea: 5
  - Id: 4919
    Name: SPE_91_9
    Description: Holy Summon
    MaxLevel: 5
    Type: Magic
    TargetType: Ground
    Range: 9
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 2500
    Duration1: 180000
    Cooldown2: 60000
    LPCost: 30
    Visual1: 1259
  - Id: 4920
    Name: SPE_92
    Description: Scrollmaster Specialization
    MaxLevel: 5
    Script: >
      callfunc "KuganStats","65656",@sklv;
      callfunc "KuganHp",@sklv;
  - Id: 4921
    Name: SPE_92_1
    Description: Scroll Fire
    MaxLevel: 5
    Script: >
  - Id: 4922
    Name: SPE_92_2
    Description: Scroll Water
    MaxLevel: 5
    Script: >
  - Id: 4923
    Name: SPE_92_3
    Description: Scroll Wind
    MaxLevel: 5
    Script: >
  - Id: 4924
    Name: SPE_92_4
    Description: Scroll Earth
    MaxLevel: 5
    Script: >
  - Id: 4925
    Name: SPE_92_5
    Description: Scroll Soul
    MaxLevel: 5
    Script: >
  - Id: 4926
    Name: SPE_92_6
    Description: Scroll Extension
    MaxLevel: 5
    Script: >
  - Id: 4927
    Name: SPE_92_7
    Description: Scroll Mastery
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
  - Id: 4928
    Name: SPE_92_8
    Description: Scroll Storage
    MaxLevel: 5
    Script: >
      setarray .@scroll,691,697,689,12000,693,8649,687,8650,695,12002;
      for(.@i = 0; .@i < 10; .@i++)
        .@bonus += @sklv*countitem(.@scroll[.@i]);
      bonus bAddWeight,-.@bonus;
  - Id: 4929
    Name: SPE_92_9
    Description: Scroll Secrets
    MaxLevel: 5
    Type: Magic
    TargetType: Self
    DamageFlags:
      NoDamage: true
    CastTimeFlags:
      IgnoreDex: true
    CastCancel: true
    CastTime: 500
    Duration1: 60000
    Cooldown2: 7000
    LPCost: 15
    Visual1: 1231
    Script: >
      if(getstatus(SC_SPE_4929)) {
        switch (getiteminfo(getequipid(EQI_HAND_R),11)) {
          case W_STAFF: bonus2 bSkillRange,scrollskill,@sklv * ((scrollmode) ? 2 : 1); break;
          case W_2HSTAFF: bonus2 bSkillAtk,scrollskill,@sklv * 4 * ((scrollmode) ? 2 : 1); break;
          case W_BOOK: bonus2 bCastRate,scrollskill,-@sklv * 10 * ((scrollmode) ? 2 : 1); break;
        }
        if(isskillintree(scrollskill))
          bonus2 bSkillAtk,scrollskill,@sklv*4 * ((scrollmode) ? 2 : 1);
        if(@scrollskill == 15 && isskillintree(scrollskill))
          bonus3 bAddEffOnSkill,scrollskill,Eff_Freeze,400 * @sklv * ((scrollmode) ? 2 : 1);
        if(@scrollskill == 16 && isskillintree(scrollskill))
          bonus3 bAddEffOnSkill,scrollskill,Eff_Stone,400 * @sklv * ((scrollmode) ? 2 : 1);
        bigbonus bBattleScript,((getpcparam(15) > 4)?400:600) * @sklv * ((scrollmode) ? 2 : 1),EV_ON_HIT,BF_NONE,NO_COOLDOWN,NO_SKILL,4929;
        bonus2 bSkillUseSP,scrollskill,10000;
      }